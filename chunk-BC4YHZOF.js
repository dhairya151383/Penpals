import{j as H}from"./chunk-TRGRSSL6.js";import{c as V}from"./chunk-4YDIKXSZ.js";import"./chunk-TL62S5XC.js";import"./chunk-S6YN4RDA.js";import{a as G}from"./chunk-THAV5HDO.js";import{a as $}from"./chunk-IWDVFKXM.js";import{A as y,Aa as E,Db as j,Ea as d,Gb as R,Ha as T,Ib as N,Oa as h,Pa as _,Q as g,Xa as z,a as M,ba as I,ca as u,ea as i,ha as f,i as w,ia as S,j as C,l as O,m as P,na as c,ob as D,pb as L,qa as n,qb as F,r as v,s as m,sa as x,vb as U,wa as a,xa as r,y as k,ya as s,za as A}from"./chunk-NOMZ4WY3.js";import"./chunk-MG3ERZGY.js";var Y=e=>["/author/edit",e];function K(e,o){e&1&&s(0,"app-loading-spinner")}function q(e,o){e&1&&(a(0,"span",24),h(1,"|"),r())}function J(e,o){if(e&1&&(A(0),a(1,"span",22),h(2),r(),c(3,q,2,0,"span",23),E()),e&2){let t=o.$implicit,l=o.index,p=o.last;i(),n("ngClass","tag-color-"+l%5),i(),_(t),i(),n("ngIf",!p)}}function Q(e,o){if(e&1&&(a(0,"a",29),g(),a(1,"svg",30),s(2,"path",31),r()()),e&2){let t=d(3);n("href",t.author.socialLinks.twitter,u)}}function W(e,o){if(e&1&&(a(0,"a",32),g(),a(1,"svg",30),s(2,"path",33),r()()),e&2){let t=d(3);n("href",t.author.socialLinks.linkedin,u)}}function X(e,o){if(e&1&&(a(0,"a",34),g(),a(1,"svg",30),s(2,"path",35),r()()),e&2){let t=d(3);n("href",t.author.socialLinks.facebook,u)}}function Z(e,o){if(e&1&&(a(0,"div",25),c(1,Q,3,1,"a",26)(2,W,3,1,"a",27)(3,X,3,1,"a",28),r()),e&2){let t=d(2);i(),n("ngIf",t.author.socialLinks==null?null:t.author.socialLinks.twitter),i(),n("ngIf",t.author.socialLinks==null?null:t.author.socialLinks.linkedin),i(),n("ngIf",t.author.socialLinks==null?null:t.author.socialLinks.facebook)}}function tt(e,o){if(e&1&&s(0,"img",36),e&2){let t=d(2);T("alt",t.author.name),n("src",t.author.avatarUrl,u)}}function et(e,o){if(e&1&&s(0,"p",37),e&2){let t=d(2);n("innerHTML",t.author.bio,I)}}function nt(e,o){if(e&1&&(a(0,"button",38),h(1," \u270F\uFE0F Edit Author "),r()),e&2){let t=d(2);n("routerLink",z(1,Y,t.author.id))}}function it(e,o){if(e&1&&(a(0,"div",39),s(1,"app-article-list-carousel",40),r()),e&2){let t=d(2);i(),n("authorId",t.author.id)("filterPublished",!1)("isFeaturedCarousel",!1)("showCardTags",!1)("cardsToShow",2)}}function ot(e,o){if(e&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5),h(4),r(),a(5,"div",6)(6,"div",7),c(7,J,4,3,"ng-container",8),r(),c(8,Z,4,3,"div",9),r()(),a(9,"div",10)(10,"div",11),c(11,tt,1,2,"img",12),r(),a(12,"div",13)(13,"h2",14),h(14),r(),c(15,et,1,1,"p",15),r()(),a(16,"div",16),c(17,nt,2,3,"button",17),r()(),s(18,"hr"),a(19,"div",18)(20,"div",19),s(21,"app-article-list-carousel",20),r(),c(22,it,2,5,"div",21),r()()),e&2){let t=d();i(4),_(t.author.name),i(3),n("ngForOf",t.author.tags),i(),n("ngIf",t.author.socialLinks),i(3),n("ngIf",t.author.avatarUrl),i(3),_(t.author.name),i(),n("ngIf",t.author.bio),i(2),n("ngIf",t.canEdit),i(2),x("full-width-single-carousel",!t.canEdit),i(),x("half-width",t.canEdit)("full-width",!t.canEdit),i(),n("authorId",t.author.id)("isFeaturedCarousel",!1)("showCardTags",!1)("cardsToShow",2)("filterPublished",!0),i(),n("ngIf",t.canEdit)}}var B=class e{constructor(o,t,l){this.route=o;this.authorService=t;this.authService=l}author=null;canEdit=!1;loading=!0;subscriptions=new M;ngOnInit(){this.loading=!0;let o=this.route.paramMap.pipe(O(t=>t.get("id")),v(t=>!!t));this.subscriptions.add(P([o.pipe(k(t=>w(this.authorService.getById(t)).pipe(m(l=>(console.error("Error fetching author:",l),this.author=null,C(null)))))),this.authService.user$.pipe(v(t=>this.authService.authReady$.value),m(t=>(console.error("Error fetching auth user:",t),C(null))))]).pipe(y(([t,l])=>{this.author=t;let p=l?.uid??null,b=l?.roles?.admin===!0;this.canEdit=p!==null&&p===t?.id||b,this.loading=!1,console.log("Author ID:",t?.id),console.log("Logged-in User UID:",p),console.log("Is Admin:",b),console.log("Can Edit (author.id === user.uid || isAdmin):",this.canEdit)}),m(t=>(console.error("Error in combineLatest stream:",t),this.loading=!1,[]))).subscribe(()=>{},t=>{console.error("Subscription error in AuthorDetailsComponent:",t)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(t){return new(t||e)(f(j),f(G),f(H))};static \u0275cmp=S({type:e,selectors:[["app-author-details"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","author-details-container",4,"ngIf"],[1,"author-details-container"],[1,"author-card"],[1,"author-header"],[1,"author-main-title"],[1,"author-header-nav"],[1,"author-header-tags"],[4,"ngFor","ngForOf"],["class","header-social-links",4,"ngIf"],[1,"author-content-body"],[1,"author-left"],["class","avatar",3,"src","alt",4,"ngIf"],[1,"author-right"],[1,"author-subtitle"],["class","author-bio",3,"innerHTML",4,"ngIf"],[1,"edit-button-wrapper"],["class","edit-button",3,"routerLink",4,"ngIf"],[1,"author-articles-carousels-wrapper"],[1,"author-articles-section"],["headerText","Already Displayed Articles",3,"authorId","isFeaturedCarousel","showCardTags","cardsToShow","filterPublished"],["class","author-articles-section second-carousel half-width",4,"ngIf"],[1,"header-tag",3,"ngClass"],["class","tag-divider",4,"ngIf"],[1,"tag-divider"],[1,"header-social-links"],["target","_blank","aria-label","Twitter",3,"href",4,"ngIf"],["target","_blank","aria-label","LinkedIn",3,"href",4,"ngIf"],["target","_blank","aria-label","Facebook",3,"href",4,"ngIf"],["target","_blank","aria-label","Twitter",3,"href"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"social-icon"],["d","M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.799-1.574 2.162-2.722-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.594 0 .509.055 1.003.155 1.481-5.399-.27-10.169-2.868-13.376-6.848-.547.934-.863 2.015-.863 3.161 0 2.246 1.14 4.254 2.873 5.429-.846-.026-1.644-.26-2.348-.647v.081c0 3.135 2.224 5.766 5.141 6.363-.428.113-.884.172-1.357.172-.335 0-.65-.035-.96-.092.819 2.564 3.171 4.444 5.955 4.494-2.204 1.73-4.99 2.766-8.02 2.766-.525 0-1.04-.03-1.547-.091 2.844 1.83 6.208 2.897 9.883 2.897 11.836 0 18.307-9.873 18.307-18.307 0-.278-.006-.557-.019-.836.858-.618 1.6-1.394 2.189-2.278z"],["target","_blank","aria-label","LinkedIn",3,"href"],["d","M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.761 0 5-2.239 5-5v-14c0-2.761-2.239-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"],["target","_blank","aria-label","Facebook",3,"href"],["d","M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.909c0-1.09.272-1.909 1.909-1.909h2.091v-3h-3.159c-3.121 0-4.841 1.716-4.841 4.669v2.331z"],[1,"avatar",3,"src","alt"],[1,"author-bio",3,"innerHTML"],[1,"edit-button",3,"routerLink"],[1,"author-articles-section","second-carousel","half-width"],["headerText","Saved Drafts",3,"authorId","filterPublished","isFeaturedCarousel","showCardTags","cardsToShow"]],template:function(t,l){t&1&&c(0,K,1,0,"app-loading-spinner",0)(1,ot,23,19,"div",1),t&2&&(n("ngIf",l.loading),i(),n("ngIf",!l.loading&&l.author))},dependencies:[U,D,L,F,N,R,$,V],styles:[".author-details-container[_ngcontent-%COMP%]{width:95%;margin:2rem auto;box-sizing:border-box}.author-card[_ngcontent-%COMP%]{width:100%;max-width:95%;margin:0 auto 2rem;background:#fff;border-radius:16px;box-shadow:0 8px 20px #0000001a;padding:2rem;box-sizing:border-box;overflow-x:auto}.author-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.author-main-title[_ngcontent-%COMP%]{font-family:Kalam,cursive;font-size:3.5rem;color:#e57373;position:relative;display:inline-block;margin-top:2rem;margin-bottom:1rem}.title-illustration[_ngcontent-%COMP%]{position:absolute;width:50px;height:auto;top:-20px;transform:translateY(-50%)}.bird-top[_ngcontent-%COMP%]{left:-60px}.cat-top[_ngcontent-%COMP%]{right:-60px}.author-header-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-bottom:2rem;font-family:Arial,sans-serif;font-size:1.1rem;flex-wrap:wrap}.author-header-tags[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.header-tag[_ngcontent-%COMP%]{color:#333;text-decoration:none;padding:.5rem 1rem;white-space:nowrap;border-radius:5px;transition:color .3s ease}.header-tag[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.author-header-tags[_ngcontent-%COMP%]   .header-tag[_ngcontent-%COMP%]:nth-child(1){color:#fb8c00}.author-header-tags[_ngcontent-%COMP%]   .header-tag[_ngcontent-%COMP%]:nth-child(3){color:#43a047}.author-header-tags[_ngcontent-%COMP%]   .header-tag[_ngcontent-%COMP%]:nth-child(5){color:#2196f3}.author-header-tags[_ngcontent-%COMP%]   .header-tag[_ngcontent-%COMP%]:nth-child(7){color:#e53935}.author-header-tags[_ngcontent-%COMP%]   .header-tag[_ngcontent-%COMP%]:nth-child(9){color:#8e24aa}.tag-divider[_ngcontent-%COMP%]{color:#ccc;font-size:1.1rem;white-space:nowrap}.header-social-links[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.social-icon[_ngcontent-%COMP%]{width:28px;height:28px;transition:transform .2s ease,fill .3s ease}.header-social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .social-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.header-social-links[_ngcontent-%COMP%]   a[aria-label=Shop][_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{fill:#000}.header-social-links[_ngcontent-%COMP%]   a[aria-label=Instagram][_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{fill:#c13584}.header-social-links[_ngcontent-%COMP%]   a[aria-label=TikTok][_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{fill:#000}.header-social-links[_ngcontent-%COMP%]   a[aria-label=Facebook][_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{fill:#1877f2}.author-content-body[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:2rem;align-items:flex-start;margin-top:2rem}.author-left[_ngcontent-%COMP%]{flex:1 1 250px;text-align:center}.avatar[_ngcontent-%COMP%]{width:100%;max-width:468px;border-radius:10px;object-fit:cover;box-shadow:0 4px 12px #0000001a}.author-right[_ngcontent-%COMP%]{flex:2 1 0;min-width:0;padding-top:0}.author-subtitle[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem;font-family:Georgia,serif;color:#333}.pronouns[_ngcontent-%COMP%]{font-size:1.1rem;color:#666;font-weight:400}.author-bio[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;margin-bottom:1rem;word-break:normal;overflow-wrap:break-word;white-space:normal;max-width:100%}.author-bio[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{max-width:100%;word-wrap:break-word;overflow-wrap:break-word;box-sizing:border-box}.author-bio[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .author-bio[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .author-bio[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;margin-top:1.2rem;margin-bottom:.8rem}.author-bio[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%], .author-bio[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:1rem;background-color:#f8f8f8;padding:.7rem;border-radius:6px;overflow-x:auto;display:block;white-space:pre-wrap;word-wrap:break-word}.edit-button-wrapper[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}.edit-button[_ngcontent-%COMP%]{background-color:#007acc;color:#fff;padding:.8rem 1.5rem;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.edit-button[_ngcontent-%COMP%]:hover{background-color:#005f99}.author-articles-carousels-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:2rem;margin-top:2rem}.author-articles-section[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:0;min-width:300px;box-sizing:border-box}.half-width[_ngcontent-%COMP%]{width:calc(50% - 1rem)}.full-width[_ngcontent-%COMP%]{width:100%}@media (max-width: 992px){.author-articles-carousels-wrapper[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.author-articles-section.half-width[_ngcontent-%COMP%], .author-articles-section.full-width[_ngcontent-%COMP%]{width:100%}}@media (max-width: 768px){.author-details-container[_ngcontent-%COMP%]{width:95%}.author-content-body[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.author-left[_ngcontent-%COMP%], .author-right[_ngcontent-%COMP%]{width:100%;text-align:center}.author-subtitle[_ngcontent-%COMP%]{font-size:1.6rem}.author-main-title[_ngcontent-%COMP%]{font-size:2.5rem}.title-illustration[_ngcontent-%COMP%]{width:30px;top:50%;transform:translateY(-50%)}.bird-top[_ngcontent-%COMP%]{left:-35px}.cat-top[_ngcontent-%COMP%]{right:-35px}.author-header-nav[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.author-header-tags[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}"]})};export{B as AuthorDetailsComponent};
