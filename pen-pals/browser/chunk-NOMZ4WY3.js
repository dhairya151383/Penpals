import{a as F,b as ye,g as xr,h as _}from"./chunk-MG3ERZGY.js";function G(n){return typeof n=="function"}function mo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Nu=mo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function pi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Le=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){e=o instanceof Nu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Uw(o)}catch(s){e=e??[],s instanceof Nu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Nu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Uw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&pi(t,e)}remove(e){let{_finalizers:t}=this;t&&pi(t,e),e instanceof n&&e._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var yp=Le.EMPTY;function Mu(n){return n instanceof Le||n&&"closed"in n&&G(n.remove)&&G(n.add)&&G(n.unsubscribe)}function Uw(n){G(n)?n():n.unsubscribe()}var tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yo={setTimeout(n,e,...t){let{delegate:r}=yo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=yo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Pu(n){yo.setTimeout(()=>{let{onUnhandledError:e}=tn;if(e)e(n);else throw n})}function _a(){}var Bw=vp("C",void 0,void 0);function $w(n){return vp("E",void 0,n)}function Hw(n){return vp("N",n,void 0)}function vp(n,e,t){return{kind:n,value:e,error:t}}var gi=null;function vo(n){if(tn.useDeprecatedSynchronousErrorHandling){let e=!gi;if(e&&(gi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=gi;if(gi=null,t)throw r}}else n()}function zw(n){tn.useDeprecatedSynchronousErrorHandling&&gi&&(gi.errorThrown=!0,gi.error=n)}var mi=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mu(e)&&e.add(this)):this.destination=HP}static create(e,t,r){return new Wn(e,t,r)}next(e){this.isStopped?Ip(Hw(e),this):this._next(e)}error(e){this.isStopped?Ip($w(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ip(Bw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BP=Function.prototype.bind;function _p(n,e){return BP.call(n,e)}var Ep=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xu(r)}else xu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xu(t)}}},Wn=class extends mi{constructor(e,t,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_p(e.next,o),error:e.error&&_p(e.error,o),complete:e.complete&&_p(e.complete,o)}):i=e}this.destination=new Ep(i)}};function xu(n){tn.useDeprecatedSynchronousErrorHandling?zw(n):Pu(n)}function $P(n){throw n}function Ip(n,e){let{onStoppedNotification:t}=tn;t&&yo.setTimeout(()=>t(n,e))}var HP={closed:!0,next:_a,error:$P,complete:_a};var _o=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mt(n){return n}function wp(...n){return Tp(n)}function Tp(n){return n.length===0?mt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=qP(t)?t:new Wn(t,r,i);return vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=qw(r),new r((i,o)=>{let s=new Wn({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[_o](){return this}pipe(...t){return Tp(t)(this)}toPromise(t){return t=qw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function qw(n){var e;return(e=n??tn.Promise)!==null&&e!==void 0?e:Promise}function zP(n){return n&&G(n.next)&&G(n.error)&&G(n.complete)}function qP(n){return n&&n instanceof mi||zP(n)&&Mu(n)}var Gw=mo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ku(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Gw}next(t){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?yp:(this.currentObservers=null,o.push(t),new Le(()=>{this.currentObservers=null,pi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new ku(e,t),n})(),ku=class extends Ne{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:yp}};function Ou(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Kw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Ww(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yi(n){return this instanceof yi?(this.v=n,this):new yi(n)}function Qw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(w){return Promise.resolve(w).then(y,p)}}function a(y,w){r[y]&&(i[y]=function(A){return new Promise(function(R,k){o.push([y,A,R,k])>1||u(y,A)})},w&&(i[y]=w(i[y])))}function u(y,w){try{l(r[y](w))}catch(A){g(o[0][3],A)}}function l(y){y.value instanceof yi?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,w){y(w),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Yw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ww=="function"?Ww(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Io=n=>n&&typeof n.length=="number"&&typeof n!="function";function Lu(n){return G(n?.then)}function Fu(n){return G(n[_o])}function Vu(n){return Symbol.asyncIterator&&G(n?.[Symbol.asyncIterator])}function ju(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Uu=GP();function Bu(n){return G(n?.[Uu])}function $u(n){return Qw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield yi(t.read());if(i)return yield yi(void 0);yield yield yi(r)}}finally{t.releaseLock()}})}function Hu(n){return G(n?.getReader)}function Ce(n){if(n instanceof de)return n;if(n!=null){if(Fu(n))return WP(n);if(Io(n))return KP(n);if(Lu(n))return QP(n);if(Vu(n))return Jw(n);if(Bu(n))return YP(n);if(Hu(n))return JP(n)}throw ju(n)}function WP(n){return new de(e=>{let t=n[_o]();if(G(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KP(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function QP(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Pu)})}function YP(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Jw(n){return new de(e=>{ZP(n,e).catch(t=>e.error(t))})}function JP(n){return Jw($u(n))}function ZP(n,e){var t,r,i,o;return Kw(this,void 0,void 0,function*(){try{for(t=Yw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Et(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Dp(n){return G(n?.lift)}function ie(n){return e=>{if(Dp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(n,e,t,r,i){return new bp(n,e,t,r,i)}var bp=class extends mi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ia(n,e=0){return ie((t,r)=>{t.subscribe(oe(r,i=>Et(r,n,()=>r.next(i),e),()=>Et(r,n,()=>r.complete(),e),i=>Et(r,n,()=>r.error(i),e)))})}function Ea(n,e=0){return ie((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Zw(n,e){return Ce(n).pipe(Ea(e),Ia(e))}function Xw(n,e){return Ce(n).pipe(Ea(e),Ia(e))}function eT(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function tT(n,e){return new de(t=>{let r;return Et(t,e,()=>{r=n[Uu](),Et(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function zu(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{Et(t,e,()=>{let r=n[Symbol.asyncIterator]();Et(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function nT(n,e){return zu($u(n),e)}function rT(n,e){if(n!=null){if(Fu(n))return Zw(n,e);if(Io(n))return eT(n,e);if(Lu(n))return Xw(n,e);if(Vu(n))return zu(n,e);if(Bu(n))return tT(n,e);if(Hu(n))return nT(n,e)}throw ju(n)}function Se(n,e){return e?rT(n,e):Ce(n)}function iT(n){return n&&G(n.schedule)}function oT(n){return n[n.length-1]}function qu(n){return G(oT(n))?n.pop():void 0}function kr(n){return iT(oT(n))?n.pop():void 0}function W(...n){let e=kr(n);return Se(n,e)}function se(n,e){return ie((t,r)=>{let i=0;t.subscribe(oe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:XP}=Array,{getPrototypeOf:ex,prototype:tx,keys:nx}=Object;function Gu(n){if(n.length===1){let e=n[0];if(XP(e))return{args:e,keys:null};if(rx(e)){let t=nx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function rx(n){return n&&typeof n=="object"&&ex(n)===tx}var{isArray:ix}=Array;function ox(n,e){return ix(e)?n(...e):n(e)}function Eo(n){return se(e=>ox(n,e))}function Wu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function wa(...n){let e=kr(n),t=qu(n),{args:r,keys:i}=Gu(n);if(r.length===0)return Se([],e);let o=new de(sx(r,e,i?s=>Wu(i,s):mt));return t?o.pipe(Eo(t)):o}function sx(n,e,t=mt){return r=>{sT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)sT(e,()=>{let l=Se(n[u],e),h=!1;l.subscribe(oe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function sT(n,e,t){n?Et(t,n,e):e()}function yt(n,e){return ie((t,r)=>{let i=0;t.subscribe(oe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Kn(n){return ie((e,t)=>{let r=null,i=!1,o;r=e.subscribe(oe(t,void 0,void 0,s=>{o=Ce(n(s,Kn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var Ku=class extends Le{constructor(e,t){super()}schedule(e,t=0){return this}};var Ta={setInterval(n,e,...t){let{delegate:r}=Ta;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ta;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var wo=class extends Ku{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ta.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ta.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,pi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Da={now(){return(Da.delegate||Date).now()},delegate:void 0};var To=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};To.now=Da.now;var Do=class extends To{constructor(e,t=To.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Cp=new Do(wo);function aT(n,e=Cp){return ie((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(oe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function ax(n,e=mt){return n=n??cx,ie((t,r)=>{let i,o=!0;t.subscribe(oe(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function cx(n,e){return n===e}function cT(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?w(A):u.push(A),w=A=>{o&&e.next(A),l++;let R=!1;Ce(t(A,h++)).subscribe(oe(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?Et(e,s,()=>w(k)):w(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(oe(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Me(n,e,t=1/0){return G(e)?Me((r,i)=>se((o,s)=>e(r,o,i,s))(Ce(n(r,i))),t):(typeof e=="number"&&(t=e),ie((r,i)=>cT(r,i,n,t)))}function bo(n=1/0){return Me(mt,n)}function uT(){return bo(1)}function Co(...n){return uT()(Se(n,kr(n)))}function Qu(...n){let e=kr(n);return ie((t,r)=>{(e?Co(n,t,e):Co(n,t)).subscribe(r)})}function wt(n,e){return ie((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(oe(r,u=>{i?.unsubscribe();let l=0,h=o++;Ce(n(u,h)).subscribe(i=oe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function et(n,e,t){let r=G(n)||e||t?{next:n,error:e,complete:t}:n;return r?ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(oe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mt}function So(){return ie((n,e)=>{let t=null;n._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ao=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Dp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let t=this.getSubject();e.add(this.source.subscribe(oe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return So()(this)}};var tt=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Yu=class extends Ne{constructor(e=1/0,t=1/0,r=Da){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var Ju=class extends wo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Zu=class extends Do{};var ux=new Zu(Ju);var Tt=new de(n=>n.complete());function Ro(n,e){let t=G(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function Sp(n){return!!n&&(n instanceof de||G(n.lift)&&G(n.subscribe))}var Qn=mo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Xu(n){return new de(e=>{Ce(n()).subscribe(e)})}function lx(...n){let e=qu(n),{args:t,keys:r}=Gu(n),i=new de(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ce(t[h]).subscribe(oe(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Wu(r,a):a),o.complete())}))}});return e?i.pipe(Eo(e)):i}var dx=["addListener","removeListener"],hx=["addEventListener","removeEventListener"],fx=["on","off"];function Ap(n,e,t,r){if(G(t)&&(r=t,t=void 0),r)return Ap(n,e,t).pipe(Eo(r));let[i,o]=mx(n)?hx.map(s=>a=>n[s](e,a,t)):px(n)?dx.map(lT(n,e)):gx(n)?fx.map(lT(n,e)):[];if(!i&&Io(n))return Me(s=>Ap(s,e,t))(Ce(n));if(!i)throw new TypeError("Invalid event target");return new de(s=>{let a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function lT(n,e){return t=>r=>n[t](e,r)}function px(n){return G(n.addListener)&&G(n.removeListener)}function gx(n){return G(n.on)&&G(n.off)}function mx(n){return G(n.addEventListener)&&G(n.removeEventListener)}function dT(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(oe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function yn(n,e){return G(e)?Me(n,e,1):Me(n,1)}function Or(n){return ie((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Yn(n){return n<=0?()=>Tt:ie((e,t)=>{let r=0;e.subscribe(oe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function el(n=yx){return ie((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function yx(){return new Qn}function vi(n){return ie((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Jn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?yt((i,o)=>n(i,o,r)):mt,Yn(1),t?Or(e):el(()=>new Qn))}function No(n){return n<=0?()=>Tt:ie((e,t)=>{let r=[];e.subscribe(oe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?yt((i,o)=>n(i,o,r)):mt,No(1),t?Or(e):el(()=>new Qn))}function Np(n,e){return ie(dT(n,e,arguments.length>=2,!0))}function hT(n={}){let{connector:e=()=>new Ne,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=u=void 0,h=p=!1},w=()=>{let A=s;y(),A?.unsubscribe()};return ie((A,R)=>{l++,!p&&!h&&g();let k=u=u??e();R.add(()=>{l--,l===0&&!p&&!h&&(a=Mp(w,i))}),k.subscribe(R),!s&&l>0&&(s=new Wn({next:z=>k.next(z),error:z=>{p=!0,g(),a=Mp(y,t,z),k.error(z)},complete:()=>{h=!0,g(),a=Mp(y,r),k.complete()}}),Ce(A).subscribe(s))})(o)}}function Mp(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Wn({next:()=>{r.unsubscribe(),n()}});return Ce(e(...t)).subscribe(r)}function vx(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,hT({connector:()=>new Yu(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Pp(n){return ie((e,t)=>{Ce(n).subscribe(oe(t,()=>t.complete(),_a)),!t.closed&&e.subscribe(t)})}function Lp(n,e){return Object.is(n,e)}var qe=null,tl=!1,Fp=1,Ht=Symbol("SIGNAL");function ce(n){let e=qe;return qe=n,e}function Vp(){return qe}var Mo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ca(n){if(tl)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(n);let e=qe.nextProducerIndex++;if(sl(qe),e<qe.producerNode.length&&qe.producerNode[e]!==n&&ba(qe)){let t=qe.producerNode[e];ol(t,qe.producerIndexOfThis[e])}qe.producerNode[e]!==n&&(qe.producerNode[e]=n,qe.producerIndexOfThis[e]=ba(qe)?pT(n,qe,e):0),qe.producerLastReadVersion[e]=n.version}function fT(){Fp++}function jp(n){if(!(ba(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Fp)){if(!n.producerMustRecompute(n)&&!il(n)){Op(n);return}n.producerRecomputeValue(n),Op(n)}}function Up(n){if(n.liveConsumerNode===void 0)return;let e=tl;tl=!0;try{for(let t of n.liveConsumerNode)t.dirty||_x(t)}finally{tl=e}}function Bp(){return qe?.consumerAllowSignalWrites!==!1}function _x(n){n.dirty=!0,Up(n),n.consumerMarkedDirty?.(n)}function Op(n){n.dirty=!1,n.lastCleanEpoch=Fp}function Sa(n){return n&&(n.nextProducerIndex=0),ce(n)}function rl(n,e){if(ce(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ba(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ol(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function il(n){sl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(jp(t),r!==t.version))return!0}return!1}function Aa(n){if(sl(n),ba(n))for(let e=0;e<n.producerNode.length;e++)ol(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function pT(n,e,t){if(gT(n),n.liveConsumerNode.length===0&&mT(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=pT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ol(n,e){if(gT(n),n.liveConsumerNode.length===1&&mT(n))for(let r=0;r<n.producerNode.length;r++)ol(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];sl(i),i.producerIndexOfThis[r]=e}}function ba(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function sl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function gT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function mT(n){return n.producerNode!==void 0}function $p(n,e){let t=Object.create(Ix);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(jp(t),Ca(t),t.value===nl)throw t.error;return t.value};return r[Ht]=t,r}var xp=Symbol("UNSET"),kp=Symbol("COMPUTING"),nl=Symbol("ERRORED"),Ix=ye(F({},Mo),{value:xp,dirty:!0,error:null,equal:Lp,kind:"computed",producerMustRecompute(n){return n.value===xp||n.value===kp},producerRecomputeValue(n){if(n.value===kp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=kp;let t=Sa(n),r,i=!1;try{r=n.computation(),ce(null),i=e!==xp&&e!==nl&&r!==nl&&n.equal(e,r)}catch(o){r=nl,n.error=o}finally{rl(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Ex(){throw new Error}var yT=Ex;function vT(n){yT(n)}function Hp(n){yT=n}var wx=null;function zp(n,e){let t=Object.create(al);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Ca(t),t.value);return r[Ht]=t,r}function Ra(n,e){Bp()||vT(n),n.equal(n.value,e)||(n.value=e,Tx(n))}function qp(n,e){Bp()||vT(n),Ra(n,e(n.value))}var al=ye(F({},Mo),{equal:Lp,value:void 0,kind:"signal"});function Tx(n){n.version++,fT(),Up(n),wx?.()}function Gp(n){let e=ce(null);try{return n()}finally{ce(e)}}var Wp;function Na(){return Wp}function Zn(n){let e=Wp;return Wp=n,e}var cl=Symbol("NotFound");var lD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(pm(e,t)),this.code=e}};function Sx(n){return`NG0${Math.abs(n)}`}function pm(n,e){return`${Sx(n)}${e?": "+e:""}`}var dD=Symbol("InputSignalNode#UNSET"),Ax=ye(F({},al),{transformFn:void 0,applyValueToInputSignal(n,e){Ra(n,e)}});function hD(n,e){let t=Object.create(Ax);t.value=n,t.transformFn=e?.transform;function r(){if(Ca(t),t.value===dD){let i=null;throw new V(-950,i)}return t.value}return r[Ht]=t,r}function Ha(n){return{toString:n}.toString()}var ul="__parameters__";function Rx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function fD(n,e,t){return Ha(()=>{let r=Rx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(ul)?u[ul]:Object.defineProperty(u,ul,{value:[]})[ul];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var vn=globalThis;function we(n){for(let e in n)if(n[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Nx(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function St(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(St).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function cg(n,e){return n?e?`${n} ${e}`:n:e||""}var Mx=we({__forward_ref__:we});function pD(n){return n.__forward_ref__=pD,n.toString=function(){return St(this())},n}function vt(n){return gD(n)?n():n}function gD(n){return typeof n=="function"&&n.hasOwnProperty(Mx)&&n.__forward_ref__===pD}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ki(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gl(n){return _T(n,yD)||_T(n,vD)}function mD(n){return Gl(n)!==null}function _T(n,e){return n.hasOwnProperty(e)?n[e]:null}function Px(n){let e=n&&(n[yD]||n[vD]);return e||null}function IT(n){return n&&(n.hasOwnProperty(ET)||n.hasOwnProperty(xx))?n[ET]:null}var yD=we({\u0275prov:we}),ET=we({\u0275inj:we}),vD=we({ngInjectableDef:we}),xx=we({ngInjectorDef:we}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _D(n){return n&&!!n.\u0275providers}var kx=we({\u0275cmp:we}),Ox=we({\u0275dir:we}),Lx=we({\u0275pipe:we}),Fx=we({\u0275mod:we}),Il=we({\u0275fac:we}),ka=we({__NG_ELEMENT_ID__:we}),wT=we({__NG_ENV_ID__:we});function wi(n){return typeof n=="string"?n:n==null?"":String(n)}function Vx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():wi(n)}function ID(n,e){throw new V(-200,n)}function gm(n,e){throw new V(-201,!1)}var ne=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ne||{}),ug;function ED(){return ug}function Dt(n){let e=ug;return ug=n,e}function wD(n,e,t){let r=Gl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ne.Optional)return null;if(e!==void 0)return e;gm(n,"Injector")}var jx={},Ii=jx,lg="__NG_DI_FLAG__",El=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?cl:Ii,r)}},wl="ngTempTokenPath",Ux="ngTokenPath",Bx=/\n/gm,$x="\u0275",TT="__source";function Hx(n,e=ne.Default){if(Na()===void 0)throw new V(-203,!1);if(Na()===null)return wD(n,void 0,e);{let t=Na(),r;return t instanceof El?r=t.injector:r=t,r.get(n,e&ne.Optional?null:void 0,e)}}function H(n,e=ne.Default){return(ED()||Hx)(vt(n),e)}function x(n,e=ne.Default){return H(n,Wl(e))}function Wl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function dg(n){let e=[];for(let t=0;t<n.length;t++){let r=vt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){let a=r[s],u=zx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(H(i,o))}else e.push(H(r))}return e}function TD(n,e){return n[lg]=e,n.prototype[lg]=e,n}function zx(n){return n[lg]}function qx(n,e,t,r){let i=n[wl];throw e[TT]&&i.unshift(e[TT]),n.message=Gx(`
`+n.message,i,t,r),n[Ux]=i,n[wl]=null,n}function Gx(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==$x?n.slice(2):n;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):St(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Bx,`
  `)}`}var mm=TD(fD("Optional"),8);var DD=TD(fD("SkipSelf"),4);function Ti(n,e){let t=n.hasOwnProperty(Il);return t?n[Il]:null}function Wx(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Kx(n){return n.flat(Number.POSITIVE_INFINITY)}function ym(n,e){n.forEach(t=>Array.isArray(t)?ym(t,e):e(t))}function bD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Tl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Qx(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function Yx(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Kl(n,e,t){let r=za(n,e);return r>=0?n[r|1]=t:(r=~r,Yx(n,r,e,t)),r}function Kp(n,e){let t=za(n,e);if(t>=0)return n[t|1]}function za(n,e){return Jx(n,e,1)}function Jx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Di={},bt=[],Vo=new B(""),CD=new B("",-1),SD=new B(""),Dl=class{get(e,t=Ii){if(t===Ii){let r=new Error(`NullInjectorError: No provider for ${St(e)}!`);throw r.name="NullInjectorError",r}return t}};function AD(n,e){let t=n[Fx]||null;if(!t&&e===!0)throw new Error(`Type ${St(n)} does not have '\u0275mod' property.`);return t}function bi(n){return n[kx]||null}function Zx(n){return n[Ox]||null}function Xx(n){return n[Lx]||null}function Oi(n){return{\u0275providers:n}}function ek(...n){return{\u0275providers:RD(!0,n),\u0275fromNgModule:!0}}function RD(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ym(e,s=>{let a=s;hg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ND(i,o),t}function ND(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];vm(i,o=>{e(o,r)})}}function hg(n,e,t,r){if(n=vt(n),!n)return!1;let i=null,o=IT(n),s=!o&&bi(n);if(!o&&!s){let u=n.ngModule;if(o=IT(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)hg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ym(o.imports,h=>{hg(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&ND(l,e)}if(!a){let l=Ti(i)||(()=>new i);e({provide:i,useFactory:l,deps:bt},i),e({provide:SD,useValue:i,multi:!0},i),e({provide:Vo,useValue:()=>H(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;vm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function vm(n,e){for(let t of n)_D(t)&&(t=t.\u0275providers),Array.isArray(t)?vm(t,e):e(t)}var tk=we({provide:String,useValue:we});function MD(n){return n!==null&&typeof n=="object"&&tk in n}function nk(n){return!!(n&&n.useExisting)}function rk(n){return!!(n&&n.useFactory)}function jo(n){return typeof n=="function"}function ik(n){return!!n.useClass}var Ql=new B(""),pl={},DT={},Qp;function _m(){return Qp===void 0&&(Qp=new Dl),Qp}var at=class{},Oa=class extends at{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,pg(e,s=>this.processProvider(s)),this.records.set(CD,Po(void 0,this)),i.has("environment")&&this.records.set(at,Po(void 0,this));let o=this.records.get(Ql);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(SD,bt,ne.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?cl:Ii,r)}destroy(){Pa(this),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return Pa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Pa(this);let t=Zn(this),r=Dt(void 0),i;try{return e()}finally{Zn(t),Dt(r)}}get(e,t=Ii,r=ne.Default){if(Pa(this),e.hasOwnProperty(wT))return e[wT](this);r=Wl(r);let i,o=Zn(this),s=Dt(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=uk(e)&&Gl(e);l&&this.injectableDefInScope(l)?u=Po(fg(e),pl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ne.Self?_m():this.parent;return t=r&ne.Optional&&t===Ii?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[wl]=a[wl]||[]).unshift(St(e)),o)throw a;return qx(a,e,"R3InjectorError",this.source)}else throw a}finally{Dt(s),Zn(o)}}resolveInjectorInitializers(){let e=ce(null),t=Zn(this),r=Dt(void 0),i;try{let o=this.get(Vo,bt,ne.Self);for(let s of o)s()}finally{Zn(t),Dt(r),ce(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(St(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=vt(e);let t=jo(e)?e:vt(e&&e.provide),r=sk(e);if(!jo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Po(void 0,pl,!0),i.factory=()=>dg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ce(null);try{return t.value===DT?ID(St(e)):t.value===pl&&(t.value=DT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&ck(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=vt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function fg(n){let e=Gl(n),t=e!==null?e.factory:Ti(n);if(t!==null)return t;if(n instanceof B)throw new V(204,!1);if(n instanceof Function)return ok(n);throw new V(204,!1)}function ok(n){if(n.length>0)throw new V(204,!1);let t=Px(n);return t!==null?()=>t.factory(n):()=>new n}function sk(n){if(MD(n))return Po(void 0,n.useValue);{let e=PD(n);return Po(e,pl)}}function PD(n,e,t){let r;if(jo(n)){let i=vt(n);return Ti(i)||fg(i)}else if(MD(n))r=()=>vt(n.useValue);else if(rk(n))r=()=>n.useFactory(...dg(n.deps||[]));else if(nk(n))r=(i,o)=>H(vt(n.useExisting),o!==void 0&&o&ne.Optional?ne.Optional:void 0);else{let i=vt(n&&(n.useClass||n.provide));if(ak(n))r=()=>new i(...dg(n.deps));else return Ti(i)||fg(i)}return r}function Pa(n){if(n.destroyed)throw new V(205,!1)}function Po(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ak(n){return!!n.deps}function ck(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function uk(n){return typeof n=="function"||typeof n=="object"&&n instanceof B}function pg(n,e){for(let t of n)Array.isArray(t)?pg(t,e):t&&_D(t)?pg(t.\u0275providers,e):e(t)}function Rt(n,e){let t;n instanceof Oa?(Pa(n),t=n):t=new El(n);let r,i=Zn(t),o=Dt(void 0);try{return e()}finally{Zn(i),Dt(o)}}function xD(){return ED()!==void 0||Na()!=null}function kD(n){if(!xD())throw new V(-203,!1)}function lk(n){return typeof n=="function"}var nr=0,re=1,Y=2,ct=3,rn=4,Nt=5,La=6,bl=7,_t=8,Uo=9,Xn=10,xe=11,Fa=12,bT=13,Qo=14,qt=15,Ci=16,xo=17,er=18,Yl=19,OD=20,Lr=21,Yp=22,Si=23,zt=24,Lo=25,Ke=26,LD=1;var Ai=7,Cl=8,Bo=9,At=10;function Fr(n){return Array.isArray(n)&&typeof n[LD]=="object"}function rr(n){return Array.isArray(n)&&n[LD]===!0}function Im(n){return(n.flags&4)!==0}function Yo(n){return n.componentOffset>-1}function Jl(n){return(n.flags&1)===1}function In(n){return!!n.template}function Sl(n){return(n[Y]&512)!==0}function Jo(n){return(n[Y]&256)===256}var gg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function FD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Zo=(()=>{let n=()=>VD;return n.ngInherit=!0,n})();function VD(n){return n.type.prototype.ngOnChanges&&(n.setInput=hk),dk}function dk(){let n=UD(this),e=n?.current;if(e){let t=n.previous;if(t===Di)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function hk(n,e,t,r,i){let o=this.declaredInputs[r],s=UD(n)||fk(n,{previous:Di,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new gg(l&&l.currentValue,t,u===Di),FD(n,e,i,t)}var jD="__ngSimpleChanges__";function UD(n){return n[jD]||null}function fk(n,e){return n[jD]=e}var CT=null;var _e=function(n,e=null,t){CT?.(n,e,t)},BD="svg",pk="math";function En(n){for(;Array.isArray(n);)n=n[nr];return n}function $D(n,e){return En(e[n])}function Cn(n,e){return En(e[n.index])}function Em(n,e){return n.data[e]}function wm(n,e){return n[e]}function gk(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function wn(n,e){let t=e[n];return Fr(t)?t:t[nr]}function mk(n){return(n[Y]&4)===4}function Tm(n){return(n[Y]&128)===128}function yk(n){return rr(n[ct])}function $o(n,e){return e==null?null:n[e]}function HD(n){n[xo]=0}function zD(n){n[Y]&1024||(n[Y]|=1024,Tm(n)&&Xo(n))}function vk(n,e){for(;n>0;)e=e[Qo],n--;return e}function Zl(n){return!!(n[Y]&9216||n[zt]?.dirty)}function mg(n){n[Xn].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),Zl(n)&&Xo(n)}function Xo(n){n[Xn].changeDetectionScheduler?.notify(0);let e=Ri(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Tm(e)));)e=Ri(e)}function qD(n,e){if(Jo(n))throw new V(911,!1);n[Lr]===null&&(n[Lr]=[]),n[Lr].push(e)}function _k(n,e){if(n[Lr]===null)return;let t=n[Lr].indexOf(e);t!==-1&&n[Lr].splice(t,1)}function Ri(n){let e=n[ct];return rr(e)?e[ct]:e}function Dm(n){return n[bl]??=[]}function bm(n){return n.cleanup??=[]}function Ik(n,e,t,r){let i=Dm(e);i.push(t),n.firstCreatePass&&bm(n).push(r,i.length-1)}var ee={lFrame:ZD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yg=!1;function Ek(){return ee.lFrame.elementDepthCount}function wk(){ee.lFrame.elementDepthCount++}function Tk(){ee.lFrame.elementDepthCount--}function Cm(){return ee.bindingsEnabled}function GD(){return ee.skipHydrationRootTNode!==null}function Dk(n){return ee.skipHydrationRootTNode===n}function bk(){ee.skipHydrationRootTNode=null}function Z(){return ee.lFrame.lView}function Fe(){return ee.lFrame.tView}function uW(n){return ee.lFrame.contextLView=n,n[_t]}function lW(n){return ee.lFrame.contextLView=null,n}function ut(){let n=WD();for(;n!==null&&n.type===64;)n=n.parent;return n}function WD(){return ee.lFrame.currentTNode}function Ck(){let n=ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Li(n,e){let t=ee.lFrame;t.currentTNode=n,t.isParent=e}function Sm(){return ee.lFrame.isParent}function Am(){ee.lFrame.isParent=!1}function Sk(){return ee.lFrame.contextLView}function KD(){return yg}function Al(n){let e=yg;return yg=n,e}function es(){let n=ee.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ak(){return ee.lFrame.bindingIndex}function Rk(n){return ee.lFrame.bindingIndex=n}function qa(){return ee.lFrame.bindingIndex++}function Rm(n){let e=ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Nk(){return ee.lFrame.inI18n}function Mk(n,e){let t=ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,vg(e)}function Pk(){return ee.lFrame.currentDirectiveIndex}function vg(n){ee.lFrame.currentDirectiveIndex=n}function xk(n){let e=ee.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function QD(){return ee.lFrame.currentQueryIndex}function Nm(n){ee.lFrame.currentQueryIndex=n}function kk(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[Nt]:null}function YD(n,e,t){if(t&ne.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ne.Host);)if(i=kk(o),i===null||(o=o[Qo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ee.lFrame=JD();return r.currentTNode=e,r.lView=n,!0}function Mm(n){let e=JD(),t=n[re];ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function JD(){let n=ee.lFrame,e=n===null?null:n.child;return e===null?ZD(n):e}function ZD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function XD(){let n=ee.lFrame;return ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var eb=XD;function Pm(){let n=XD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ok(n){return(ee.lFrame.contextLView=vk(n,ee.lFrame.contextLView))[_t]}function Ur(){return ee.lFrame.selectedIndex}function Ni(n){ee.lFrame.selectedIndex=n}function Xl(){let n=ee.lFrame;return Em(n.tView,n.selectedIndex)}function dW(){ee.lFrame.currentNamespace=BD}function hW(){Lk()}function Lk(){ee.lFrame.currentNamespace=null}function Fk(){return ee.lFrame.currentNamespace}var tb=!0;function ed(){return tb}function td(n){tb=n}function Vk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=VD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function xm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function gl(n,e,t){nb(n,e,3,t)}function ml(n,e,t,r){(n[Y]&3)===t&&nb(n,e,t,r)}function Jp(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function nb(n,e,t,r){let i=r!==void 0?n[xo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[xo]+=65536),(a<o||o==-1)&&(jk(n,t,e,u),n[xo]=(n[xo]&4294901760)+u+2),u++}function ST(n,e){_e(4,n,e);let t=ce(null);try{e.call(n)}finally{ce(t),_e(5,n,e)}}function jk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Y]>>14<n[xo]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,ST(a,o)):ST(a,o)}var Fo=-1,Mi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function Uk(n){return(n.flags&8)!==0}function Bk(n){return(n.flags&16)!==0}function $k(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Hk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function rb(n){return n===3||n===4||n===6}function Hk(n){return n.charCodeAt(0)===64}function Ho(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?AT(n,t,i,null,e[++r]):AT(n,t,i,null,null))}}return n}function AT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function ib(n){return n!==Fo}function Rl(n){return n&32767}function zk(n){return n>>16}function Nl(n,e){let t=zk(n),r=e;for(;t>0;)r=r[Qo],t--;return r}var _g=!0;function Ml(n){let e=_g;return _g=n,e}var qk=256,ob=qk-1,sb=5,Gk=0,_n={};function Wk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ka)&&(r=t[ka]),r==null&&(r=t[ka]=Gk++);let i=r&ob,o=1<<i;e.data[n+(i>>sb)]|=o}function Pl(n,e){let t=ab(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,Zp(r.data,n),Zp(e,null),Zp(r.blueprint,null));let i=km(n,e),o=n.injectorIndex;if(ib(i)){let s=Rl(i),a=Nl(i,e),u=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Zp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ab(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function km(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=hb(i),r===null)return Fo;if(t++,i=i[Qo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Fo}function Ig(n,e,t){Wk(n,e,t)}function Kk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(rb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function cb(n,e,t){if(t&ne.Optional||n!==void 0)return n;gm(e,"NodeInjector")}function ub(n,e,t,r){if(t&ne.Optional&&r===void 0&&(r=null),(t&(ne.Self|ne.Host))===0){let i=n[Uo],o=Dt(void 0);try{return i?i.get(e,r,t&ne.Optional):wD(e,r,t&ne.Optional)}finally{Dt(o)}}return cb(r,e,t)}function lb(n,e,t,r=ne.Default,i){if(n!==null){if(e[Y]&2048&&!(r&ne.Self)){let s=Zk(n,e,t,r,_n);if(s!==_n)return s}let o=db(n,e,t,r,_n);if(o!==_n)return o}return ub(e,t,r,i)}function db(n,e,t,r,i){let o=Yk(t);if(typeof o=="function"){if(!YD(e,n,r))return r&ne.Host?cb(i,t,r):ub(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ne.Optional))gm(t);else return s}finally{eb()}}else if(typeof o=="number"){let s=null,a=ab(n,e),u=Fo,l=r&ne.Host?e[qt][Nt]:null;for((a===-1||r&ne.SkipSelf)&&(u=a===-1?km(n,e):e[a+8],u===Fo||!NT(r,!1)?a=-1:(s=e[re],a=Rl(u),e=Nl(u,e)));a!==-1;){let h=e[re];if(RT(o,a,h.data)){let p=Qk(a,e,t,s,r,l);if(p!==_n)return p}u=e[a+8],u!==Fo&&NT(r,e[re].data[a+8]===l)&&RT(o,a,e)?(s=h,a=Rl(u),e=Nl(u,e)):a=-1}}return i}function Qk(n,e,t,r,i,o){let s=e[re],a=s.data[n+8],u=r==null?Yo(a)&&_g:r!=s&&(a.type&3)!==0,l=i&ne.Host&&o===a,h=yl(a,s,t,u,l);return h!==null?Va(e,s,h,a,i):_n}function yl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let w=s[y];if(y<u&&t===w||y>=u&&w.type===t)return y}if(i){let y=s[u];if(y&&In(y)&&y.type===t)return u}return null}function Va(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Mi){let a=o;a.resolving&&ID(Vx(s[t]));let u=Ml(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Dt(a.injectImpl):null,p=YD(n,r,ne.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Vk(t,s[t],e)}finally{h!==null&&Dt(h),Ml(u),a.resolving=!1,eb()}}return o}function Yk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ka)?n[ka]:void 0;return typeof e=="number"?e>=0?e&ob:Jk:e}function RT(n,e,t){let r=1<<n;return!!(t[e+(n>>sb)]&r)}function NT(n,e){return!(n&ne.Self)&&!(n&ne.Host&&e)}var Ei=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return lb(this._tNode,this._lView,e,Wl(r),t)}};function Jk(){return new Ei(ut(),Z())}function Om(n){return Ha(()=>{let e=n.prototype.constructor,t=e[Il]||Eg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Il]||Eg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eg(n){return gD(n)?()=>{let e=Eg(vt(n));return e&&e()}:Ti(n)}function Zk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!Sl(s);){let a=db(o,s,t,r|ne.Self,_n);if(a!==_n)return a;let u=o.parent;if(!u){let l=s[OD];if(l){let h=l.get(t,_n,r);if(h!==_n)return h}u=hb(s),s=s[Qo]}o=u}return i}function hb(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[Nt]:null}function Lm(n){return Kk(ut(),n)}function MT(n,e=null,t=null,r){let i=fb(n,e,t,r);return i.resolveInjectorInitializers(),i}function fb(n,e=null,t=null,r,i=new Set){let o=[t||bt,ek(n)];return r=r||(typeof n=="object"?void 0:St(n)),new Oa(o,e||_m(),r||null,i)}var Lt=class n{static THROW_IF_NOT_FOUND=Ii;static NULL=new Dl;static create(e,t){if(Array.isArray(e))return MT({name:""},t,e,"");{let r=e.name??"";return MT({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>H(CD)});static __NG_ELEMENT_ID__=-1};var Xk=new B("");Xk.__NG_ELEMENT_ID__=n=>{let e=ut();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&ne.Optional)return null;throw new V(204,!1)};var pb=!1,Fi=(()=>{class n{static __NG_ELEMENT_ID__=eO;static __NG_ENV_ID__=t=>t}return n})(),xl=class extends Fi{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Jo(t)?(e(),()=>{}):(qD(t,e),()=>_k(t,e))}};function eO(){return new xl(Z())}var Vr=class{},nd=new B("",{providedIn:"root",factory:()=>!1});var gb=new B(""),mb=new B(""),ir=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new tt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),fW=(()=>{class n{internalPendingTasks=x(ir);scheduler=x(Vr);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return _(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),wg=class extends Ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,xD()&&(this.destroyRef=x(Fi,{optional:!0})??void 0,this.pendingTasks=x(ir,{optional:!0})??void 0)}emit(e){let t=ce(null);try{super.next(e)}finally{ce(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ct=wg;function ja(...n){}function yb(n){let e,t;function r(){n=ja;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function PT(n){return queueMicrotask(()=>n()),()=>{n=ja}}var Fm="isAngularZone",kl=Fm+"_ID",tO=0,Pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ct(!1);onMicrotaskEmpty=new Ct(!1);onStable=new Ct(!1);onError=new Ct(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pb}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,iO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Fm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nO,ja,ja);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},nO={};function Vm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function rO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){yb(()=>{n.callbackScheduled=!1,Tg(n),n.isCheckStableRunning=!0,Vm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Tg(n)}function iO(n){let e=()=>{rO(n)},t=tO++;n._inner=n._inner.fork({name:"angular",properties:{[Fm]:!0,[kl]:t,[kl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(oO(u))return r.invokeTask(o,s,a,u);try{return xT(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),kT(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return xT(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!sO(u)&&e(),kT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Tg(n),Vm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Tg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function xT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kT(n){n._nesting--,Vm(n)}var Dg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ct;onMicrotaskEmpty=new Ct;onStable=new Ct;onError=new Ct;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function oO(n){return vb(n,"__ignore_ng_zone__")}function sO(n){return vb(n,"__scheduler_tick__")}function vb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Tn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},aO=new B("",{providedIn:"root",factory:()=>{let n=x(Pe),e=x(Tn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function OT(n,e){return hD(n,e)}function cO(n){return hD(dD,n)}var _b=(OT.required=cO,OT);function uO(){return ts(ut(),Z())}function ts(n,e){return new Sn(Cn(n,e))}var Sn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=uO}return n})();function lO(n){return n instanceof Sn?n.nativeElement:n}function dO(n){return typeof n=="function"&&n[Ht]!==void 0}function pW(n,e){let t=zp(n,e?.equal),r=t[Ht];return t.set=i=>Ra(r,i),t.update=i=>qp(r,i),t.asReadonly=hO.bind(t),t}function hO(){let n=this[Ht];if(n.readonlyFn===void 0){let e=()=>this();e[Ht]=n,n.readonlyFn=e}return n.readonlyFn}function Ib(n){return dO(n)&&typeof n.set=="function"}function fO(){return this._results[Symbol.iterator]()}var bg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ne}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=Kx(e);(this._changesDetected=!Wx(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=fO};function Eb(n){return(n.flags&128)===128}var wb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(wb||{}),Tb=new Map,pO=0;function gO(){return pO++}function mO(n){Tb.set(n[Yl],n)}function Cg(n){Tb.delete(n[Yl])}var LT="__ngContext__";function ns(n,e){Fr(e)?(n[LT]=e[Yl],mO(e)):n[LT]=e}function Db(n){return Cb(n[Fa])}function bb(n){return Cb(n[rn])}function Cb(n){for(;n!==null&&!rr(n);)n=n[rn];return n}var Sg;function Sb(n){Sg=n}function Ab(){if(Sg!==void 0)return Sg;if(typeof document<"u")return document;throw new V(210,!1)}var jm=new B("",{providedIn:"root",factory:()=>yO}),yO="ng",Um=new B(""),rs=new B("",{providedIn:"platform",factory:()=>"unknown"});var Bm=new B("",{providedIn:"root",factory:()=>Ab().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vO="h",_O="b";var Rb=!1,IO=new B("",{providedIn:"root",factory:()=>Rb});var $m=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}($m||{}),is=new B(""),FT=new Set;function Vi(n){FT.has(n)||(FT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Hm=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=EO}return n})();function EO(){return new Hm(Z(),ut())}var ko=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ko||{}),Nb=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),wO=[ko.EarlyRead,ko.Write,ko.MixedReadWrite,ko.Read],TO=(()=>{class n{ngZone=x(Pe);scheduler=x(Vr);errorHandler=x(Tn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(is,{optional:!0})}execute(){let t=this.sequences.size>0;t&&_e(16),this.executing=!0;for(let r of wO)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&_e(17)}register(t){let{view:r}=t;r!==void 0?((r[Lo]??=[]).push(t),Xo(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run($m.AFTER_NEXT_RENDER,t):t()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ag=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Lo];e&&(this.view[Lo]=e.filter(t=>t!==this))}};function zm(n,e){!e?.injector&&kD(zm);let t=e?.injector??x(Lt);return Vi("NgAfterNextRender"),bO(n,t,e,!0)}function DO(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function bO(n,e,t,r){let i=e.get(Nb);i.impl??=e.get(TO);let o=e.get(is,null,{optional:!0}),s=t?.phase??ko.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Fi):null,u=e.get(Hm,null,{optional:!0}),l=new Ag(i.impl,DO(n,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var CO=(n,e,t,r)=>{};function SO(n,e,t,r){CO(n,e,t,r)}var AO=()=>null;function Mb(n,e,t=!1){return AO(n,e,t)}function Pb(n,e){let t=n.contentQueries;if(t!==null){let r=ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Nm(o),a.contentQueries(2,e[s],s)}}}finally{ce(r)}}}function Rg(n,e,t){Nm(0);let r=ce(null);try{e(n,t)}finally{ce(r)}}function qm(n,e,t){if(Im(e)){let r=ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ce(r)}}}var Dn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Dn||{}),ll;function RO(){if(ll===void 0&&(ll=null,vn.trustedTypes))try{ll=vn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ll}function rd(n){return RO()?.createHTML(n)||n}var dl;function xb(){if(dl===void 0&&(dl=null,vn.trustedTypes))try{dl=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return dl}function VT(n){return xb()?.createHTML(n)||n}function jT(n){return xb()?.createScriptURL(n)||n}var tr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lD})`}},Ng=class extends tr{getTypeName(){return"HTML"}},Mg=class extends tr{getTypeName(){return"Style"}},Pg=class extends tr{getTypeName(){return"Script"}},xg=class extends tr{getTypeName(){return"URL"}},kg=class extends tr{getTypeName(){return"ResourceURL"}};function Ft(n){return n instanceof tr?n.changingThisBreaksApplicationSecurity:n}function or(n,e){let t=NO(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${lD})`)}return t===e}function NO(n){return n instanceof tr&&n.getTypeName()||null}function kb(n){return new Ng(n)}function Ob(n){return new Mg(n)}function Lb(n){return new Pg(n)}function Fb(n){return new xg(n)}function Vb(n){return new kg(n)}function MO(n){let e=new Lg(n);return PO()?new Og(e):e}var Og=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(rd(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Lg=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=rd(e),t}};function PO(){try{return!!new window.DOMParser().parseFromString(rd(""),"text/html")}catch{return!1}}var xO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function id(n){return n=String(n),n.match(xO)?n:"unsafe:"+n}function sr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ga(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var jb=sr("area,br,col,hr,img,wbr"),Ub=sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bb=sr("rp,rt"),kO=Ga(Bb,Ub),OO=Ga(Ub,sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),LO=Ga(Bb,sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),UT=Ga(jb,OO,LO,kO),$b=sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),FO=sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),VO=sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),jO=Ga($b,FO,VO),UO=sr("script,style,template"),Fg=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=HO(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=$O(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=BT(e).toLowerCase();if(!UT.hasOwnProperty(t))return this.sanitizedSomething=!0,!UO.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!jO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;$b[a]&&(u=id(u)),this.buf.push(" ",s,'="',$T(u),'"')}return this.buf.push(">"),!0}endElement(e){let t=BT(e).toLowerCase();UT.hasOwnProperty(t)&&!jb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push($T(e))}};function BO(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function $O(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw Hb(e);return e}function HO(n){let e=n.firstChild;if(e&&BO(n,e))throw Hb(e);return e}function BT(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function Hb(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var zO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qO=/([^\#-~ |!])/g;function $T(n){return n.replace(/&/g,"&amp;").replace(zO,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(qO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var hl;function Gm(n,e){let t=null;try{hl=hl||MO(n);let r=e?String(e):"";t=hl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=hl.getInertBodyElement(r)}while(r!==o);let a=new Fg().sanitizeChildren(HT(t)||t);return rd(a)}finally{if(t){let r=HT(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function HT(n){return"content"in n&&GO(n)?n.content:null}function GO(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var sn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(sn||{});function gW(n){let e=Wm();return e?VT(e.sanitize(sn.HTML,n)||""):or(n,"HTML")?VT(Ft(n)):Gm(Ab(),wi(n))}function WO(n){let e=Wm();return e?e.sanitize(sn.URL,n)||"":or(n,"URL")?Ft(n):id(wi(n))}function KO(n){let e=Wm();if(e)return jT(e.sanitize(sn.RESOURCE_URL,n)||"");if(or(n,"ResourceURL"))return jT(Ft(n));throw new V(904,!1)}function QO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?KO:WO}function zb(n,e,t){return QO(e,t)(n)}function Wm(){let n=Z();return n&&n[Xn].sanitizer}var YO=/^>|^->|<!--|-->|--!>|<!-$/g,JO=/(<|>)/g,ZO="\u200B$1\u200B";function XO(n){return n.replace(YO,e=>e.replace(JO,ZO))}function mW(n){return n.ownerDocument}function qb(n){return n instanceof Function?n():n}function e1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Gb="ng-template";function t1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&e1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Km(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Km(n){return n.type===4&&n.value!==Gb}function n1(n,e,t){let r=n.type===4&&!t?Gb:n.value;return e===r}function r1(n,e,t){let r=4,i=n.attrs,o=i!==null?s1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!nn(r)&&!nn(u))return!1;if(s&&nn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!n1(n,u,t)||u===""&&e.length===1){if(nn(r))return!1;s=!0}}else if(r&8){if(i===null||!t1(n,i,u,t)){if(nn(r))return!1;s=!0}}else{let l=e[++a],h=i1(u,i,Km(n),t);if(h===-1){if(nn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(nn(r))return!1;s=!0}}}}return nn(r)||s}function nn(n){return(n&1)===0}function i1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return a1(e,n)}function Wb(n,e,t=!1){for(let r=0;r<e.length;r++)if(r1(n,e[r],t))return!0;return!1}function o1(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function s1(n){for(let e=0;e<n.length;e++){let t=n[e];if(rb(t))return e}return n.length}function a1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function c1(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function zT(n,e){return n?":not("+e.trim()+")":e}function u1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!nn(s)&&(e+=zT(o,i),i=""),r=s,o=o||!nn(r);t++}return i!==""&&(e+=zT(o,i)),e}function l1(n){return n.map(u1).join(",")}function d1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!nn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Mt={};function h1(n,e){return n.createText(e)}function f1(n,e,t){n.setValue(e,t)}function p1(n,e){return n.createComment(XO(e))}function Kb(n,e,t){return n.createElement(e,t)}function Ol(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Qb(n,e,t){n.appendChild(e,t)}function qT(n,e,t,r,i){r!==null?Ol(n,e,t,r,i):Qb(n,e,t)}function g1(n,e,t){n.removeChild(null,e,t)}function m1(n,e,t){n.setAttribute(e,"style",t)}function y1(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Yb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&$k(n,e,r),i!==null&&y1(n,e,i),o!==null&&m1(n,e,o)}function Qm(n,e,t,r,i,o,s,a,u,l,h){let p=Ke+r,g=p+i,y=v1(p,g),w=typeof l=="function"?l():l;return y[re]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:h}}function v1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Mt);return t}function _1(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Qm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ym(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[nr]=i,p[Y]=r|4|128|8|64|1024,(l!==null||n&&n[Y]&2048)&&(p[Y]|=2048),HD(p),p[ct]=p[Qo]=n,p[_t]=t,p[Xn]=s||n&&n[Xn],p[xe]=a||n&&n[xe],p[Uo]=u||n&&n[Uo]||null,p[Nt]=o,p[Yl]=gO(),p[La]=h,p[OD]=l,p[qt]=e.type==2?n[qt]:p,p}function I1(n,e,t){let r=Cn(e,n),i=_1(t),o=n[Xn].rendererFactory,s=Jm(n,Ym(n,i,null,Jb(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Jb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Zb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Jm(n,e){return n[Fa]?n[bT][rn]=e:n[Fa]=e,n[bT]=e,e}function yW(n=1){Xb(Fe(),Z(),Ur()+n,!1)}function Xb(n,e,t,r){if(!r)if((e[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&gl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ml(e,o,0,t)}Ni(t)}var od=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(od||{});function Vg(n,e,t,r){let i=ce(null);try{let[o,s,a]=n.inputs[t],u=null;(s&od.SignalBased)!==0&&(u=e[o][Ht]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):FD(e,u,o,r)}finally{ce(i)}}function eC(n,e,t,r,i){let o=Ur(),s=r&2;try{Ni(-1),s&&e.length>Ke&&Xb(n,e,Ke,!1),_e(s?2:0,i),t(r,i)}finally{Ni(o),_e(s?3:1,i)}}function sd(n,e,t){C1(n,e,t),(t.flags&64)===64&&S1(n,e,t)}function Zm(n,e,t=Cn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function E1(n,e,t,r){let o=r.get(IO,Rb)||t===Dn.ShadowDom,s=n.selectRootElement(e,o);return w1(s),s}function w1(n){T1(n)}var T1=()=>null;function D1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Xm(n,e,t,r,i,o,s,a){if(!a&&ty(e,n,t,r,i)){Yo(e)&&b1(t,e.index);return}if(e.type&3){let u=Cn(e,t);r=D1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function b1(n,e){let t=wn(e,n);t[Y]&16||(t[Y]|=64)}function C1(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Yo(t)&&I1(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Pl(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Va(e,n,s,t);if(ns(u,e),o!==null&&M1(e,s-r,u,a,t,o),In(a)){let l=wn(t.index,e);l[_t]=Va(e,n,s,t)}}}function S1(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Pk();try{Ni(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];vg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&A1(u,l)}}finally{Ni(-1),vg(s)}}function A1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function ey(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Wb(e,o.selectors,!1)&&(r??=[],In(o)?r.unshift(o):r.push(o))}return r}function R1(n,e,t,r,i,o){let s=Cn(n,e);N1(e[xe],s,o,n.value,t,r,i)}function N1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?wi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function M1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Vg(r,t,u,l)}}function P1(n,e){let t=n[Uo],r=t?t.get(Tn,null):null;r&&r.handleError(e)}function ty(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Vg(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Vg(h,l,r,i),a=!0}return a}function x1(n,e){let t=wn(e,n),r=t[re];k1(r,t);let i=t[nr];i!==null&&t[La]===null&&(t[La]=Mb(i,t[Uo])),_e(18),ny(r,t,t[_t]),_e(19,t[_t])}function k1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ny(n,e,t){Mm(e);try{let r=n.viewQuery;r!==null&&Rg(1,r,t);let i=n.template;i!==null&&eC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[er]?.finishViewCreation(n),n.staticContentQueries&&Pb(n,e),n.staticViewQueries&&Rg(2,n.viewQuery,t);let o=n.components;o!==null&&O1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Y]&=-5,Pm()}}function O1(n,e){for(let t=0;t<e.length;t++)x1(n,e[t])}function ry(n,e,t,r){let i=ce(null);try{let o=e.tView,a=n[Y]&4096?4096:16,u=Ym(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Ci]=l;let h=n[er];return h!==null&&(u[er]=h.createEmbeddedView(o)),ny(o,u,t),u}finally{ce(i)}}function Ll(n,e){return!e||e.firstChild===null||Eb(n)}var L1;function iy(n,e){return L1(n,e)}var bn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(bn||{});function oy(n){return(n.flags&32)===32}function Oo(n,e,t,r,i){if(r!=null){let o,s=!1;rr(r)?o=r:Fr(r)&&(s=!0,r=r[nr]);let a=En(r);n===0&&t!==null?i==null?Qb(e,t,a):Ol(e,t,a,i||null,!0):n===1&&t!==null?Ol(e,t,a,i||null,!0):n===2?g1(e,a,s):n===3&&e.destroyNode(a),o!=null&&G1(e,n,o,t,i)}}function F1(n,e){tC(n,e),e[nr]=null,e[Nt]=null}function V1(n,e,t,r,i,o){r[nr]=i,r[Nt]=e,cd(n,r,t,1,i,o)}function tC(n,e){e[Xn].changeDetectionScheduler?.notify(9),cd(n,e,e[xe],2,null,null)}function j1(n){let e=n[Fa];if(!e)return Xp(n[re],n);for(;e;){let t=null;if(Fr(e))t=e[Fa];else{let r=e[At];r&&(t=r)}if(!t){for(;e&&!e[rn]&&e!==n;)Fr(e)&&Xp(e[re],e),e=e[ct];e===null&&(e=n),Fr(e)&&Xp(e[re],e),t=e&&e[rn]}e=t}}function sy(n,e){let t=n[Bo],r=t.indexOf(e);t.splice(r,1)}function ay(n,e){if(Jo(e))return;let t=e[xe];t.destroyNode&&cd(n,e,t,3,null,null),j1(e)}function Xp(n,e){if(Jo(e))return;let t=ce(null);try{e[Y]&=-129,e[Y]|=256,e[zt]&&Aa(e[zt]),B1(n,e),U1(n,e),e[re].type===1&&e[xe].destroy();let r=e[Ci];if(r!==null&&rr(e[ct])){r!==e[ct]&&sy(r,e);let i=e[er];i!==null&&i.detachView(n)}Cg(e)}finally{ce(t)}}function U1(n,e){let t=n.cleanup,r=e[bl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[bl]=null);let i=e[Lr];if(i!==null){e[Lr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Si];if(o!==null){e[Si]=null;for(let s of o)s.destroy()}}function B1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Mi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];_e(4,a,u);try{u.call(a)}finally{_e(5,a,u)}}else{_e(4,i,o);try{o.call(i)}finally{_e(5,i,o)}}}}}function nC(n,e,t){return $1(n,e.parent,t)}function $1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[nr];if(Yo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Dn.None||i===Dn.Emulated)return null}return Cn(r,t)}function rC(n,e,t){return z1(n,e,t)}function H1(n,e,t){return n.type&40?Cn(n,t):null}var z1=H1,GT;function ad(n,e,t,r){let i=nC(n,r,e),o=e[xe],s=r.parent||e[Nt],a=rC(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)qT(o,i,t[u],a,!1);else qT(o,i,t,a,!1);GT!==void 0&&GT(o,r,e,t,i)}function xa(n,e){if(e!==null){let t=e.type;if(t&3)return Cn(e,n);if(t&4)return jg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return xa(n,r);{let i=n[e.index];return rr(i)?jg(-1,i):En(i)}}else{if(t&128)return xa(n,e.next);if(t&32)return iy(e,n)()||En(n[e.index]);{let r=iC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ri(n[qt]);return xa(i,r)}else return xa(n,e.next)}}}return null}function iC(n,e){if(e!==null){let r=n[qt][Nt],i=e.projection;return r.projection[i]}return null}function jg(n,e){let t=At+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return xa(r,i)}return e[Ai]}function cy(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&ns(En(a),r),t.flags|=2),!oy(t))if(u&8)cy(n,e,t.child,r,i,o,!1),Oo(e,n,i,a,o);else if(u&32){let l=iy(t,r),h;for(;h=l();)Oo(e,n,i,h,o);Oo(e,n,i,a,o)}else u&16?oC(n,e,r,t,i,o):Oo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function cd(n,e,t,r,i,o){cy(t,r,n.firstChild,e,i,o,!1)}function q1(n,e,t){let r=e[xe],i=nC(n,t,e),o=t.parent||e[Nt],s=rC(o,t,e);oC(r,0,e,t,i,s)}function oC(n,e,t,r,i,o){let s=t[qt],u=s[Nt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Oo(e,n,i,h,o)}else{let l=u,h=s[ct];Eb(r)&&(l.flags|=128),cy(n,e,l,h,i,o,!0)}}function G1(n,e,t,r,i){let o=t[Ai],s=En(t);o!==s&&Oo(e,n,r,o,i);for(let a=At;a<t.length;a++){let u=t[a];cd(u[re],u,n,e,r,o)}}function W1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:bn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=bn.Important),n.setStyle(t,r,i,o))}}function Fl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(En(o)),rr(o)&&K1(o,r);let s=t.type;if(s&8)Fl(n,e,t.child,r);else if(s&32){let a=iy(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=iC(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ri(e[qt]);Fl(u[re],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function K1(n,e){for(let t=At;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&Fl(r[re],r,i,e)}n[Ai]!==n[nr]&&e.push(n[Ai])}function sC(n){if(n[Lo]!==null){for(let e of n[Lo])e.impl.addSequence(e);n[Lo].length=0}}var aC=[];function Q1(n){return n[zt]??Y1(n)}function Y1(n){let e=aC.pop()??Object.create(Z1);return e.lView=n,e}function J1(n){n.lView[zt]!==n&&(n.lView=null,aC.push(n))}var Z1=ye(F({},Mo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Xo(n.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function X1(n){let e=n[zt]??Object.create(eL);return e.lView=n,e}var eL=ye(F({},Mo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ri(n.lView);for(;e&&!cC(e[re]);)e=Ri(e);e&&zD(e)},consumerOnSignalRead(){this.lView[zt]=this}});function cC(n){return n.type!==2}function uC(n){if(n[Si]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Si])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Y]&8192)}}var tL=100;function lC(n,e=!0,t=0){let i=n[Xn].rendererFactory,o=!1;o||i.begin?.();try{nL(n,t)}catch(s){throw e&&P1(n,s),s}finally{o||i.end?.()}}function nL(n,e){let t=KD();try{Al(!0),Ug(n,e);let r=0;for(;Zl(n);){if(r===tL)throw new V(103,!1);r++,Ug(n,1)}}finally{Al(t)}}function rL(n,e,t,r){if(Jo(e))return;let i=e[Y],o=!1,s=!1;Mm(e);let a=!0,u=null,l=null;o||(cC(n)?(l=Q1(e),u=Sa(l)):Vp()===null?(a=!1,l=X1(e),u=Sa(l)):e[zt]&&(Aa(e[zt]),e[zt]=null));try{HD(e),Rk(n.bindingStartIndex),t!==null&&eC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&gl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&ml(e,y,0,null),Jp(e,0)}if(s||iL(e),uC(e),dC(e,0),n.contentQueries!==null&&Pb(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&gl(e,y)}else{let y=n.contentHooks;y!==null&&ml(e,y,1),Jp(e,1)}sL(n,e);let p=n.components;p!==null&&fC(e,p,0);let g=n.viewQuery;if(g!==null&&Rg(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&gl(e,y)}else{let y=n.viewHooks;y!==null&&ml(e,y,2),Jp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Yp]){for(let y of e[Yp])y();e[Yp]=null}o||(sC(e),e[Y]&=-73)}catch(h){throw o||Xo(e),h}finally{l!==null&&(rl(l,u),a&&J1(l)),Pm()}}function dC(n,e){for(let t=Db(n);t!==null;t=bb(t))for(let r=At;r<t.length;r++){let i=t[r];hC(i,e)}}function iL(n){for(let e=Db(n);e!==null;e=bb(e)){if(!(e[Y]&2))continue;let t=e[Bo];for(let r=0;r<t.length;r++){let i=t[r];zD(i)}}}function oL(n,e,t){_e(18);let r=wn(e,n);hC(r,t),_e(19,r[_t])}function hC(n,e){Tm(n)&&Ug(n,e)}function Ug(n,e){let r=n[re],i=n[Y],o=n[zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&il(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)rL(r,n,r.template,n[_t]);else if(i&8192){uC(n),dC(n,1);let a=r.components;a!==null&&fC(n,a,1),sC(n)}}function fC(n,e,t){for(let r=0;r<e.length;r++)oL(n,e[r],t)}function sL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ni(~i);else{let o=i,s=t[++r],a=t[++r];Mk(s,o);let u=e[o];_e(24,u),a(2,u),_e(25,u)}}}finally{Ni(-1)}}function uy(n,e){let t=KD()?64:1088;for(n[Xn].changeDetectionScheduler?.notify(e);n;){n[Y]|=t;let r=Ri(n);if(Sl(n)&&!r)return n;n=r}return null}function pC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function aL(n,e){let t=At+e;if(t<n.length)return n[t]}function ly(n,e,t,r=!0){let i=e[re];if(uL(i,e,n,t),r){let s=jg(t,n),a=e[xe],u=a.parentNode(n[Ai]);u!==null&&V1(i,n[Nt],a,e,u,s)}let o=e[La];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cL(n,e){let t=Vl(n,e);return t!==void 0&&ay(t[re],t),t}function Vl(n,e){if(n.length<=At)return;let t=At+e,r=n[t];if(r){let i=r[Ci];i!==null&&i!==n&&sy(i,r),e>0&&(n[t-1][rn]=r[rn]);let o=Tl(n,At+e);F1(r[re],r);let s=o[er];s!==null&&s.detachView(o[re]),r[ct]=null,r[rn]=null,r[Y]&=-129}return r}function uL(n,e,t,r){let i=At+r,o=t.length;r>0&&(t[i-1][rn]=e),r<o-At?(e[rn]=t[i],bD(t,At+r,e)):(t.push(e),e[rn]=null),e[ct]=t;let s=e[Ci];s!==null&&t!==s&&gC(s,e);let a=e[er];a!==null&&a.insertView(n),mg(e),e[Y]|=128}function gC(n,e){let t=n[Bo],r=e[ct];if(Fr(r))n[Y]|=2;else{let i=r[ct][qt];e[qt]!==i&&(n[Y]|=2)}t===null?n[Bo]=[e]:t.push(e)}var Ua=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[re];return Fl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[_t]}set context(e){this._lView[_t]=e}get destroyed(){return Jo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(rr(e)){let t=e[Cl],r=t?t.indexOf(this):-1;r>-1&&(Vl(e,r),Tl(t,r))}this._attachedToViewContainer=!1}ay(this._lView[re],this._lView)}onDestroy(e){qD(this._lView,e)}markForCheck(){uy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){mg(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,lC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Sl(this._lView),t=this._lView[Ci];t!==null&&!e&&sy(t,this._lView),tC(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=Sl(this._lView),r=this._lView[Ci];r!==null&&!t&&gC(r,this._lView),mg(this._lView)}};var Pi=(()=>{class n{static __NG_ELEMENT_ID__=hL}return n})(),lL=Pi,dL=class extends lL{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=ry(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ua(i)}};function hL(){return ud(ut(),Z())}function ud(n,e){return n.type&4?new dL(e,n,ts(n,e)):null}function Wa(n,e,t,r,i){let o=n.data[e];if(o===null)o=fL(n,e,t,r,i),Nk()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Ck();o.injectorIndex=s===null?-1:s.injectorIndex}return Li(o,!0),o}function fL(n,e,t,r,i){let o=WD(),s=Sm(),a=s?o:o&&o.parent,u=n.data[e]=gL(n,a,t,e,r,i);return pL(n,u,o,s),u}function pL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function gL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return GD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var IW=new RegExp(`^(\\d+)*(${_O}|${vO})*(.*)`);var mL=()=>null;function jl(n,e){return mL(n,e)}var yL=class{},mC=class{},Bg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${St(e)}.`)}},ld=class{static NULL=new Bg},zo=class{},os=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>vL()}return n})();function vL(){let n=Z(),e=ut(),t=wn(e.index,n);return(Fr(t)?t:n)[xe]}var _L=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var eg={},$g=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Wl(r);let i=this.injector.get(e,eg,r);return i!==eg||t===eg?i:this.parentInjector.get(e,t,r)}};function Hg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=cg(i,a);else if(o==2){let u=a,l=e[++s];r=cg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Te(n,e=ne.Default){let t=Z();if(t===null)return H(n,e);let r=ut();return lb(r,t,vt(n),e)}function yC(){let n="invalid";throw new Error(n)}function dy(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=EL(s);h===null?a=s:[a,u,l]=h,DL(n,e,t,a,o,u,l)}o!==null&&r!==null&&IL(t,r,o)}function IL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function EL(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&In(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,wL(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function wL(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function TL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function DL(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&In(y)&&(u=!0,TL(n,t,g)),Ig(Pl(t,e),n,y.type)}NL(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=Zb(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=Ho(t.mergedAttrs,y.hostAttrs),CL(n,t,e,p,y),RL(p,y,i),s!==null&&s.has(y)){let[A,R]=s.get(y);t.directiveToIndex.set(y.type,[p,A+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let w=y.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}bL(n,t,o)}function bL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))WT(0,e,i,r),WT(1,e,i,r),QT(e,r,!1);else{let o=t.get(i);KT(0,e,o,r),KT(1,e,o,r),QT(e,r,!0)}}}function WT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),vC(e,o)}}function KT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),vC(e,s)}}function vC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function QT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Km(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function CL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ti(i.type,!0)),s=new Mi(o,In(i),Te);n.blueprint[r]=s,t[r]=s,SL(n,e,r,Zb(n,t,i.hostVars,Mt),i)}function SL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;AL(s)!=a&&s.push(a),s.push(t,r,o)}}function AL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function RL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;In(e)&&(t[""]=n)}}function NL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function _C(n,e,t,r,i,o,s,a){let u=e.consts,l=$o(u,s),h=Wa(e,n,2,r,l);return o&&dy(e,t,h,$o(u,a),i),h.mergedAttrs=Ho(h.mergedAttrs,h.attrs),h.attrs!==null&&Hg(h,h.attrs,!1),h.mergedAttrs!==null&&Hg(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function IC(n,e){xm(n,e),Im(e)&&n.queries.elementEnd(e)}var Ul=class extends ld{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=bi(e);return new qo(t,this.ngModule)}};function ML(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&od.SignalBased)!==0};return i&&(o.transform=i),o})}function PL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function xL(n,e,t){let r=e instanceof at?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new $g(t,r):t}function kL(n){let e=n.get(zo,null);if(e===null)throw new V(407,!1);let t=n.get(_L,null),r=n.get(Vr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function OL(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Kb(e,t,t==="svg"?BD:t==="math"?pk:null)}var qo=class extends mC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ML(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=l1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){_e(22);let o=ce(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:d1(this.componentDef.selectors[0]),u=Qm(0,null,null,1,0,null,null,null,null,[a],null),l=xL(s,i||this.ngModule,e),h=kL(l),p=h.rendererFactory.createRenderer(null,s),g=r?E1(p,r,s.encapsulation,l):OL(s,p),y=Ym(null,u,null,512|Jb(s),null,null,h,p,l,null,Mb(g,l,!0));y[Ke]=g,Mm(y);let w=null;try{let A=_C(Ke,u,y,"#host",()=>[this.componentDef],!0,0);g&&(Yb(p,g,A),ns(g,y)),sd(u,y,A),qm(u,A,y),IC(u,A),t!==void 0&&LL(A,this.ngContentSelectors,t),w=wn(A.index,y),y[_t]=w[_t],ny(u,y,null)}catch(A){throw w!==null&&Cg(w),Cg(y),A}finally{_e(23),Pm()}return new zg(this.componentType,y)}finally{ce(o)}}},zg=class extends yL{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Em(t[re],Ke),this.location=ts(this._tNode,t),this.instance=wn(this._tNode.index,t)[_t],this.hostView=this.changeDetectorRef=new Ua(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=ty(r,i[re],i,e,t);this.previousInputValues.set(e,t);let s=wn(r.index,i);uy(s,1)}get injector(){return new Ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ar=(()=>{class n{static __NG_ELEMENT_ID__=FL}return n})();function FL(){let n=ut();return wC(n,Z())}var VL=ar,EC=class extends VL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ts(this._hostTNode,this._hostLView)}get injector(){return new Ei(this._hostTNode,this._hostLView)}get parentInjector(){let e=km(this._hostTNode,this._hostLView);if(ib(e)){let t=Nl(e,this._hostLView),r=Rl(e),i=t[re].data[r+8];return new Ei(i,t)}else return new Ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=YT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=jl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Ll(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!lk(e),a;if(s)a=t;else{let w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let u=s?e:new qo(bi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let A=(s?l:this.parentInjector).get(at,null);A&&(o=A)}let h=bi(u.componentType??{}),p=jl(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,o);return this.insertImpl(y.hostView,a,Ll(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(yk(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ct],l=new EC(u,u[Nt],u[ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return ly(s,i,o,r),e.attachToViewContainerRef(),bD(tg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=YT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Vl(this._lContainer,t);r&&(Tl(tg(this._lContainer),t),ay(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=Vl(this._lContainer,t);return r&&Tl(tg(this._lContainer),t)!=null?new Ua(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function YT(n){return n[Cl]}function tg(n){return n[Cl]||(n[Cl]=[])}function wC(n,e){let t,r=e[n.index];return rr(r)?t=r:(t=pC(r,e,null,n),e[n.index]=t,Jm(e,t)),UL(t,e,n,r),new EC(t,n,e)}function jL(n,e){let t=n[xe],r=t.createComment(""),i=Cn(e,n),o=t.parentNode(i);return Ol(t,o,r,t.nextSibling(i),!1),r}var UL=HL,BL=()=>!1;function $L(n,e,t){return BL(n,e,t)}function HL(n,e,t,r){if(n[Ai])return;let i;t.type&8?i=En(r):i=jL(e,t),n[Ai]=i}var qg=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Gg=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)hy(e,t).matches!==null&&this.queries[t].setDirty()}},Bl=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=JL(e):this.predicate=e}},Wg=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Kg=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,zL(t,o)),this.matchTNodeWithReadOption(e,t,yl(t,e,o,!1,!1))}else r===Pi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,yl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Sn||i===ar||i===Pi&&t.type&4)this.addMatch(t.index,-2);else{let o=yl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function zL(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function qL(n,e){return n.type&11?ts(n,e):n.type&4?ud(n,e):null}function GL(n,e,t,r){return t===-1?qL(e,n):t===-2?WL(n,e,r):Va(n,n[re],t,e)}function WL(n,e,t){if(t===Sn)return ts(e,n);if(t===Pi)return ud(e,n);if(t===ar)return wC(e,n)}function TC(n,e,t,r){let i=e[er].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(GL(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function Qg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=TC(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=At;p<h.length;p++){let g=h[p];g[Ci]===g[ct]&&Qg(g[re],g,l,r)}if(h[Bo]!==null){let p=h[Bo];for(let g=0;g<p.length;g++){let y=p[g];Qg(y[re],y,l,r)}}}}}return r}function KL(n,e){return n[er].queries[e].queryList}function DC(n,e,t){let r=new bg((t&4)===4);return Ik(n,e,r,r.destroy),(e[er]??=new Gg).queries.push(new qg(r))-1}function QL(n,e,t){let r=Fe();return r.firstCreatePass&&(bC(r,new Bl(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),DC(r,Z(),e)}function YL(n,e,t,r){let i=Fe();if(i.firstCreatePass){let o=ut();bC(i,new Bl(e,t,r),o.index),ZL(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return DC(i,Z(),t)}function JL(n){return n.split(",").map(e=>e.trim())}function bC(n,e,t){n.queries===null&&(n.queries=new Wg),n.queries.track(new Kg(e,t))}function ZL(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function hy(n,e){return n.queries.getByIndex(e)}function XL(n,e){let t=n[re],r=hy(t,e);return r.crossesNgTemplate?Qg(t,n,e,[]):TC(t,n,r,e)}var Go=class{},fy=class{};var Yg=class extends Go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ul(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=AD(e);this._bootstrapComponents=qb(o.bootstrap),this._r3Injector=fb(e,t,[{provide:Go,useValue:this},{provide:ld,useValue:this.componentFactoryResolver},...r],St(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jg=class extends fy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Yg(this.moduleType,e,[])}};var $l=class extends Go{injector;componentFactoryResolver=new Ul(this);instance=null;constructor(e){super();let t=new Oa([...e.providers,{provide:Go,useValue:this},{provide:ld,useValue:this.componentFactoryResolver}],e.parent||_m(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ka(n,e,t=null){return new $l({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var eF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=RD(!1,t.type),i=r.length>0?Ka([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(H(at))})}return n})();function CC(n){return Ha(()=>{let e=SC(n),t=ye(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(eF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Dn.Emulated,styles:n.styles||bt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Vi("NgStandalone"),AC(t);let r=n.dependencies;return t.directiveDefs=JT(r,!1),t.pipeDefs=JT(r,!0),t.id=oF(t),t})}function tF(n){return bi(n)||Zx(n)}function nF(n){return n!==null}function ji(n){return Ha(()=>({type:n.type,bootstrap:n.bootstrap||bt,declarations:n.declarations||bt,imports:n.imports||bt,exports:n.exports||bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function rF(n,e){if(n==null)return Di;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=od.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function iF(n){if(n==null)return Di;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function An(n){return Ha(()=>{let e=SC(n);return AC(e),e})}function py(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function SC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Di,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rF(n.inputs,e),outputs:iF(n.outputs),debugInfo:null}}function AC(n){n.features?.forEach(e=>e(n))}function JT(n,e){if(!n)return null;let t=e?Xx:tF;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(nF)}function oF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sF(n){return Object.getPrototypeOf(n.prototype).constructor}function aF(n){let e=sF(n.type),t=!0,r=[n];for(;e;){let i;if(In(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ng(n.inputs),s.declaredInputs=ng(n.declaredInputs),s.outputs=ng(n.outputs);let a=i.hostBindings;a&&hF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&lF(n,u),l&&dF(n,l),cF(n,i),Nx(n.outputs,i.outputs),In(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===aF&&(t=!1)}}e=Object.getPrototypeOf(e)}uF(r)}function cF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function uF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ho(i.hostAttrs,t=Ho(t,i.hostAttrs))}}function ng(n){return n===Di?{}:n===bt?[]:n}function lF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function dF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function hF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function RC(n){return gy(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function fF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function gy(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function dd(n,e,t){return n[e]=t}function pF(n,e){return n[e]}function on(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function my(n,e,t,r){let i=on(n,e,t);return on(n,e+1,r)||i}function gF(n,e,t,r,i){let o=my(n,e,t,r);return on(n,e+2,i)||o}function mF(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Wa(e,n,4,s||null,a||null);Cm()&&dy(e,t,h,$o(l,u),ey),h.mergedAttrs=Ho(h.mergedAttrs,h.attrs),xm(e,h);let p=h.tView=Qm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function NC(n,e,t,r,i,o,s,a,u,l){let h=t+Ke,p=e.firstCreatePass?mF(h,e,n,r,i,o,s,a,u):e.data[h];Li(p,!1);let g=vF(e,n,p,t);ed()&&ad(e,n,g,p),ns(g,n);let y=pC(g,n,g,p);return n[h]=y,Jm(n,y),$L(y,p,n),Jl(p)&&sd(e,n,p),u!=null&&Zm(n,p,l),p}function yF(n,e,t,r,i,o,s,a){let u=Z(),l=Fe(),h=$o(l.consts,o);return NC(u,l,n,e,t,r,i,h,s,a),yF}var vF=_F;function _F(n,e,t,r){return td(!0),e[xe].createComment("")}var yy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var MC=new B("");var PC=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Zg})}return n})(),Zg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function ss(n){return!!n&&typeof n.then=="function"}function vy(n){return!!n&&typeof n.subscribe=="function"}var xC=new B("");function _y(n){return Oi([{provide:xC,multi:!0,useValue:n}])}var kC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(xC,{optional:!0})??[];injector=x(Lt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Rt(this.injector,i);if(ss(o))t.push(o);else if(vy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hd=new B("");function IF(){Hp(()=>{throw new V(600,!1)})}function EF(n){return n.isBoundToModule}var wF=10;var jr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(aO);afterRenderManager=x(Nb);zonelessEnabled=x(nd);rootEffectScheduler=x(PC);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ne;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(ir).hasPendingTasks.pipe(se(t=>!t));constructor(){x(is,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(at);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Lt.NULL){_e(10);let o=t instanceof mC;if(!this._injector.get(kC).done){let y="";throw new V(405,y)}let a;o?a=t:a=this._injector.get(ld).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=EF(a)?void 0:this._injector.get(Go),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,g=h.injector.get(MC,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),vl(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),_e(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_e(12),this.tracingSnapshot!==null?this.tracingSnapshot.run($m.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=ce(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ce(t),this.afterTick.next(),_e(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<wF;)_e(14),this.synchronizeOnce(),_e(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)TF(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Zl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;vl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>vl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function TF(n,e,t,r){if(!t&&!Zl(n))return;lC(n,e,t&&!r?0:1)}function Iy(n,e,t,r){let i=Z(),o=qa();if(on(i,o,e)){let s=Fe(),a=Xl();R1(a,i,n,e,t,r)}return Iy}function OC(n,e,t,r){return on(n,qa(),t)?e+wi(t)+r:Mt}function DF(n,e,t,r,i,o){let s=Ak(),a=my(n,s,t,i);return Rm(2),a?e+wi(t)+r+wi(i)+o:Mt}function fl(n,e){return n<<17|e<<2}function xi(n){return n>>17&32767}function bF(n){return(n&2)==2}function CF(n,e){return n&131071|e<<17}function Xg(n){return n|2}function Wo(n){return(n&131068)>>2}function rg(n,e){return n&-131069|e<<2}function SF(n){return(n&1)===1}function em(n){return n|1}function AF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=xi(s),u=Wo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||za(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=xi(n[a+1]);n[r+1]=fl(g,a),g!==0&&(n[g+1]=rg(n[g+1],r)),n[a+1]=CF(n[a+1],r)}else n[r+1]=fl(a,0),a!==0&&(n[a+1]=rg(n[a+1],r)),a=r;else n[r+1]=fl(u,0),a===0?a=r:n[u+1]=rg(n[u+1],r),u=r;l&&(n[r+1]=Xg(n[r+1])),ZT(n,h,r,!0),ZT(n,h,r,!1),RF(e,h,n,r,o),s=fl(a,u),o?e.classBindings=s:e.styleBindings=s}function RF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&za(o,e)>=0&&(t[r+1]=em(t[r+1]))}function ZT(n,e,t,r){let i=n[t+1],o=e===null,s=r?xi(i):Wo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];NF(u,e)&&(a=!0,n[s+1]=r?em(l):Xg(l)),s=r?xi(l):Wo(l)}a&&(n[t+1]=r?Xg(i):em(i))}function NF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?za(n,e)>=0:!1}var Ge={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function LC(n){return n.substring(Ge.key,Ge.keyEnd)}function MF(n){return n.substring(Ge.value,Ge.valueEnd)}function PF(n){return jC(n),FC(n,Ko(n,0,Ge.textEnd))}function FC(n,e){let t=Ge.textEnd;return t===e?-1:(e=Ge.keyEnd=kF(n,Ge.key=e,t),Ko(n,e,t))}function xF(n){return jC(n),VC(n,Ko(n,0,Ge.textEnd))}function VC(n,e){let t=Ge.textEnd,r=Ge.key=Ko(n,e,t);return t===r?-1:(r=Ge.keyEnd=OF(n,r,t),r=XT(n,r,t,58),r=Ge.value=Ko(n,r,t),r=Ge.valueEnd=LF(n,r,t),XT(n,r,t,59))}function jC(n){Ge.key=0,Ge.keyEnd=0,Ge.value=0,Ge.valueEnd=0,Ge.textEnd=n.length}function Ko(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function kF(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function OF(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function XT(n,e,t,r){return e=Ko(n,e,t),e<t&&e++,e}function LF(n,e,t){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<t;){let u=n.charCodeAt(s++);if(u===59)return a;u===34||u===39?a=s=eD(n,u,s,t):e===s-4&&o===85&&i===82&&r===76&&u===40?a=s=eD(n,41,s,t):u>32&&(a=s),o=i,i=r,r=u&-33}return a}function eD(n,e,t,r){let i=-1,o=t;for(;o<r;){let s=n.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function FF(n,e,t){let r=Z(),i=qa();if(on(r,i,e)){let o=Fe(),s=Xl();Xm(o,s,r,n,e,r[xe],t,!1)}return FF}function tm(n,e,t,r,i){ty(e,n,t,i?"class":"style",r)}function VF(n,e,t){return UC(n,e,t,!1),VF}function jF(n,e){return UC(n,e,null,!0),jF}function SW(n){BC(zC,UF,n,!1)}function UF(n,e){for(let t=xF(e);t>=0;t=VC(e,t))zC(n,LC(e),MF(e))}function AW(n){BC(WF,BF,n,!0)}function BF(n,e){for(let t=PF(e);t>=0;t=FC(e,t))Kl(n,LC(e),!0)}function UC(n,e,t,r){let i=Z(),o=Fe(),s=Rm(2);if(o.firstUpdatePass&&HC(o,n,s,r),e!==Mt&&on(i,s,e)){let a=o.data[Ur()];qC(o,a,i,i[xe],n,i[s+1]=QF(e,t),r,s)}}function BC(n,e,t,r){let i=Fe(),o=Rm(2);i.firstUpdatePass&&HC(i,null,o,r);let s=Z();if(t!==Mt&&on(s,o,t)){let a=i.data[Ur()];if(GC(a,r)&&!$C(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=cg(u,t||"")),tm(i,a,s,t,r)}else KF(i,a,s,s[xe],s[o+1],s[o+1]=GF(n,e,t),r,o)}}function $C(n,e){return e>=n.expandoStartIndex}function HC(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ur()],s=$C(n,t);GC(o,r)&&e===null&&!s&&(e=!1),e=$F(i,o,e,r),AF(i,o,e,t,s,r)}}function $F(n,e,t,r){let i=xk(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ig(null,n,e,t,r),t=Ba(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=ig(i,n,e,t,r),o===null){let u=HF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=ig(null,n,e,u[1],r),u=Ba(u,e.attrs,r),zF(n,e,r,u))}else o=qF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function HF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Wo(r)!==0)return n[xi(r)]}function zF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[xi(i)]=r}function qF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ba(r,s,t)}return Ba(r,e.attrs,t)}function ig(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ba(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ba(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Kl(n,s,t?!0:e[++o]))}return n===void 0?null:n}function GF(n,e,t){if(t==null||t==="")return bt;let r=[],i=Ft(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function zC(n,e,t){Kl(n,e,Ft(t))}function WF(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Kl(n,r,t)}function KF(n,e,t,r,i,o,s,a){i===Mt&&(i=bt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,w=null,A;h===p?(u+=2,l+=2,g!==y&&(w=p,A=y)):p===null||h!==null&&h<p?(u+=2,w=h):(l+=2,w=p,A=y),w!==null&&qC(n,e,t,r,w,A,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function qC(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=SF(l)?tD(u,e,t,i,Wo(l),s):void 0;if(!Hl(h)){Hl(o)||bF(l)&&(o=tD(u,null,t,i,a,s));let p=$D(Ur(),t);W1(r,s,p,i,o)}}function tD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Mt&&(g=p?bt:void 0);let y=p?Kp(g,r):h===r?g:void 0;if(l&&!Hl(y)&&(y=Kp(u,r)),Hl(y)&&(a=y,s))return a;let w=n[i+1];i=s?xi(w):Wo(w)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Kp(u,r))}return a}function Hl(n){return n!==void 0}function QF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=St(Ft(n)))),n}function GC(n,e){return(n.flags&(e?8:16))!==0}function RW(n,e){Vi("NgControlFlow");let t=Z(),r=qa(),i=t[r]!==Mt?t[r]:-1,o=i!==-1?nD(t,Ke+i):void 0,s=0;if(on(t,r,n)){let a=ce(null);try{if(o!==void 0&&cL(o,s),n!==-1){let u=Ke+n,l=nD(t,u),h=YF(t[re],u),p=jl(l,h.tView.ssrId),g=ry(t,h,e,{dehydratedView:p});ly(l,g,s,Ll(h,p))}}finally{ce(a)}}else if(o!==void 0){let a=aL(o,s);a!==void 0&&(a[_t]=e)}}function nD(n,e){return n[e]}function YF(n,e){return Em(n,e)}function WC(n,e,t,r){let i=Z(),o=Fe(),s=Ke+n,a=i[xe],u=o.firstCreatePass?_C(s,o,i,e,ey,Cm(),t,r):o.data[s],l=JF(o,i,u,a,e,n);i[s]=l;let h=Jl(u);return Li(u,!0),Yb(a,l,u),!oy(u)&&ed()&&ad(o,i,l,u),(Ek()===0||h)&&ns(l,i),wk(),h&&(sd(o,i,u),qm(o,u,i)),r!==null&&Zm(i,u),WC}function KC(){let n=ut();Sm()?Am():(n=n.parent,Li(n,!1));let e=n;Dk(e)&&bk(),Tk();let t=Fe();return t.firstCreatePass&&IC(t,e),e.classesWithoutHost!=null&&Uk(e)&&tm(t,e,Z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Bk(e)&&tm(t,e,Z(),e.stylesWithoutHost,!1),KC}function Ey(n,e,t,r){return WC(n,e,t,r),KC(),Ey}var JF=(n,e,t,r,i,o)=>(td(!0),Kb(r,i,Fk()));function ZF(n,e,t,r,i){let o=e.consts,s=$o(o,r),a=Wa(e,n,8,"ng-container",s);s!==null&&Hg(a,s,!0);let u=$o(o,i);return Cm()&&dy(e,t,a,u,ey),a.mergedAttrs=Ho(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function QC(n,e,t){let r=Z(),i=Fe(),o=n+Ke,s=i.firstCreatePass?ZF(o,i,r,e,t):i.data[o];Li(s,!0);let a=eV(i,r,s,n);return r[o]=a,ed()&&ad(i,r,a,s),ns(a,r),Jl(s)&&(sd(i,r,s),qm(i,s,r)),t!=null&&Zm(r,s),QC}function YC(){let n=ut(),e=Fe();return Sm()?Am():(n=n.parent,Li(n,!1)),e.firstCreatePass&&(xm(e,n),Im(n)&&e.queries.elementEnd(n)),YC}function XF(n,e,t){return QC(n,e,t),YC(),XF}var eV=(n,e,t,r)=>(td(!0),p1(e[xe],""));function NW(){return Z()}var _i=void 0;function tV(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var nV=["en",[["a","p"],["AM","PM"],_i],[["AM","PM"],_i,_i],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_i,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_i,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_i,"{1} 'at' {0}",_i],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",tV],og={};function Gt(n){let e=rV(n),t=rD(e);if(t)return t;let r=e.split("-")[0];if(t=rD(r),t)return t;if(r==="en")return nV;throw new V(701,!1)}function rD(n){return n in og||(og[n]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[n]),og[n]}var je=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(je||{});function rV(n){return n.toLowerCase().replace(/_/g,"-")}var zl="en-US";var iV=zl;function oV(n){typeof n=="string"&&(iV=n.toLowerCase().replace(/_/g,"-"))}function iD(n,e,t){return function r(i){if(i===Function)return t;let o=Yo(n)?wn(n.index,e):e;uy(o,5);let s=e[_t],a=oD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=oD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function oD(n,e,t,r){let i=ce(null);try{return _e(6,e,t),t(r)!==!1}catch(o){return sV(n,o),!1}finally{_e(7,e,t),ce(i)}}function sV(n,e){let t=n[Uo],r=t?t.get(Tn,null):null;r&&r.handleError(e)}function sD(n,e,t,r,i,o){let s=e[t],a=e[re],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?bm(a):null,g=Dm(e),y=h.subscribe(o),w=g.length;g.push(o,y),p&&p.push(i,n.index,w,-(w+1))}function wy(n,e,t,r){let i=Z(),o=Fe(),s=ut();return JC(o,i,i[xe],s,n,e,r),wy}function aV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[bl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function JC(n,e,t,r,i,o,s){let a=Jl(r),l=n.firstCreatePass?bm(n):null,h=Dm(e),p=!0;if(r.type&3||s){let g=Cn(r,e),y=s?s(g):g,w=h.length,A=s?k=>s(En(k[r.index])):r.index,R=null;if(!s&&a&&(R=aV(n,e,i,r.index)),R!==null){let k=R.__ngLastListenerFn__||R;k.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=iD(r,e,o),SO(e,y,i,o);let k=t.listen(y,i,o);h.push(o,k),l&&l.push(i,A,w,w+1)}}else o=iD(r,e,o);if(p){let g=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let w=0;w<y.length;w+=2){let A=y[w],R=y[w+1];sD(r,e,A,R,i,o)}if(g&&g.length)for(let w of g)sD(r,e,w,i,i,o)}}function MW(n=1){return Ok(n)}function cV(n,e){let t=null,r=o1(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Wb(n,o,!0):c1(r,o))return i}return t}function PW(n){let e=Z()[qt][Nt];if(!e.projection){let t=n?n.length:1,r=e.projection=Qx(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?cV(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function xW(n,e=0,t,r,i,o){let s=Z(),a=Fe(),u=r?n+1:null;u!==null&&NC(s,a,u,r,i,o,null,t);let l=Wa(a,Ke+n,16,null,t||null);l.projection===null&&(l.projection=e),Am();let p=!s[La]||GD();s[qt][Nt].projection[l.projection]===null&&u!==null?uV(s,a,u):p&&!oy(l)&&q1(a,s,l)}function uV(n,e,t){let r=Ke+t,i=e.data[r],o=n[r],s=jl(o,i.tView.ssrId),a=ry(n,i,void 0,{dehydratedView:s});ly(o,a,0,Ll(i,s))}function lV(n,e,t){return ZC(n,"",e,"",t),lV}function ZC(n,e,t,r,i){let o=Z(),s=OC(o,e,t,r);if(s!==Mt){let a=Fe(),u=Xl();Xm(a,u,o,n,s,o[xe],i,!1)}return ZC}function dV(n,e,t,r){YL(n,e,t,r)}function kW(n,e,t){QL(n,e,t)}function hV(n){let e=Z(),t=Fe(),r=QD();Nm(r+1);let i=hy(t,r);if(n.dirty&&mk(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=XL(e,r);n.reset(o,lO),n.notifyOnChanges()}return!0}return!1}function fV(){return KL(Z(),QD())}function OW(n){let e=Sk();return wm(e,Ke+n)}function LW(n,e=""){let t=Z(),r=Fe(),i=n+Ke,o=r.firstCreatePass?Wa(r,i,1,e,null):r.data[i],s=pV(r,t,o,e,n);t[i]=s,ed()&&ad(r,t,s,o),Li(o,!1)}var pV=(n,e,t,r,i)=>(td(!0),h1(e[xe],r));function gV(n){return XC("",n,""),gV}function XC(n,e,t){let r=Z(),i=OC(r,n,e,t);return i!==Mt&&eS(r,Ur(),i),XC}function mV(n,e,t,r,i){let o=Z(),s=DF(o,n,e,t,r,i);return s!==Mt&&eS(o,Ur(),s),mV}function eS(n,e,t){let r=$D(e,n);f1(n[xe],r,t)}function yV(n,e,t){Ib(e)&&(e=e());let r=Z(),i=qa();if(on(r,i,e)){let o=Fe(),s=Xl();Xm(o,s,r,n,e,r[xe],t,!1)}return yV}function FW(n,e){let t=Ib(n);return t&&n.set(e),t}function vV(n,e){let t=Z(),r=Fe(),i=ut();return JC(r,t,t[xe],i,n,e),vV}function _V(n,e,t){let r=Fe();if(r.firstCreatePass){let i=In(n);nm(t,r.data,r.blueprint,i,!0),nm(e,r.data,r.blueprint,i,!1)}}function nm(n,e,t,r,i){if(n=vt(n),Array.isArray(n))for(let o=0;o<n.length;o++)nm(n[o],e,t,r,i);else{let o=Fe(),s=Z(),a=ut(),u=jo(n)?n:vt(n.provide),l=PD(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(jo(n)||!n.multi){let y=new Mi(l,i,Te),w=ag(u,e,i?h:h+g,p);w===-1?(Ig(Pl(a,s),o,u),sg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[w]=y,s[w]=y)}else{let y=ag(u,e,h+g,p),w=ag(u,e,h,h+g),A=y>=0&&t[y],R=w>=0&&t[w];if(i&&!R||!i&&!A){Ig(Pl(a,s),o,u);let k=wV(i?EV:IV,t.length,i,r,l);!i&&R&&(t[w].providerFactory=k),sg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=tS(t[i?w:y],l,!i&&r);sg(o,n,y>-1?y:w,k)}!i&&r&&R&&t[w].componentProviders++}}}function sg(n,e,t,r){let i=jo(e),o=ik(e);if(i||o){let u=(o?vt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function tS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ag(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function IV(n,e,t,r,i){return rm(this.multi,[])}function EV(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Va(r,r[re],this.providerFactory.index,i);s=u.slice(0,a),rm(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],rm(o,s);return s}function rm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function wV(n,e,t,r,i){let o=new Mi(n,t,Te);return o.multi=[],o.index=e,o.componentProviders=0,tS(o,i,r&&!t),o}function VW(n,e=[]){return t=>{t.providersResolver=(r,i)=>_V(r,i?i(n):n,e)}}function jW(n,e,t){let r=es()+n,i=Z();return i[r]===Mt?dd(i,r,t?e.call(t):e()):pF(i,r)}function UW(n,e,t,r){return nS(Z(),es(),n,e,t,r)}function BW(n,e,t,r,i){return rS(Z(),es(),n,e,t,r,i)}function $W(n,e,t,r,i,o){return TV(Z(),es(),n,e,t,r,i,o)}function Ty(n,e){let t=n[e];return t===Mt?void 0:t}function nS(n,e,t,r,i,o){let s=e+t;return on(n,s,i)?dd(n,s+1,o?r.call(o,i):r(i)):Ty(n,s+1)}function rS(n,e,t,r,i,o,s){let a=e+t;return my(n,a,i,o)?dd(n,a+2,s?r.call(s,i,o):r(i,o)):Ty(n,a+2)}function TV(n,e,t,r,i,o,s,a){let u=e+t;return gF(n,u,i,o,s)?dd(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):Ty(n,u+3)}function HW(n,e){let t=Fe(),r,i=n+Ke;t.firstCreatePass?(r=DV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ti(r.type,!0)),s,a=Dt(Te);try{let u=Ml(!1),l=o();return Ml(u),gk(t,Z(),i,l),l}finally{Dt(a)}}function DV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function zW(n,e,t){let r=n+Ke,i=Z(),o=wm(i,r);return iS(i,r)?nS(i,es(),e,o.transform,t,o):o.transform(t)}function qW(n,e,t,r){let i=n+Ke,o=Z(),s=wm(o,i);return iS(o,i)?rS(o,es(),e,s.transform,t,r,s):s.transform(t,r)}function iS(n,e){return n[re].data[e].pure}function GW(n,e){return ud(n,e)}var $a=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},WW=new $a("19.2.14"),im=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},oS=(()=>{class n{compileModuleSync(t){return new Jg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=AD(t),o=qb(i.declarations).reduce((s,a)=>{let u=bi(a);return u&&s.push(new qo(u)),s},[]);return new im(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bV=(()=>{class n{zone=x(Pe);changeDetectionScheduler=x(Vr);applicationRef=x(jr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CV=new B("",{factory:()=>!1});function sS({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Pe(ye(F({},aS()),{scheduleInRootZone:t})),[{provide:Pe,useFactory:n},{provide:Vo,multi:!0,useFactory:()=>{let r=x(bV,{optional:!0});return()=>r.initialize()}},{provide:Vo,multi:!0,useFactory:()=>{let r=x(SV);return()=>{r.initialize()}}},e===!0?{provide:gb,useValue:!0}:[],{provide:mb,useValue:t??pb}]}function KW(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=sS({ngZoneFactory:()=>{let i=aS(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Vi("NgZone_CoalesceEvent"),new Pe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Oi([{provide:CV,useValue:!0},{provide:nd,useValue:!1},r])}function aS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var SV=(()=>{class n{subscription=new Le;initialized=!1;zone=x(Pe);pendingTasks=x(ir);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var AV=(()=>{class n{appRef=x(jr);taskService=x(ir);ngZone=x(Pe);zonelessEnabled=x(nd);tracing=x(is,{optional:!0});disableScheduling=x(gb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(kl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(mb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?PT:yb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(kl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,PT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RV(){return typeof $localize<"u"&&$localize.locale||zl}var fd=new B("",{providedIn:"root",factory:()=>x(fd,ne.Optional|ne.SkipSelf)||RV()});var om=new B(""),NV=new B("");function Ma(n){return!n.moduleRef}function MV(n){let e=Ma(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Pe);return t.run(()=>{Ma(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Tn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ma(n)){let o=()=>e.destroy(),s=n.platformInjector.get(om);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(om);s.add(o),n.moduleRef.onDestroy(()=>{vl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return xV(r,t,()=>{let o=e.get(kC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(fd,zl);if(oV(s||zl),!e.get(NV,!0))return Ma(n)?e.get(jr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ma(n)){let u=e.get(jr);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return PV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function PV(n,e){let t=n.injector.get(jr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new V(-403,!1);e.push(n)}function xV(n,e,t){try{let r=t();return ss(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var _l=null;function kV(n=[],e){return Lt.create({name:e,providers:[{provide:Ql,useValue:"platform"},{provide:om,useValue:new Set([()=>_l=null])},...n]})}function OV(n=[]){if(_l)return _l;let e=kV(n);return _l=e,IF(),LV(e),e}function LV(n){let e=n.get(Um,null);Rt(n,()=>{e?.forEach(t=>t())})}function QW(){return!1}var as=(()=>{class n{static __NG_ELEMENT_ID__=FV}return n})();function FV(n){return VV(ut(),Z(),(n&16)===16)}function VV(n,e,t){if(Yo(n)&&!t){let r=wn(n.index,e);return new Ua(r,r)}else if(n.type&175){let r=e[qt];return new Ua(r,e)}return null}var sm=class{constructor(){}supports(e){return RC(e)}create(e){return new am(e)}},jV=(n,e)=>e,am=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||jV}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<aD(r,i,o)?t:r,a=aD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,w=y+g;h<=w&&w<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!RC(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,fF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new cm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ql),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ql),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},cm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},um=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ql=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new um,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var lm=class{constructor(){}supports(e){return e instanceof Map||gy(e)}create(){return new dm}},dm=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||gy(e)))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new hm(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},hm=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function cD(){return new Dy([new sm])}var Dy=(()=>{class n{factories;static \u0275prov=U({token:n,providedIn:"root",factory:cD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||cD()),deps:[[n,new DD,new mm]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function uD(){return new by([new lm])}var by=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:uD});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||uD()),deps:[[n,new DD,new mm]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new V(901,!1)}}return n})();function cS(n){_e(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=OV(r),o=[sS({}),{provide:Vr,useExisting:AV},...t||[]],s=new $l({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return MV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{_e(9)}}function Qa(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function UV(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Cy(n){return Gp(n)}function YW(n,e){return $p(n,e?.equal)}var fm=class{[Ht];constructor(e){this[Ht]=e}destroy(){this[Ht].destroy()}};function BV(n,e){!e?.injector&&kD(BV);let t=e?.injector??x(Lt),r=e?.manualCleanup!==!0?t.get(Fi):null,i,o=t.get(Hm,null,{optional:!0}),s=t.get(Vr);return o!==null&&!e?.forceRoot?(i=zV(o.view,s,n),r instanceof xl&&r._lView===o.view&&(r=null)):i=qV(n,t.get(PC),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new fm(i)}var uS=ye(F({},Mo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:ja,run(){if(this.dirty=!1,this.hasRun&&!il(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=Sa(this),t=Al(!1);try{this.maybeCleanup(),this.fn(n)}finally{Al(t),rl(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),$V=ye(F({},uS),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Aa(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),HV=ye(F({},uS),{consumerMarkedDirty(){this.view[Y]|=8192,Xo(this.view),this.notifier.notify(13)},destroy(){Aa(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Si]?.delete(this)}});function zV(n,e,t){let r=Object.create(HV);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[Si]??=new Set,n[Si].add(r),r.consumerMarkedDirty(r),r}function qV(n,e,t){let r=Object.create($V);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}function lS(n){let e=bi(n);if(!e)return null;let t=new qo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ue=new B("");var fS=null;function ur(){return fS}function Sy(n){fS??=n}var Ya=class{},Ja=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(pS),providedIn:"platform"})}return n})(),Ay=new B(""),pS=(()=>{class n extends Ja{_location;_history;_doc=x(Ue);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ur().getBaseHref(this._doc)}onPopState(t){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function pd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function dS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function an(n){return n&&n[0]!=="?"?`?${n}`:n}var cn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(md),providedIn:"root"})}return n})(),gd=new B(""),md=(()=>{class n extends cn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return pd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+an(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(Ja),H(gd,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Br=(()=>{class n{_subject=new Ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=KV(dS(hS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+an(r))}normalize(t){return n.stripTrailingSlash(WV(this._basePath,hS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+an(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+an(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=an;static joinWithSlash=pd;static stripTrailingSlash=dS;static \u0275fac=function(r){return new(r||n)(H(cn))};static \u0275prov=U({token:n,factory:()=>GV(),providedIn:"root"})}return n})();function GV(){return new Br(H(cn))}function WV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function hS(n){return n.replace(/\/index.html$/,"")}function KV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Oy=(()=>{class n extends cn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=pd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(Ja),H(gd,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var lt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(lt||{}),Ie=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ie||{}),Pt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Pt||{}),dr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _S(n){return Gt(n)[je.LocaleId]}function IS(n,e,t){let r=Gt(n),i=[r[je.DayPeriodsFormat],r[je.DayPeriodsStandalone]],o=Wt(i,e);return Wt(o,t)}function ES(n,e,t){let r=Gt(n),i=[r[je.DaysFormat],r[je.DaysStandalone]],o=Wt(i,e);return Wt(o,t)}function wS(n,e,t){let r=Gt(n),i=[r[je.MonthsFormat],r[je.MonthsStandalone]],o=Wt(i,e);return Wt(o,t)}function TS(n,e){let r=Gt(n)[je.Eras];return Wt(r,e)}function Za(n,e){let t=Gt(n);return Wt(t[je.DateFormat],e)}function Xa(n,e){let t=Gt(n);return Wt(t[je.TimeFormat],e)}function ec(n,e){let r=Gt(n)[je.DateTimeFormat];return Wt(r,e)}function tc(n,e){let t=Gt(n),r=t[je.NumberSymbols][e];if(typeof r>"u"){if(e===dr.CurrencyDecimal)return t[je.NumberSymbols][dr.Decimal];if(e===dr.CurrencyGroup)return t[je.NumberSymbols][dr.Group]}return r}function DS(n){if(!n[je.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bS(n){let e=Gt(n);return DS(e),(e[je.ExtraData][2]||[]).map(r=>typeof r=="string"?Ry(r):[Ry(r[0]),Ry(r[1])])}function CS(n,e,t){let r=Gt(n);DS(r);let i=[r[je.ExtraData][0],r[je.ExtraData][1]],o=Wt(i,e)||[];return Wt(o,t)||[]}function Wt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ry(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var QV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yd={},YV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function SS(n,e,t,r){let i=o2(n);e=lr(t,e)||e;let s=[],a;for(;e;)if(a=YV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=RS(r,u),i=i2(i,r));let l="";return s.forEach(h=>{let p=n2(h);l+=p?p(i,t,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function wd(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function lr(n,e){let t=_S(n);if(yd[t]??={},yd[t][e])return yd[t][e];let r="";switch(e){case"shortDate":r=Za(n,Pt.Short);break;case"mediumDate":r=Za(n,Pt.Medium);break;case"longDate":r=Za(n,Pt.Long);break;case"fullDate":r=Za(n,Pt.Full);break;case"shortTime":r=Xa(n,Pt.Short);break;case"mediumTime":r=Xa(n,Pt.Medium);break;case"longTime":r=Xa(n,Pt.Long);break;case"fullTime":r=Xa(n,Pt.Full);break;case"short":let i=lr(n,"shortTime"),o=lr(n,"shortDate");r=vd(ec(n,Pt.Short),[i,o]);break;case"medium":let s=lr(n,"mediumTime"),a=lr(n,"mediumDate");r=vd(ec(n,Pt.Medium),[s,a]);break;case"long":let u=lr(n,"longTime"),l=lr(n,"longDate");r=vd(ec(n,Pt.Long),[u,l]);break;case"full":let h=lr(n,"fullTime"),p=lr(n,"fullDate");r=vd(ec(n,Pt.Full),[h,p]);break}return r&&(yd[t][e]=r),r}function vd(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function un(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function JV(n,e){return un(n,3).substring(0,e)}function Be(n,e,t=0,r=!1,i=!1){return function(o,s){let a=ZV(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return JV(a,e);let u=tc(s,dr.MinusSign);return un(a,e,u,r,i)}}function ZV(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function De(n,e,t=lt.Format,r=!1){return function(i,o){return XV(i,o,n,e,t,r)}}function XV(n,e,t,r,i,o){switch(t){case 2:return wS(e,i,r)[n.getMonth()];case 1:return ES(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=bS(e),h=CS(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,w]=g,A=s>=y.hours&&a>=y.minutes,R=s<w.hours||s===w.hours&&a<w.minutes;if(y.hours<w.hours){if(A&&R)return!0}else if(A||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return IS(e,i,r)[s<12?0:1];case 3:return TS(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new Error(`unexpected translation type ${u}`)}}function _d(n){return function(e,t,r){let i=-1*r,o=tc(t,dr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+un(s,2,o)+un(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+un(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+un(s,2,o)+":"+un(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+un(s,2,o)+":"+un(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var e2=0,Ed=4;function t2(n){let e=wd(n,e2,1).getDay();return wd(n,0,1+(e<=Ed?Ed:Ed+7)-e)}function AS(n){let e=n.getDay(),t=e===0?-3:Ed-e;return wd(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Ny(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=AS(t),s=t2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return un(i,n,tc(r,dr.MinusSign))}}function Id(n,e=!1){return function(t,r){let o=AS(t).getFullYear();return un(o,n,tc(r,dr.MinusSign),e)}}var My={};function n2(n){if(My[n])return My[n];let e;switch(n){case"G":case"GG":case"GGG":e=De(3,Ie.Abbreviated);break;case"GGGG":e=De(3,Ie.Wide);break;case"GGGGG":e=De(3,Ie.Narrow);break;case"y":e=Be(0,1,0,!1,!0);break;case"yy":e=Be(0,2,0,!0,!0);break;case"yyy":e=Be(0,3,0,!1,!0);break;case"yyyy":e=Be(0,4,0,!1,!0);break;case"Y":e=Id(1);break;case"YY":e=Id(2,!0);break;case"YYY":e=Id(3);break;case"YYYY":e=Id(4);break;case"M":case"L":e=Be(1,1,1);break;case"MM":case"LL":e=Be(1,2,1);break;case"MMM":e=De(2,Ie.Abbreviated);break;case"MMMM":e=De(2,Ie.Wide);break;case"MMMMM":e=De(2,Ie.Narrow);break;case"LLL":e=De(2,Ie.Abbreviated,lt.Standalone);break;case"LLLL":e=De(2,Ie.Wide,lt.Standalone);break;case"LLLLL":e=De(2,Ie.Narrow,lt.Standalone);break;case"w":e=Ny(1);break;case"ww":e=Ny(2);break;case"W":e=Ny(1,!0);break;case"d":e=Be(2,1);break;case"dd":e=Be(2,2);break;case"c":case"cc":e=Be(7,1);break;case"ccc":e=De(1,Ie.Abbreviated,lt.Standalone);break;case"cccc":e=De(1,Ie.Wide,lt.Standalone);break;case"ccccc":e=De(1,Ie.Narrow,lt.Standalone);break;case"cccccc":e=De(1,Ie.Short,lt.Standalone);break;case"E":case"EE":case"EEE":e=De(1,Ie.Abbreviated);break;case"EEEE":e=De(1,Ie.Wide);break;case"EEEEE":e=De(1,Ie.Narrow);break;case"EEEEEE":e=De(1,Ie.Short);break;case"a":case"aa":case"aaa":e=De(0,Ie.Abbreviated);break;case"aaaa":e=De(0,Ie.Wide);break;case"aaaaa":e=De(0,Ie.Narrow);break;case"b":case"bb":case"bbb":e=De(0,Ie.Abbreviated,lt.Standalone,!0);break;case"bbbb":e=De(0,Ie.Wide,lt.Standalone,!0);break;case"bbbbb":e=De(0,Ie.Narrow,lt.Standalone,!0);break;case"B":case"BB":case"BBB":e=De(0,Ie.Abbreviated,lt.Format,!0);break;case"BBBB":e=De(0,Ie.Wide,lt.Format,!0);break;case"BBBBB":e=De(0,Ie.Narrow,lt.Format,!0);break;case"h":e=Be(3,1,-12);break;case"hh":e=Be(3,2,-12);break;case"H":e=Be(3,1);break;case"HH":e=Be(3,2);break;case"m":e=Be(4,1);break;case"mm":e=Be(4,2);break;case"s":e=Be(5,1);break;case"ss":e=Be(5,2);break;case"S":e=Be(6,1);break;case"SS":e=Be(6,2);break;case"SSS":e=Be(6,3);break;case"Z":case"ZZ":case"ZZZ":e=_d(0);break;case"ZZZZZ":e=_d(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=_d(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=_d(2);break;default:return null}return My[n]=e,e}function RS(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function r2(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function i2(n,e,t){let i=n.getTimezoneOffset(),o=RS(e,i);return r2(n,-1*(o-i))}function o2(n){if(gS(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return wd(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(QV))return s2(r)}let e=new Date(n);if(!gS(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function s2(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,l),e}function gS(n){return n instanceof Date&&!isNaN(n.valueOf())}var Py=/\s+/,mS=[],a2=(()=>{class n{_ngEl;_renderer;initialClasses=mS;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Py):mS}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Py):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Py).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Te(Sn),Te(os))};static \u0275dir=An({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Td=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},NS=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Td(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),yS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);yS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Te(ar),Te(Pi),Te(Dy))};static \u0275dir=An({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function yS(n,e){n.context.$implicit=e.item}var c2=(()=>{class n{_viewContainer;_context=new Dd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){vS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){vS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Te(ar),Te(Pi))};static \u0275dir=An({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Dd=class{$implicit=null;ngIf=null};function vS(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}var u2=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:bn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(Te(Sn),Te(by),Te(os))};static \u0275dir=An({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),l2=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Te(ar))};static \u0275dir=An({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Zo]})}return n})();function MS(n,e){return new V(2100,!1)}var xy=class{createSubscription(e,t){return Cy(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Cy(()=>e.unsubscribe())}},ky=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},d2=new ky,h2=new xy,f2=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(ss(t))return d2;if(vy(t))return h2;throw MS(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Te(as,16))};static \u0275pipe=py({name:"async",type:n,pure:!1})}return n})();var p2="mediumDate",PS=new B(""),xS=new B(""),g2=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??p2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return SS(t,s,o||this.locale,a)}catch(s){throw MS(n,s.message)}}static \u0275fac=function(r){return new(r||n)(Te(fd,16),Te(PS,24),Te(xS,24))};static \u0275pipe=py({name:"date",type:n,pure:!0})}return n})();var kS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ji({type:n});static \u0275inj=ki({})}return n})();function nc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bd="browser",OS="server";function m2(n){return n===bd}function Cd(n){return n===OS}var Ui=class{};var LS=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Ly(x(Ue),window)})}return n})(),Ly=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=y2(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function y2(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Rd=new B(""),Uy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(H(Rd),H(Pe))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),rc=class{_doc;constructor(e){this._doc=e}manager},Sd="ng-app-id";function FS(n){for(let e of n)e.remove()}function VS(n,e){let t=e.createElement("style");return t.textContent=n,t}function _2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Sd}="${e}"],link[${Sd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Sd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Vy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var By=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Cd(o),_2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,VS);r?.forEach(i=>this.addUsage(i,this.external,Vy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(FS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])FS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,VS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Vy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Sd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(H(Ue),H(jm),H(Bm,8),H(rs))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Fy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$y=/%COMP%/g;var US="%COMP%",I2=`_nghost-${US}`,E2=`_ngcontent-${US}`,w2=!0,T2=new B("",{providedIn:"root",factory:()=>w2});function D2(n){return E2.replace($y,n)}function b2(n){return I2.replace($y,n)}function BS(n,e){return e.map(t=>t.replace($y,n))}var Hy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Cd(a),this.defaultRenderer=new ic(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Dn.ShadowDom&&(r=ye(F({},r),{encapsulation:Dn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ad?i.applyToHost(t):i instanceof oc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Dn.Emulated:o=new Ad(u,l,r,this.appId,h,s,a,p,g);break;case Dn.ShadowDom:return new jy(u,l,t,r,s,a,this.nonce,p,g);default:o=new oc(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(H(Uy),H(By),H(jm),H(T2),H(Ue),H(rs),H(Pe),H(Bm),H(is,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),ic=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Fy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(jS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Fy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Fy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(bn.DashCase|bn.Important)?e.style.setProperty(t,r,i&bn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&bn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ur().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function jS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var jy=class extends ic{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=BS(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=Vy(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oc=class extends ic{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?BS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ad=class extends oc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=D2(h),this.hostAttr=b2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Nd=class n extends Ya{supportsDOMEvents=!0;static makeCurrent(){Sy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=C2();return t==null?null:S2(t)}resetBaseElement(){sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nc(document.cookie,e)}},sc=null;function C2(){return sc=sc||document.head.querySelector("base"),sc?sc.getAttribute("href"):null}function S2(n){return new URL(n,document.baseURI).pathname}var A2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),HS=(()=>{class n extends rc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(H(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),$S=["alt","control","meta","shift"],R2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},zS=(()=>{class n extends rc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ur().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),$S.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=R2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$S.forEach(s=>{if(s!==i){let a=N2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(H(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function M2(n,e){return cS(F({rootComponent:n},P2(e)))}function P2(n){return{appProviders:[...F2,...n?.providers??[]],platformProviders:L2}}function x2(){Nd.makeCurrent()}function k2(){return new Tn}function O2(){return Sb(document),document}var L2=[{provide:rs,useValue:bd},{provide:Um,useValue:x2,multi:!0},{provide:Ue,useFactory:O2}];var F2=[{provide:Ql,useValue:"root"},{provide:Tn,useFactory:k2},{provide:Rd,useClass:HS,multi:!0,deps:[Ue]},{provide:Rd,useClass:zS,multi:!0,deps:[Ue]},Hy,By,Uy,{provide:zo,useExisting:Hy},{provide:Ui,useClass:A2},[]];var us=class{},ac=class{},$r=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Pd=class{encodeKey(e){return qS(e)}encodeValue(e){return qS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function V2(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var j2=/%(\d[a-f0-9])/gi,U2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qS(n){return encodeURIComponent(n).replace(j2,(e,t)=>U2[t]??e)}function Md(n){return`${n}`}var hr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Pd,e.fromString){if(e.fromObject)throw new V(2805,!1);this.map=V2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Md):[Md(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Md(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Md(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var xd=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function B2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function GS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WS(n){return typeof Blob<"u"&&n instanceof Blob}function KS(n){return typeof FormData<"u"&&n instanceof FormData}function $2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var QS="Content-Type",YS="Accept",JS="X-Request-URL",ZS="text/plain",XS="application/json",H2=`${XS}, ${ZS}, */*`,cs=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(B2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new $r,this.context??=new xd,!this.params)this.params=new hr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||GS(this.body)||WS(this.body)||KS(this.body)||$2(this.body)?this.body:this.body instanceof hr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||KS(this.body)?null:WS(this.body)?this.body.type||null:GS(this.body)?null:typeof this.body=="string"?ZS:this.body instanceof hr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?XS:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Bi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Bi||{}),ls=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new $r,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},kd=class n extends ls{constructor(e={}){super(e)}type=Bi.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},cc=class n extends ls{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Bi.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},uc=class extends ls{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},z2=200,q2=204;function zy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var e0=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof cs)o=t;else{let u;i.headers instanceof $r?u=i.headers:u=new $r(i.headers);let l;i.params&&(i.params instanceof hr?l=i.params:l=new hr({fromObject:i.params})),o=new cs(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=W(o).pipe(yn(u=>this.handler.handle(u)));if(t instanceof cs||i.observe==="events")return s;let a=s.pipe(yt(u=>u instanceof cc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(se(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new V(2806,!1);return u.body}));case"blob":return a.pipe(se(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new V(2807,!1);return u.body}));case"text":return a.pipe(se(u=>{if(u.body!==null&&typeof u.body!="string")throw new V(2808,!1);return u.body}));case"json":default:return a.pipe(se(u=>u.body))}case"response":return a;default:throw new V(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new hr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,zy(i,r))}post(t,r,i={}){return this.request("POST",t,zy(i,r))}put(t,r,i={}){return this.request("PUT",t,zy(i,r))}static \u0275fac=function(r){return new(r||n)(H(us))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var G2=new B("");function W2(n,e){return e(n)}function K2(n,e,t){return(r,i)=>Rt(t,()=>e(r,o=>n(o,i)))}var t0=new B(""),n0=new B(""),r0=new B("",{providedIn:"root",factory:()=>!0});var Od=(()=>{class n extends us{backend;injector;chain=null;pendingTasks=x(ir);contributeToStability=x(r0);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(t0),...this.injector.get(n0,[])]));this.chain=r.reduceRight((i,o)=>K2(i,o,this.injector),W2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(vi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(H(ac),H(at))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var Q2=/^\)\]\}',?\n/,Y2=RegExp(`^${JS}:`,"m");function J2(n){return"responseURL"in n&&n.responseURL?n.responseURL:Y2.test(n.getAllResponseHeaders())?n.getResponseHeader(JS):null}var qy=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new V(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):W(null)).pipe(wt(()=>new de(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,R)=>s.setRequestHeader(A,R.join(","))),t.headers.has(YS)||s.setRequestHeader(YS,H2),!t.headers.has(QS)){let A=t.detectContentTypeHeader();A!==null&&s.setRequestHeader(QS,A)}if(t.responseType){let A=t.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=s.statusText||"OK",R=new $r(s.getAllResponseHeaders()),k=J2(s)||t.url;return u=new kd({headers:R,status:s.status,statusText:A,url:k}),u},h=()=>{let{headers:A,status:R,statusText:k,url:z}=l(),$=null;R!==q2&&($=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=$?z2:0);let pe=R>=200&&R<300;if(t.responseType==="json"&&typeof $=="string"){let Ze=$;$=$.replace(Q2,"");try{$=$!==""?JSON.parse($):null}catch(ge){$=Ze,pe&&(pe=!1,$={error:ge,text:$})}}pe?(o.next(new cc({body:$,headers:A,status:R,statusText:k,url:z||void 0})),o.complete()):o.error(new uc({error:$,headers:A,status:R,statusText:k,url:z||void 0}))},p=A=>{let{url:R}=l(),k=new uc({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(k)},g=!1,y=A=>{g||(o.next(l()),g=!0);let R={type:Bi.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},w=A=>{let R={type:Bi.UploadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:Bi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(H(Ui))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),i0=new B(""),Z2="XSRF-TOKEN",X2=new B("",{providedIn:"root",factory:()=>Z2}),ej="X-XSRF-TOKEN",tj=new B("",{providedIn:"root",factory:()=>ej}),lc=class{},nj=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=nc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(H(Ue),H(X2))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function rj(n,e){let t=n.url.toLowerCase();if(!x(i0)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(lc).getToken(),i=x(tj);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function ij(...n){let e=[e0,qy,Od,{provide:us,useExisting:Od},{provide:ac,useFactory:()=>x(G2,{optional:!0})??x(qy)},{provide:t0,useValue:rj,multi:!0},{provide:i0,useValue:!0},{provide:lc,useClass:nj}];for(let t of n)e.push(...t.\u0275providers);return Oi(e)}var o0=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(H(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=H(sj),i},providedIn:"root"})}return n})(),sj=(()=>{class n extends oj{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case sn.NONE:return r;case sn.HTML:return or(r,"HTML")?Ft(r):Gm(this._doc,String(r)).toString();case sn.STYLE:return or(r,"Style")?Ft(r):r;case sn.SCRIPT:if(or(r,"Script"))return Ft(r);throw new V(5200,!1);case sn.URL:return or(r,"URL")?Ft(r):id(String(r));case sn.RESOURCE_URL:if(or(r,"ResourceURL"))return Ft(r);throw new V(5201,!1);default:throw new V(5202,!1)}}bypassSecurityTrustHtml(t){return kb(t)}bypassSecurityTrustStyle(t){return Ob(t)}bypassSecurityTrustScript(t){return Lb(t)}bypassSecurityTrustUrl(t){return Fb(t)}bypassSecurityTrustResourceUrl(t){return Vb(t)}static \u0275fac=function(r){return new(r||n)(H(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var te="primary",Tc=Symbol("RouteTitle"),Yy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function zi(n){return new Yy(n)}function f0(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rn(n[t],e[t]))return!1;return!0}function Rn(n,e){let t=n?Jy(n):void 0,r=e?Jy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!p0(n[i],e[i]))return!1;return!0}function Jy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function p0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function g0(n){return n.length>0?n[n.length-1]:null}function Wr(n){return Sp(n)?n:ss(n)?Se(Promise.resolve(n)):W(n)}var uj={exact:y0,subset:v0},m0={exact:lj,subset:dj,ignored:()=>!0};function s0(n,e,t){return uj[t.paths](n.root,e.root,t.matrixParams)&&m0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function lj(n,e){return Rn(n,e)}function y0(n,e,t){if(!$i(n.segments,e.segments)||!Vd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!y0(n.children[r],e.children[r],t))return!1;return!0}function dj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>p0(n[t],e[t]))}function v0(n,e,t){return _0(n,e,e.segments,t)}function _0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!$i(i,t)||e.hasChildren()||!Vd(i,t,r))}else if(n.segments.length===t.length){if(!$i(n.segments,t)||!Vd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!v0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!$i(n.segments,i)||!Vd(n.segments,i,r)||!n.children[te]?!1:_0(n.children[te],e,o,r)}}function Vd(n,e,t){return e.every((r,i)=>m0[t](n[i].parameters,r.parameters))}var Mn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){return pj.serialize(this)}},me=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jd(this)}},Hr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=zi(this.parameters),this._parameterMap}toString(){return E0(this)}};function hj(n,e){return $i(n,e)&&n.every((t,r)=>Rn(t.parameters,e[r].parameters))}function $i(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function fj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var qi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new zr,providedIn:"root"})}return n})(),zr=class{parse(e){let t=new Xy(e);return new Mn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${dc(e.root,!0)}`,r=yj(e.queryParams),i=typeof e.fragment=="string"?`#${gj(e.fragment)}`:"";return`${t}${r}${i}`}},pj=new zr;function jd(n){return n.segments.map(e=>E0(e)).join("/")}function dc(n,e){if(!n.hasChildren())return jd(n);if(e){let t=n.children[te]?dc(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${dc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=fj(n,(r,i)=>i===te?[dc(n.children[te],!1)]:[`${i}:${dc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${jd(n)}/${t[0]}`:`${jd(n)}/(${t.join("//")})`}}function I0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ld(n){return I0(n).replace(/%3B/gi,";")}function gj(n){return encodeURI(n)}function Zy(n){return I0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ud(n){return decodeURIComponent(n)}function a0(n){return Ud(n.replace(/\+/g,"%20"))}function E0(n){return`${Zy(n.path)}${mj(n.parameters)}`}function mj(n){return Object.entries(n).map(([e,t])=>`;${Zy(e)}=${Zy(t)}`).join("")}function yj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ld(t)}=${Ld(i)}`).join("&"):`${Ld(t)}=${Ld(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var vj=/^[^\/()?;#]+/;function Gy(n){let e=n.match(vj);return e?e[0]:""}var _j=/^[^\/()?;=#]+/;function Ij(n){let e=n.match(_j);return e?e[0]:""}var Ej=/^[^=?&#]+/;function wj(n){let e=n.match(Ej);return e?e[0]:""}var Tj=/^[^&#]+/;function Dj(n){let e=n.match(Tj);return e?e[0]:""}var Xy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new me(e,t)),r}parseSegment(){let e=Gy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Hr(Ud(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Ij(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Gy(this.remaining);i&&(r=i,this.capture(r))}e[Ud(t)]=Ud(r)}parseQueryParam(e){let t=wj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Dj(this.remaining);s&&(r=s,this.capture(r))}let i=a0(t),o=a0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[te]:new me([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function w0(n){return n.segments.length>0?new me([],{[te]:n}):n}function T0(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=T0(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new me(n.segments,e);return bj(t)}function bj(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new me(n.segments.concat(e.segments),e.children)}return n}function qr(n){return n instanceof Mn}function D0(n,e,t=null,r=null){let i=b0(n);return C0(i,e,t,r)}function b0(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new me(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=w0(r);return e??i}function C0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Wy(i,i,i,t,r);let o=Cj(e);if(o.toRoot())return Wy(i,i,new me([],{}),t,r);let s=Sj(o,i,n),a=s.processChildren?fc(s.segmentGroup,s.index,o.commands):A0(s.segmentGroup,s.index,o.commands);return Wy(i,s.segmentGroup,a,t,r)}function $d(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function gc(n){return typeof n=="object"&&n!=null&&n.outlets}function Wy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=S0(n,e,t);let a=w0(T0(s));return new Mn(a,o,i)}function S0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=S0(o,e,t)}),new me(n.segments,r)}var Hd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$d(r[0]))throw new V(4003,!1);let i=r.find(gc);if(i&&i!==g0(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Cj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Hd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Hd(t,e,r)}var fs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Sj(n,e,t){if(n.isAbsolute)return new fs(e,!0,0);if(!t)return new fs(e,!1,NaN);if(t.parent===null)return new fs(t,!0,0);let r=$d(n.commands[0])?0:1,i=t.segments.length-1+r;return Aj(t,i,n.numberOfDoubleDots)}function Aj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new fs(r,!1,i-o)}function Rj(n){return gc(n[0])?n[0].outlets:{[te]:n}}function A0(n,e,t){if(n??=new me([],{}),n.segments.length===0&&n.hasChildren())return fc(n,e,t);let r=Nj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new me(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new me(n.segments.slice(r.pathIndex),n.children),fc(o,0,i)}else return r.match&&i.length===0?new me(n.segments,{}):r.match&&!n.hasChildren()?ev(n,e,t):r.match?fc(n,0,i):ev(n,e,t)}function fc(n,e,t){if(t.length===0)return new me(n.segments,{});{let r=Rj(t),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=fc(n.children[te],e,t);return new me(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=A0(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(n.segments,i)}}function Nj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(gc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!u0(u,l,s))return o;r+=2}else{if(!u0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ev(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(gc(o)){let u=Mj(o.outlets);return new me(r,u)}if(i===0&&$d(t[0])){let u=n.segments[e];r.push(new Hr(u.path,c0(t[0]))),i++;continue}let s=gc(o)?o.outlets[te]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&$d(a)?(r.push(new Hr(s,c0(a))),i+=2):(r.push(new Hr(s,{})),i++)}return new me(r,{})}function Mj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ev(new me([],{}),0,r))}),e}function c0(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function u0(n,e,t){return n==t.path&&Rn(e,t.parameters)}var Bd="imperative",We=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(We||{}),jt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Gr=class extends jt{type=We.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kt=class extends jt{urlAfterRedirects;type=We.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(xt||{}),gs=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(gs||{}),Nn=class extends jt{reason;code;type=We.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pn=class extends jt{reason;code;type=We.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ms=class extends jt{error;target;type=We.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mc=class extends jt{urlAfterRedirects;state;type=We.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zd=class extends jt{urlAfterRedirects;state;type=We.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qd=class extends jt{urlAfterRedirects;state;shouldActivate;type=We.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gd=class extends jt{urlAfterRedirects;state;type=We.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends jt{urlAfterRedirects;state;type=We.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kd=class{route;type=We.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qd=class{route;type=We.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yd=class{snapshot;type=We.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jd=class{snapshot;type=We.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zd=class{snapshot;type=We.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{snapshot;type=We.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ys=class{routerEvent;position;anchor;type=We.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},yc=class{},vs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Pj(n,e){return n.providers&&!n._injector&&(n._injector=Ka(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ln(n){return n.outlet||te}function xj(n,e){let t=n.filter(r=>ln(r)===e);return t.push(...n.filter(r=>ln(r)!==e)),t}function Dc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var eh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Dc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Gi(this.rootInjector)}},Gi=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new eh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(H(at))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),th=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=tv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=tv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=nv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nv(e,this._root).map(t=>t.value)}};function tv(n,e){if(n===e.value)return e;for(let t of e.children){let r=tv(n,t);if(r)return r}return null}function nv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=nv(n,t);if(r.length)return r.unshift(e),r}return[]}var Vt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function hs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var vc=class extends th{snapshot;constructor(e,t){super(e),this.snapshot=t,lv(this,e)}toString(){return this.snapshot.toString()}};function R0(n){let e=kj(n),t=new tt([new Hr("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new xn(t,r,o,s,i,te,n,e.root);return a.snapshot=e.root,new vc(new Vt(a,[]),e)}function kj(n){let e={},t={},r={},i="",o=new Hi([],e,r,i,t,te,n,null,{});return new _c("",new Vt(o,[]))}var xn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[Tc]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>zi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>zi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&M0(i)&&(r.resolve[Tc]=i.title),r}var Hi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Tc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},_c=class extends th{url;constructor(e,t){super(t),this.url=e,lv(this,t)}toString(){return N0(this._root)}};function lv(n,e){e.value._routerState=n,e.children.forEach(t=>lv(n,t))}function N0(n){let e=n.children.length>0?` { ${n.children.map(N0).join(", ")} } `:"";return`${n.value}${e}`}function Ky(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Rn(e.params,t.params)||n.paramsSubject.next(t.params),cj(e.url,t.url)||n.urlSubject.next(t.url),Rn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rv(n,e){let t=Rn(n.params,e.params)&&hj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||rv(n.parent,e.parent))}function M0(n){return typeof n.title=="string"||n.title===null}var P0=new B(""),dv=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new Ct;deactivateEvents=new Ct;attachEvents=new Ct;detachEvents=new Ct;routerOutletData=_b(void 0);parentContexts=x(Gi);location=x(ar);changeDetector=x(as);inputBinder=x(bc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new iv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=An({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Zo]})}return n})(),iv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===xn?this.route:e===Gi?this.childContexts:e===P0?this.outletData:this.parent.get(e,t)}},bc=new B(""),hv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=wa([r.queryParams,r.params,r.data]).pipe(wt(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=lS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),fv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=CC({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ey(0,"router-outlet")},dependencies:[dv],encapsulation:2})}return n})();function pv(n){let e=n.children&&n.children.map(pv),t=e?ye(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=fv),t}function Oj(n,e,t){let r=Ic(n,e._root,t?t._root:void 0);return new vc(r,e)}function Ic(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Lj(n,e,t);return new Vt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ic(n,a)),s}}let r=Fj(e.value),i=e.children.map(o=>Ic(n,o));return new Vt(r,i)}}function Lj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ic(n,r,i);return Ic(n,r)})}function Fj(n){return new xn(new tt(n.url),new tt(n.params),new tt(n.queryParams),new tt(n.fragment),new tt(n.data),n.outlet,n.component,n)}var _s=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},x0="ngNavigationCancelingError";function rh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=qr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=k0(!1,xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function k0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[x0]=!0,t.cancellationCode=e,t}function Vj(n){return O0(n)&&qr(n.url)}function O0(n){return!!n&&n[x0]}var jj=(n,e,t,r)=>se(i=>(new ov(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ov=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ky(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=hs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=hs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Jd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Ky(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ky(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ih=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ps=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Uj(n,e,t){let r=n._root,i=e?e._root:null;return hc(r,i,t,[r.value])}function Bj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Es(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!mD(n)?n:e.get(n):r}function hc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=hs(e);return n.children.forEach(s=>{$j(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>pc(a,t.getContext(s),i)),i}function $j(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Hj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ih(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?hc(n,e,a?a.children:null,r,i):hc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ps(a.outlet.component,s))}else s&&pc(e,a,i),i.canActivateChecks.push(new ih(r)),o.component?hc(n,null,a?a.children:null,r,i):hc(n,null,t,r,i);return i}function Hj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!$i(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$i(n.url,e.url)||!Rn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rv(n,e)||!Rn(n.queryParams,e.queryParams);case"paramsChange":default:return!rv(n,e)}}function pc(n,e,t){let r=hs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?pc(s,e.children.getContext(o),t):pc(s,null,t):pc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ps(e.outlet.component,i)):t.canDeactivateChecks.push(new ps(null,i)):t.canDeactivateChecks.push(new ps(null,i))}function Cc(n){return typeof n=="function"}function zj(n){return typeof n=="boolean"}function qj(n){return n&&Cc(n.canLoad)}function Gj(n){return n&&Cc(n.canActivate)}function Wj(n){return n&&Cc(n.canActivateChild)}function Kj(n){return n&&Cc(n.canDeactivate)}function Qj(n){return n&&Cc(n.canMatch)}function L0(n){return n instanceof Qn||n?.name==="EmptyError"}var Fd=Symbol("INITIAL_VALUE");function Is(){return wt(n=>wa(n.map(e=>e.pipe(Yn(1),Qu(Fd)))).pipe(se(e=>{for(let t of e)if(t!==!0){if(t===Fd)return Fd;if(t===!1||Yj(t))return t}return!0}),yt(e=>e!==Fd),Yn(1)))}function Yj(n){return qr(n)||n instanceof _s}function Jj(n,e){return Me(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(ye(F({},t),{guardsResult:!0})):Zj(s,r,i,n).pipe(Me(a=>a&&zj(a)?Xj(r,o,n,e):W(a)),se(a=>ye(F({},t),{guardsResult:a})))})}function Zj(n,e,t,r){return Se(n).pipe(Me(i=>iU(i.component,i.route,t,e,r)),Jn(i=>i!==!0,!0))}function Xj(n,e,t,r){return Se(e).pipe(yn(i=>Co(tU(i.route.parent,r),eU(i.route,r),rU(n,i.path,t),nU(n,i.route,t))),Jn(i=>i!==!0,!0))}function eU(n,e){return n!==null&&e&&e(new Zd(n)),W(!0)}function tU(n,e){return n!==null&&e&&e(new Yd(n)),W(!0)}function nU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>Xu(()=>{let s=Dc(e)??t,a=Es(o,s),u=Gj(a)?a.canActivate(e,n):Rt(s,()=>a(e,n));return Wr(u).pipe(Jn())}));return W(i).pipe(Is())}function rU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Bj(s)).filter(s=>s!==null).map(s=>Xu(()=>{let a=s.guards.map(u=>{let l=Dc(s.node)??t,h=Es(u,l),p=Wj(h)?h.canActivateChild(r,n):Rt(l,()=>h(r,n));return Wr(p).pipe(Jn())});return W(a).pipe(Is())}));return W(o).pipe(Is())}function iU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let u=Dc(e)??i,l=Es(a,u),h=Kj(l)?l.canDeactivate(n,e,t,r):Rt(u,()=>l(n,e,t,r));return Wr(h).pipe(Jn())});return W(s).pipe(Is())}function oU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=Es(s,n),u=qj(a)?a.canLoad(e,t):Rt(n,()=>a(e,t));return Wr(u)});return W(o).pipe(Is(),F0(r))}function F0(n){return wp(et(e=>{if(typeof e!="boolean")throw rh(n,e)}),se(e=>e===!0))}function sU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=Es(s,n),u=Qj(a)?a.canMatch(e,t):Rt(n,()=>a(e,t));return Wr(u)});return W(o).pipe(Is(),F0(r))}var Ec=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},wc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ds(n){return Ro(new Ec(n))}function aU(n){return Ro(new V(4e3,!1))}function cU(n){return Ro(k0(!1,xt.GuardRejected))}var sv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[te])return aU(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:w,title:A}=i,R=Rt(o,()=>a({params:y,data:w,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:A}));if(R instanceof Mn)throw new wc(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new wc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Mn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new me(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},av={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uU(n,e,t,r,i){let o=V0(n,e,t);return o.matched?(r=Pj(e,r),sU(r,e,t,i).pipe(se(s=>s===!0?o:F({},av)))):W(o)}function V0(n,e,t){if(e.path==="**")return lU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},av):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||f0)(t,n,e);if(!i)return F({},av);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function lU(n){return{matched:!0,parameters:n.length>0?g0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function l0(n,e,t,r){return t.length>0&&fU(n,t,r)?{segmentGroup:new me(e,hU(r,new me(t,n.children))),slicedSegments:[]}:t.length===0&&pU(n,t,r)?{segmentGroup:new me(n.segments,dU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new me(n.segments,n.children),slicedSegments:t}}function dU(n,e,t,r){let i={};for(let o of t)if(sh(n,e,o)&&!r[ln(o)]){let s=new me([],{});i[ln(o)]=s}return F(F({},r),i)}function hU(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&ln(r)!==te){let i=new me([],{});t[ln(r)]=i}return t}function fU(n,e,t){return t.some(r=>sh(n,e,r)&&ln(r)!==te)}function pU(n,e,t){return t.some(r=>sh(n,e,r))}function sh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function gU(n,e,t){return e.length===0&&!n.children[t]}var cv=class{};function mU(n,e,t,r,i,o,s="emptyOnly"){return new uv(n,e,t,r,i,s,o).recognize()}var yU=31,uv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new sv(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=l0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:t,rootSnapshot:r})=>{let i=new Vt(r,t),o=new _c("",i),s=D0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Hi([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(se(r=>({children:r,rootSnapshot:t})),Kn(r=>{if(r instanceof wc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ec?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(se(s=>s instanceof Vt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(yn(s=>{let a=r.children[s],u=xj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Np((s,a)=>(s.push(...a),s)),Or(null),Rp(),Me(s=>{if(s===null)return ds(r);let a=j0(s);return vU(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return Se(t).pipe(yn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Kn(l=>{if(l instanceof Ec)return W(null);throw l}))),Jn(u=>!!u),Kn(u=>{if(L0(u))return gU(r,i,o)?W(new cv):ds(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return ln(r)!==s&&(s===te||!sh(i,o,r))?ds(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ds(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=V0(t,i,o);if(!u)return ds(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yU&&(this.allowRedirects=!1));let y=new Hi(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,d0(i),ln(i),i.component??i._loadedComponent??null,i,h0(i)),w=nh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(Me(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=uU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(wt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(wt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,w=new Hi(g,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,d0(r),ln(r),r.component??r._loadedComponent??null,r,h0(r)),A=nh(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let{segmentGroup:R,slicedSegments:k}=l0(t,g,y,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,w).pipe(se($=>new Vt(w,$)));if(l.length===0&&k.length===0)return W(new Vt(w,[]));let z=ln(r)===o;return this.processSegment(h,l,R,k,z?te:o,!0,w).pipe(se($=>new Vt(w,$ instanceof Vt?[$]:[])))}))):ds(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):oU(e,t,r,this.urlSerializer).pipe(Me(i=>i?this.configLoader.loadChildren(e,t).pipe(et(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):cU(t))):W({routes:[],injector:e})}};function vU(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function _U(n){let e=n.value.routeConfig;return e&&e.path===""}function j0(n){let e=[],t=new Set;for(let r of n){if(!_U(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=j0(r.children);e.push(new Vt(r.value,i))}return e.filter(r=>!t.has(r))}function d0(n){return n.data||{}}function h0(n){return n.resolve||{}}function IU(n,e,t,r,i,o){return Me(s=>mU(n,e,t,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:u})=>ye(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function EU(n,e){return Me(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of U0(u))s.add(l);let a=0;return Se(s).pipe(yn(u=>o.has(u)?wU(u,r,n,e):(u.data=nh(u,u.parent,n).resolve,W(void 0))),et(()=>a++),No(1),Me(u=>a===s.size?W(t):Tt))})}function U0(n){let e=n.children.map(t=>U0(t)).flat();return[n,...e]}function wU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!M0(i)&&(o[Tc]=i.title),TU(o,n,e,r).pipe(se(s=>(n._resolvedData=s,n.data=nh(n,n.parent,t).resolve,null)))}function TU(n,e,t,r){let i=Jy(n);if(i.length===0)return W({});let o={};return Se(i).pipe(Me(s=>DU(n[s],e,t,r).pipe(Jn(),et(a=>{if(a instanceof _s)throw rh(new zr,a);o[s]=a}))),No(1),se(()=>o),Kn(s=>L0(s)?Tt:Ro(s)))}function DU(n,e,t,r){let i=Dc(e)??r,o=Es(n,i),s=o.resolve?o.resolve(e,t):Rt(i,()=>o(e,t));return Wr(s)}function Qy(n){return wt(e=>{let t=n(e);return t?Se(t).pipe(se(()=>e)):W(e)})}var gv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[Tc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(B0),providedIn:"root"})}return n})(),B0=(()=>{class n extends gv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(H(o0))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wi=new B("",{providedIn:"root",factory:()=>({})}),Ki=new B(""),ah=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(oS);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Wr(t.loadComponent()).pipe(se(H0),et(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),vi(()=>{this.componentLoaders.delete(t)})),i=new Ao(r,()=>new Ne).pipe(So());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=$0(r,this.compiler,t,this.onLoadEndListener).pipe(vi(()=>{this.childrenLoaders.delete(r)})),s=new Ao(o,()=>new Ne).pipe(So());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $0(n,e,t,r){return Wr(n.loadChildren()).pipe(se(H0),Me(i=>i instanceof fy||Array.isArray(i)?W(i):Se(e.compileModuleAsync(i))),se(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ki,[],{optional:!0,self:!0}).flat()),{routes:s.map(pv),injector:o}}))}function bU(n){return n&&typeof n=="object"&&"default"in n}function H0(n){return bU(n)?n.default:n}var ch=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(CU),providedIn:"root"})}return n})(),CU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mv=new B(""),yv=new B("");function z0(n,e,t){let r=n.get(yv),i=n.get(Ue);return n.get(Pe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),SU(n))),{onViewTransitionCreated:u}=r;return u&&Rt(n,()=>u({transition:a,from:e,to:t})),s})}function SU(n){return new Promise(e=>{zm({read:()=>setTimeout(e)},{injector:n})})}var vv=new B(""),uh=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ne;transitionAbortSubject=new Ne;configLoader=x(ah);environmentInjector=x(at);destroyRef=x(Fi);urlSerializer=x(qi);rootContexts=x(Gi);location=x(Br);inputBindingEnabled=x(bc,{optional:!0})!==null;titleStrategy=x(gv);options=x(Wi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(ch);createViewTransition=x(mv,{optional:!0});navigationErrorHandler=x(vv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Kd(i)),r=i=>this.events.next(new Qd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ye(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new tt(null),this.transitions.pipe(yt(r=>r!==null),wt(r=>{let i=!1,o=!1;return W(r).pipe(wt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),Tt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ye(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Pn(s.id,this.urlSerializer.serialize(s.rawUrl),l,gs.IgnoredSameUrlNavigation)),s.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(wt(l=>(this.events.next(new Gr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Tt:Promise.resolve(l))),IU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),et(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ye(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new mc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:g,extras:y}=s,w=new Gr(l,this.urlSerializer.serialize(h),p,g);this.events.next(w);let A=R0(this.rootComponentType).snapshot;return this.currentTransition=r=ye(F({},s),{targetSnapshot:A,urlAfterRedirects:h,extras:ye(F({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,W(r)}else{let l="";return this.events.next(new Pn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,gs.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Tt}}),et(s=>{let a=new zd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),se(s=>(this.currentTransition=r=ye(F({},s),{guards:Uj(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Jj(this.environmentInjector,s=>this.events.next(s)),et(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw rh(this.urlSerializer,s.guardsResult);let a=new qd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),yt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",xt.GuardRejected),!1)),Qy(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(et(a=>{let u=new Gd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),wt(a=>{let u=!1;return W(a).pipe(EU(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",xt.NoDataFromResolver)}}))}),et(a=>{let u=new Wd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Qy(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(et(h=>{u.component=h}),se(()=>{})));for(let h of u.children)l.push(...a(h));return l};return wa(a(s.targetSnapshot.root)).pipe(Or(null),Yn(1))}),Qy(()=>this.afterPreactivation()),wt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Se(u).pipe(se(()=>r)):W(r)}),se(s=>{let a=Oj(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ye(F({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),et(()=>{this.events.next(new yc)}),jj(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Yn(1),et({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Pp(this.transitionAbortSubject.pipe(et(s=>{throw s}))),vi(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Kn(s=>{if(this.destroyed)return r.resolve(!1),Tt;if(o=!0,O0(s))this.events.next(new Nn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Vj(s)?this.events.next(new vs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ms(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Rt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof _s){let{message:l,cancellationCode:h}=rh(this.urlSerializer,u);this.events.next(new Nn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new vs(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Tt}))}))}cancelNavigationTransition(t,r,i){let o=new Nn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AU(n){return n!==Bd}var q0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(RU),providedIn:"root"})}return n})(),oh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},RU=(()=>{class n extends oh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Om(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G0=(()=>{class n{urlSerializer=x(qi);options=x(Wi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Br);urlHandlingStrategy=x(ch);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Mn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Mn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=R0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>x(NU),providedIn:"root"})}return n})(),NU=(()=>{class n extends G0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Gr?this.updateStateMemento():t instanceof Pn?this.commitTransition(r):t instanceof mc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof yc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Nn&&(t.code===xt.GuardRejected||t.code===xt.NoDataFromResolver)?this.restoreHistory(r):t instanceof ms?this.restoreHistory(r,!0):t instanceof Kt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Om(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lh(n,e){n.events.pipe(yt(t=>t instanceof Kt||t instanceof Nn||t instanceof ms||t instanceof Pn),se(t=>t instanceof Kt||t instanceof Pn?0:(t instanceof Nn?t.code===xt.Redirect||t.code===xt.SupersededByNewNavigation:!1)?2:1),yt(t=>t!==2),Yn(1)).subscribe(()=>{e()})}var MU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(yy);stateManager=x(G0);options=x(Wi,{optional:!0})||{};pendingTasks=x(ir);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(uh);urlSerializer=x(qi);location=x(Br);urlHandlingStrategy=x(ch);_events=new Ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(q0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Ki,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(bc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Nn&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Kt)this.navigated=!0;else if(r instanceof vs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||AU(i.source)},s);this.scheduleNavigation(a,Bd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}kU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(pv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=b0(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return C0(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=qr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Bd,null,r)}navigate(t,r={skipLocationChange:!1}){return xU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},MU):r===!1?i=F({},PU):i=r,qr(t))return s0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return s0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return lh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}function kU(n){return!(n instanceof yc)&&!(n instanceof vs)}var W0=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ne;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Kt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:zb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:qr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Te(kn),Te(xn),Lm("tabindex"),Te(os),Te(Sn),Te(cn))};static \u0275dir=An({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&wy("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Iy("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qa],replaceUrl:[2,"replaceUrl","replaceUrl",Qa],routerLink:"routerLink"},features:[Zo]})}return n})();var Sc=class{};var K0=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(yt(t=>t instanceof Kt),yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ka(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Se(i).pipe(bo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe(Me(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Se([o,s]).pipe(bo())}else return o})}static \u0275fac=function(r){return new(r||n)(H(kn),H(at),H(Sc),H(ah))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Q0=new B(""),OU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Kt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Pn&&t.code===gs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ys&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ys(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){yC()};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function LU(n,...e){return Oi([{provide:Ki,multi:!0,useValue:n},[],{provide:xn,useFactory:Y0,deps:[kn]},{provide:hd,multi:!0,useFactory:J0},e.map(t=>t.\u0275providers)])}function Y0(n){return n.routerState.root}function Ac(n,e){return{\u0275kind:n,\u0275providers:e}}function J0(){let n=x(Lt);return e=>{let t=n.get(jr);if(e!==t.components[0])return;let r=n.get(kn),i=n.get(Z0);n.get(Iv)===1&&r.initialNavigation(),n.get(tA,null,ne.Optional)?.setUpPreloading(),n.get(Q0,null,ne.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Z0=new B("",{factory:()=>new Ne}),Iv=new B("",{providedIn:"root",factory:()=>1});function X0(){let n=[{provide:Iv,useValue:0},_y(()=>{let e=x(Lt);return e.get(Ay,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(kn),o=e.get(Z0);lh(i,()=>{r(!0)}),e.get(uh).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return Ac(2,n)}function eA(){let n=[_y(()=>{x(kn).setUpLocationChangeListener()}),{provide:Iv,useValue:2}];return Ac(3,n)}var tA=new B("");function nA(n){return Ac(0,[{provide:tA,useExisting:K0},{provide:Sc,useExisting:n}])}function rA(){return Ac(8,[hv,{provide:bc,useExisting:hv}])}function iA(n){Vi("NgRouterViewTransitions");let e=[{provide:mv,useValue:z0},{provide:yv,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ac(9,e)}var oA=[Br,{provide:qi,useClass:zr},kn,Gi,{provide:xn,useFactory:Y0,deps:[kn]},ah,[]],FU=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[oA,[],{provide:Ki,multi:!0,useValue:t},[],r?.errorHandler?{provide:vv,useValue:r.errorHandler}:[],{provide:Wi,useValue:r||{}},r?.useHash?jU():UU(),VU(),r?.preloadingStrategy?nA(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?BU(r):[],r?.bindToComponentInputs?rA().\u0275providers:[],r?.enableViewTransitions?iA().\u0275providers:[],$U()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ki,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ji({type:n});static \u0275inj=ki({})}return n})();function VU(){return{provide:Q0,useFactory:()=>{let n=x(LS),e=x(Pe),t=x(Wi),r=x(uh),i=x(qi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new OU(i,r,n,e,t)}}}function jU(){return{provide:cn,useClass:Oy}}function UU(){return{provide:cn,useClass:md}}function BU(n){return[n.initialNavigation==="disabled"?eA().\u0275providers:[],n.initialNavigation==="enabledBlocking"?X0().\u0275providers:[]]}var _v=new B("");function $U(){return[{provide:_v,useFactory:J0},{provide:hd,multi:!0,useExisting:_v}]}var sA=()=>{};var uA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},HU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},lA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):HU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new wv;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},wv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},zU=function(n){let e=uA(n);return lA.encodeByteArray(e,!0)},Nc=function(n){return zU(n).replace(/\./g,"")},hh=function(n){try{return lA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var qU=()=>dA().__FIREBASE_DEFAULTS__,GU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},WU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&hh(n[1]);return e&&JSON.parse(e)},fh=()=>{try{return sA()||qU()||GU()||WU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Dv=n=>{var e,t;return(t=(e=fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hA=n=>{let e=Dv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},bv=()=>{var n;return(n=fh())===null||n===void 0?void 0:n.config},Cv=n=>{var e;return(e=fh())===null||e===void 0?void 0:e[`_${n}`]};var dh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Qi(n){return n.endsWith(".cloudworkstations.dev")}function ph(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function fA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nc(JSON.stringify(t)),Nc(JSON.stringify(s)),""].join(".")}var Rc={};function KU(){let n={prod:[],emulator:[]};for(let e of Object.keys(Rc))Rc[e]?n.emulator.push(e):n.prod.push(e);return n}function QU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var aA=!1;function gh(n,e){if(typeof window>"u"||typeof document>"u"||!Qi(window.location.host)||Rc[n]===e||Rc[n]||aA)return;Rc[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=KU().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{aA=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=QU(r),y=t("text"),w=document.getElementById(y)||document.createElement("span"),A=t("learnmore"),R=document.getElementById(A)||document.createElement("a"),k=t("preprendIcon"),z=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let $=g.element;a($),h(R,A);let pe=l();u(z,k),$.append(z,w,R,pe),document.body.appendChild($)}o?(w.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function YU(){var n;let e=(n=fh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vA(){let n=Qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _A(){return!YU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sv(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var JU="FirebaseError",Ut=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=JU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fr.prototype.create)}},fr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ZU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ut(i,a,r)}};function ZU(n,e){return n.replace(XU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var XU=/\{\$([^}]+)}/g;function EA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qt(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(cA(o)&&cA(s)){if(!Qt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function cA(n){return n!==null&&typeof n=="object"}function ws(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ts(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ds(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wA(n,e){let t=new Tv(n,e);return t.subscribe.bind(t)}var Tv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");eB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ev),i.error===void 0&&(i.error=Ev),i.complete===void 0&&(i.complete=Ev);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ev(){}var OY=4*60*60*1e3;function ke(n){return n&&n._delegate?n._delegate:n}var Yt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yi="[DEFAULT]";var Av=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new dh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nB(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tB(n){return n===Yi?void 0:n}function nB(n){return n.instantiationMode==="EAGER"}var mh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Av(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var rB=[],ue=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ue||{}),iB={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},oB=ue.INFO,sB={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},aB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=sB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Kr=class{constructor(e){this.name=e,this._logLevel=oB,this._logHandler=aB,this._userLogHandler=null,rB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var cB=(n,e)=>e.some(t=>n instanceof t),TA,DA;function uB(){return TA||(TA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lB(){return DA||(DA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bA=new WeakMap,Nv=new WeakMap,CA=new WeakMap,Rv=new WeakMap,Pv=new WeakMap;function dB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(On(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&bA.set(t,n)}).catch(()=>{}),Pv.set(e,n),e}function hB(n){if(Nv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Nv.set(n,e)}var Mv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Nv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return On(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SA(n){Mv=n(Mv)}function fB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(yh(this),e,...t);return CA.set(r,e.sort?e.sort():[e]),On(r)}:lB().includes(n)?function(...e){return n.apply(yh(this),e),On(bA.get(this))}:function(...e){return On(n.apply(yh(this),e))}}function pB(n){return typeof n=="function"?fB(n):(n instanceof IDBTransaction&&hB(n),cB(n,uB())?new Proxy(n,Mv):n)}function On(n){if(n instanceof IDBRequest)return dB(n);if(Rv.has(n))return Rv.get(n);let e=pB(n);return e!==n&&(Rv.set(n,e),Pv.set(e,n)),e}var yh=n=>Pv.get(n);function RA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=On(s);return r&&s.addEventListener("upgradeneeded",u=>{r(On(s.result),u.oldVersion,u.newVersion,On(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var gB=["get","getKey","getAll","getAllKeys","count"],mB=["put","add","delete","clear"],xv=new Map;function AA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=mB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gB.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return xv.set(e,o),o}SA(n=>ye(F({},n),{get:(e,t,r)=>AA(e,t)||n.get(e,t,r),has:(e,t)=>!!AA(e,t)||n.has(e,t)}));var Ov=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function yB(n){let e=n.getComponent();return e?.type==="VERSION"}var Lv="@firebase/app",NA="0.13.1";var pr=new Kr("@firebase/app"),vB="@firebase/app-compat",_B="@firebase/analytics-compat",IB="@firebase/analytics",EB="@firebase/app-check-compat",wB="@firebase/app-check",TB="@firebase/auth",DB="@firebase/auth-compat",bB="@firebase/database",CB="@firebase/data-connect",SB="@firebase/database-compat",AB="@firebase/functions",RB="@firebase/functions-compat",NB="@firebase/installations",MB="@firebase/installations-compat",PB="@firebase/messaging",xB="@firebase/messaging-compat",kB="@firebase/performance",OB="@firebase/performance-compat",LB="@firebase/remote-config",FB="@firebase/remote-config-compat",VB="@firebase/storage",jB="@firebase/storage-compat",UB="@firebase/firestore",BB="@firebase/ai",$B="@firebase/firestore-compat",HB="firebase",zB="11.9.0";var Fv="[DEFAULT]",qB={[Lv]:"fire-core",[vB]:"fire-core-compat",[IB]:"fire-analytics",[_B]:"fire-analytics-compat",[wB]:"fire-app-check",[EB]:"fire-app-check-compat",[TB]:"fire-auth",[DB]:"fire-auth-compat",[bB]:"fire-rtdb",[CB]:"fire-data-connect",[SB]:"fire-rtdb-compat",[AB]:"fire-fn",[RB]:"fire-fn-compat",[NB]:"fire-iid",[MB]:"fire-iid-compat",[PB]:"fire-fcm",[xB]:"fire-fcm-compat",[kB]:"fire-perf",[OB]:"fire-perf-compat",[LB]:"fire-rc",[FB]:"fire-rc-compat",[VB]:"fire-gcs",[jB]:"fire-gcs-compat",[UB]:"fire-fst",[$B]:"fire-fst-compat",[BB]:"fire-vertex","fire-js":"fire-js",[HB]:"fire-js-all"};var Mc=new Map,GB=new Map,Vv=new Map;function MA(n,e){try{n.container.addComponent(e)}catch(t){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yr(n){let e=n.name;if(Vv.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;Vv.set(e,n);for(let t of Mc.values())MA(t,n);for(let t of GB.values())MA(t,n);return!0}function xc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function It(n){return n==null?!1:n.settings!==void 0}var WB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new fr("app","Firebase",WB);var jv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}};var Jr=zB;function $v(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Qr.create("bad-app-name",{appName:String(i)});if(t||(t=bv()),!t)throw Qr.create("no-options");let o=Mc.get(i);if(o){if(Qt(t,o.options)&&Qt(r,o.config))return o;throw Qr.create("duplicate-app",{appName:i})}let s=new mh(i);for(let u of Vv.values())s.addComponent(u);let a=new jv(t,r,s);return Mc.set(i,a),a}function vh(n=Fv){let e=Mc.get(n);if(!e&&n===Fv&&bv())return $v();if(!e)throw Qr.create("no-app",{appName:n});return e}function tJ(){return Array.from(Mc.values())}function dn(n,e,t){var r;let i=(r=qB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(a.join(" "));return}Yr(new Yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var KB="firebase-heartbeat-database",QB=1,Pc="firebase-heartbeat-store",kv=null;function OA(){return kv||(kv=RA(KB,QB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qr.create("idb-open",{originalErrorMessage:n.message})})),kv}function YB(n){return _(this,null,function*(){try{let t=(yield OA()).transaction(Pc),r=yield t.objectStore(Pc).get(LA(n));return yield t.done,r}catch(e){if(e instanceof Ut)pr.warn(e.message);else{let t=Qr.create("idb-get",{originalErrorMessage:e?.message});pr.warn(t.message)}}})}function PA(n,e){return _(this,null,function*(){try{let r=(yield OA()).transaction(Pc,"readwrite");yield r.objectStore(Pc).put(e,LA(n)),yield r.done}catch(t){if(t instanceof Ut)pr.warn(t.message);else{let r=Qr.create("idb-set",{originalErrorMessage:t?.message});pr.warn(r.message)}}})}function LA(n){return`${n.name}!${n.options.appId}`}var JB=1024,ZB=30,Uv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Bv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>ZB){let s=e$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=xA(),{heartbeatsToSend:r,unsentEntries:i}=XB(this._heartbeatsCache.heartbeats),o=Nc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return pr.warn(t),""}})}};function xA(){return new Date().toISOString().substring(0,10)}function XB(n,e=JB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Bv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Sv()?IA().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield YB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kA(n){return Nc(JSON.stringify({version:2,heartbeats:n})).length}function e$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function t$(n){Yr(new Yt("platform-logger",e=>new Ov(e),"PRIVATE")),Yr(new Yt("heartbeat",e=>new Uv(e),"PRIVATE")),dn(Lv,NA,n),dn(Lv,NA,"esm2017"),dn("fire-js","")}t$("");var n$="firebase",r$="11.9.0";dn(n$,r$,"app");function ZA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var XA=ZA,eR=new fr("auth","Firebase",ZA());var Dh=new Kr("@firebase/auth");function i$(n,...e){Dh.logLevel<=ue.WARN&&Dh.warn(`Auth (${Jr}): ${n}`,...e)}function Ih(n,...e){Dh.logLevel<=ue.ERROR&&Dh.error(`Auth (${Jr}): ${n}`,...e)}function Jt(n,...e){throw d_(n,...e)}function hn(n,...e){return d_(n,...e)}function l_(n,e,t){let r=Object.assign(Object.assign({},XA()),{[e]:t});return new fr("auth","Firebase",r).create(e,{appName:n.name})}function yr(n){return l_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o$(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jt(n,"argument-error"),l_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function d_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return eR.create(n,...e)}function Q(n,e,...t){if(!n)throw d_(e,...t)}function gr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ih(e),new Error(e)}function vr(n,e){n||gr(e)}function qv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function s$(){return FA()==="http:"||FA()==="https:"}function FA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function a$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s$()||mA()||"connection"in navigator)?navigator.onLine:!0}function c$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ji=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,vr(t>e,"Short delay should be less than long delay!"),this.isMobile=pA()||yA()}get(){return a$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function h_(n,e){vr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var bh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var u$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var l$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d$=new Ji(3e4,6e4);function ei(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function _r(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return tR(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ws(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return gA()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Qi(n.emulatorConfig.host)&&(y.credentials="include"),bh.fetch()(yield nR(n,n.config.apiHost,t,p),y)}))})}function tR(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},u$),e);try{let i=new Gv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw _h(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw _h(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw _h(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw l_(n,h,l);Jt(n,h)}}catch(i){if(i instanceof Ut)throw i;Jt(n,"network-request-failed",{message:String(i)})}})}function Bc(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield _r(n,e,t,r,i);return"mfaPendingCredential"in l&&Jt(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function nR(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?h_(n.config,i):`${n.config.apiScheme}://${i}`;return l$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function h$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Gv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hn(this.auth,"network-request-failed")),d$.get())})}};function _h(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=hn(n,e,r);return i.customData._tokenResponse=t,i}function VA(n){return n!==void 0&&n.enterprise!==void 0}var Wv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return h$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function f$(n,e){return _(this,null,function*(){return _r(n,"GET","/v2/recaptchaConfig",ei(n,e))})}function p$(n,e){return _(this,null,function*(){return _r(n,"POST","/v1/accounts:delete",e)})}function Ch(n,e){return _(this,null,function*(){return _r(n,"POST","/v1/accounts:lookup",e)})}function Oc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rR(n,e=!1){return _(this,null,function*(){let t=ke(n),r=yield t.getIdToken(e),i=f_(r);Q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Oc(Hv(i.auth_time)),issuedAtTime:Oc(Hv(i.iat)),expirationTime:Oc(Hv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Hv(n){return Number(n)*1e3}function f_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{let i=hh(t);return i?JSON.parse(i):(Ih("Failed to decode base64 JWT payload"),null)}catch(i){return Ih("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jA(n){let e=f_(n);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Cs(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ut&&g$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function g$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Kv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Fc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Sh(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Cs(n,Ch(t,{idToken:r}));Q(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?oR(o.providerUserInfo):[],a=m$(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Fc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function iR(n){return _(this,null,function*(){let e=ke(n);yield Sh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function m$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oR(n){return n.map(e=>{var{providerId:t}=e,r=Ou(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function y$(n,e){return _(this,null,function*(){let t=yield tR(n,{},()=>_(null,null,function*(){let r=ws({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield nR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function v$(n,e){return _(this,null,function*(){return _r(n,"POST","/v2/accounts:revokeToken",ei(n,e))})}var Lc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let t=jA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield y$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return gr("not implemented")}};function Zr(n,e){Q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Xr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ou(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Cs(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return rR(this,e)}reload(){return iR(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Sh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(It(this.auth.app))return Promise.reject(yr(this.auth));let e=yield this.getIdToken();return yield Cs(this,p$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,z=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:pe,isAnonymous:Ze,providerData:ge,stsTokenManager:D}=t;Q($&&D,e,"internal-error");let v=Lc.fromJSON(this.name,D);Q(typeof $=="string",e,"internal-error"),Zr(p,e.name),Zr(g,e.name),Q(typeof pe=="boolean",e,"internal-error"),Q(typeof Ze=="boolean",e,"internal-error"),Zr(y,e.name),Zr(w,e.name),Zr(A,e.name),Zr(R,e.name),Zr(k,e.name),Zr(z,e.name);let E=new n({uid:$,auth:e,email:g,emailVerified:pe,displayName:p,isAnonymous:Ze,photoURL:w,phoneNumber:y,tenantId:A,stsTokenManager:v,createdAt:k,lastLoginAt:z});return ge&&Array.isArray(ge)&&(E.providerData=ge.map(T=>Object.assign({},T))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Lc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Sh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];Q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?oR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Lc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Fc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var UA=new Map;function mr(n){vr(n instanceof Function,"Expected a class definition");let e=UA.get(n);return e?(vr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UA.set(n,e),e)}var _$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Qv=_$;function Eh(n,e,t){return`firebase:${n}:${e}:${t}`}var Ah=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Eh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Eh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Ch(this.auth,{idToken:e}).catch(()=>{});return t?Xr._fromGetAccountInfoResponse(this.auth,t,e):null}return Xr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(mr(Qv),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||mr(Qv),s=Eh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Ch(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Xr._fromGetAccountInfoResponse(e,g,h)}else p=Xr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function BA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dR(e))return"Blackberry";if(hR(e))return"Webos";if(aR(e))return"Safari";if((e.includes("chrome/")||cR(e))&&!e.includes("edge/"))return"Chrome";if(lR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sR(n=Qe()){return/firefox\//i.test(n)}function aR(n=Qe()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cR(n=Qe()){return/crios\//i.test(n)}function uR(n=Qe()){return/iemobile/i.test(n)}function lR(n=Qe()){return/android/i.test(n)}function dR(n=Qe()){return/blackberry/i.test(n)}function hR(n=Qe()){return/webos/i.test(n)}function p_(n=Qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function I$(n=Qe()){var e;return p_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function E$(){return vA()&&document.documentMode===10}function fR(n=Qe()){return p_(n)||lR(n)||hR(n)||dR(n)||/windows phone/i.test(n)||uR(n)}function pR(n,e=[]){let t;switch(n){case"Browser":t=BA(Qe());break;case"Worker":t=`${BA(Qe())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jr}/${r}`}var Yv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function w$(t){return _(this,arguments,function*(n,e={}){return _r(n,"GET","/v2/passwordPolicy",ei(n,e))})}var T$=6,Jv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:T$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Zv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rh(this),this.idTokenSubscription=new Rh(this),this.beforeStateQueue=new Yv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mr(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Ah.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Ch(this,{idToken:e}),r=yield Xr._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(It(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Sh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=c$()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(It(this.app))return Promise.reject(yr(this));let t=e?ke(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return It(this.app)?Promise.reject(yr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return It(this.app)?Promise.reject(yr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield w$(this),t=new Jv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield v$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&mr(e)||this._popupRedirectResolver;Q(t,this,"argument-error"),this.redirectPersistenceManager=yield Ah.create(this,[mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&i$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ti(n){return ke(n)}var Rh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wA(t=>this.observer=t)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Vh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D$(n){Vh=n}function gR(n){return Vh.loadJS(n)}function b$(){return Vh.recaptchaEnterpriseScript}function C$(){return Vh.gapiScript}function mR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Xv=class{constructor(){this.enterprise=new e_}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},e_=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var S$="recaptcha-enterprise",yR="NO_RECAPTCHA",t_=class{constructor(e){this.type=S$,this.auth=ti(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){f$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Wv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;VA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(yR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&VA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=b$();u.length!==0&&(u+=a),gR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function kc(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new t_(n),s;if(i)s=yR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function n_(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield kc(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield kc(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield kc(n,e,t);return r(n,a).catch(u=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield kc(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield kc(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function vR(n,e){let t=xc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Qt(o,e??{}))return i;Jt(i,"already-initialized")}return t.initialize({options:e})}function A$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(mr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function _R(n,e,t){let r=ti(n);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=IR(e),{host:s,port:a}=R$(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(Qt(l,r.config.emulator)&&Qt(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qi(s)?(ph(`${o}//${s}${u}`),gh("Auth",!0)):i||N$()}function IR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function R$(n){let e=IR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:$A(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:$A(s)}}}function $A(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function N$(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ss=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,t){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}};function M$(n,e){return _(this,null,function*(){return _r(n,"POST","/v1/accounts:signUp",e)})}function P$(n,e){return _(this,null,function*(){return Bc(n,"POST","/v1/accounts:signInWithPassword",ei(n,e))})}function x$(n,e){return _(this,null,function*(){return Bc(n,"POST","/v1/accounts:signInWithEmailLink",ei(n,e))})}function k$(n,e){return _(this,null,function*(){return Bc(n,"POST","/v1/accounts:signInWithEmailLink",ei(n,e))})}var Vc=class n extends Ss{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n_(e,t,"signInWithPassword",P$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return x$(e,{email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n_(e,r,"signUpPassword",M$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return k$(e,{idToken:t,email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function bs(n,e){return _(this,null,function*(){return Bc(n,"POST","/v1/accounts:signInWithIdp",ei(n,e))})}var O$="http://localhost",Nh=class n extends Ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Ou(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return bs(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,bs(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}buildRequest(){let e={requestUri:O$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ws(t)}return e}};function L$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F$(n){let e=Ts(Ds(n)).link,t=e?Ts(Ds(e)).deep_link_id:null,r=Ts(Ds(n)).deep_link_id;return(r?Ts(Ds(r)).link:null)||r||t||e||n}var Mh=class n{constructor(e){var t,r,i,o,s,a;let u=Ts(Ds(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=L$((i=u.mode)!==null&&i!==void 0?i:null);Q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=F$(e);try{return new n(t)}catch{return null}}};var ER=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Vc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Mh.parseLink(r);return Q(i,"argument-error"),Vc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),jc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ph=class extends jc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var V$=(()=>{class n extends Ph{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Nh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function j$(n,e){return _(this,null,function*(){return Bc(n,"POST","/v1/accounts:signUp",ei(n,e))})}var As=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Xr._fromIdTokenResponse(e,r,i),s=HA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=HA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function HA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var r_=class n extends Ut{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function wR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?r_._fromErrorAndOperation(n,o,e,r):o})}function U$(n,e,t=!1){return _(this,null,function*(){let r=yield Cs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return As._forOperation(n,"link",r)})}function B$(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(It(r.app))return Promise.reject(yr(r));let i="reauthenticate";try{let o=yield Cs(n,wR(r,i,e,n),t);Q(o.idToken,r,"internal-error");let s=f_(o.idToken);Q(s,r,"internal-error");let{sub:a}=s;return Q(n.uid===a,r,"user-mismatch"),As._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Jt(r,"user-mismatch"),o}})}function TR(n,e,t=!1){return _(this,null,function*(){if(It(n.app))return Promise.reject(yr(n));let r="signIn",i=yield wR(n,r,e),o=yield As._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function DR(n,e){return _(this,null,function*(){return TR(ti(n),e)})}function bR(n){return _(this,null,function*(){let e=ti(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $$(n,e,t){return _(this,null,function*(){if(It(n.app))return Promise.reject(yr(n));let r=ti(n),s=yield n_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j$,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&bR(n),u}),a=yield As._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function H$(n,e,t){return It(n.app)?Promise.reject(yr(n)):DR(ke(n),ER.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&bR(n),r}))}function z$(n,e){return _(this,null,function*(){return _r(n,"POST","/v1/accounts:update",e)})}function q$(r,i){return _(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=ke(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=yield Cs(o,z$(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function CR(n,e,t,r){return ke(n).onIdTokenChanged(e,t,r)}function SR(n,e,t){return ke(n).beforeAuthStateChanged(e,t)}function G$(n,e,t,r){return ke(n).onAuthStateChanged(e,t,r)}function W$(n){return ke(n).signOut()}var xh="__sak";var kh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var K$=1e3,Q$=10,Y$=(()=>{class n extends kh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);E$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Q$):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},K$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield xr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield xr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield xr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),AR=Y$;var J$=(()=>{class n extends kh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),g_=J$;function Z$(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var X$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield Z$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function m_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var i_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=m_("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ln(){return window}function eH(n){Ln().location.href=n}function RR(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}function tH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function nH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function rH(){return RR()?self:null}var NR="firebaseLocalStorageDb",iH=1,Oh="firebaseLocalStorage",MR="fbase_key",Zi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function jh(n,e){return n.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function oH(){let n=indexedDB.deleteDatabase(NR);return new Zi(n).toPromise()}function o_(){let n=indexedDB.open(NR,iH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Oh,{keyPath:MR})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),yield oH(),e(yield o_()))}))})}function zA(n,e,t){return _(this,null,function*(){let r=jh(n,!0).put({[MR]:e,value:t});return new Zi(r).toPromise()})}function sH(n,e){return _(this,null,function*(){let t=jh(n,!1).get(e),r=yield new Zi(t).toPromise();return r===void 0?null:r.value})}function qA(n,e){let t=jh(n,!0).delete(e);return new Zi(t).toPromise()}var aH=800,cH=3,uH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield o_(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>cH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return RR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=X$._getInstance(rH()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield tH(),!this.activeServiceWorker)return;this.sender=new i_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||nH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield o_();return yield zA(t,xh,"1"),yield qA(t,xh),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>zA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>sH(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>qA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=jh(o,!1).getAll();return new Zi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),aH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),PR=uH;var fJ=mR("rcb"),pJ=new Ji(3e4,6e4);function xR(n,e){return e?mr(e):(Q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Uc=class extends Ss{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bs(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function lH(n){return TR(n.auth,new Uc(n),n.bypassAuthState)}function dH(n){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),B$(t,new Uc(n),n.bypassAuthState)}function hH(n){return _(this,null,function*(){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),U$(t,new Uc(n),n.bypassAuthState)})}var Lh=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lH;case"linkViaPopup":case"linkViaRedirect":return hH;case"reauthViaPopup":case"reauthViaRedirect":return dH;default:Jt(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var fH=new Ji(2e3,1e4);function pH(n,e,t){return _(this,null,function*(){if(It(n.app))return Promise.reject(hn(n,"operation-not-supported-in-this-environment"));let r=ti(n);o$(n,e,jc);let i=xR(r,t);return new gH(r,"signInViaPopup",e,i).executeNotNull()})}var gH=(()=>{class n extends Lh{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let t=yield this.execute();return Q(t,this.auth,"internal-error"),t})}onExecution(){return _(this,null,function*(){vr(this.filter.length===1,"Popup operations only handle one event");let t=m_();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fH.get())};t()}}n.currentPopupAction=null;return n})(),mH="pendingRedirect",wh=new Map,s_=class n extends Lh{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=wh.get(this.auth._key());if(!e){try{let r=(yield yH(this.resolver,this.auth))?yield xr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return xr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,xr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function yH(n,e){return _(this,null,function*(){let t=IH(e),r=_H(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function vH(n,e){wh.set(n._key(),e)}function _H(n){return mr(n._redirectPersistence)}function IH(n){return Eh(mH,n.config.apiKey,n.name)}function EH(n,e,t=!1){return _(this,null,function*(){if(It(n.app))return Promise.reject(yr(n));let r=ti(n),i=xR(r,e),s=yield new s_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var wH=10*60*1e3,a_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(hn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wH&&this.cachedEventUids.clear(),this.cachedEventUids.has(GA(e))}saveEventToCache(e){this.cachedEventUids.add(GA(e)),this.lastProcessedEventTime=Date.now()}};function GA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function TH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kR(n);default:return!1}}function DH(t){return _(this,arguments,function*(n,e={}){return _r(n,"GET","/v1/projects",e)})}var bH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CH=/^https?/;function SH(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield DH(n);for(let t of e)try{if(AH(t))return}catch{}Jt(n,"unauthorized-domain")})}function AH(n){let e=qv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!CH.test(t))return!1;if(bH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var RH=new Ji(3e4,6e4);function WA(){let n=Ln().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function NH(n){return new Promise((e,t)=>{var r,i,o;function s(){WA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WA(),t(hn(n,"network-request-failed"))},timeout:RH.get()})}if(!((i=(r=Ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ln().gapi)===null||o===void 0)&&o.load)s();else{let a=mR("iframefcb");return Ln()[a]=()=>{gapi.load?s():t(hn(n,"network-request-failed"))},gR(`${C$()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Th=null,e})}var Th=null;function MH(n){return Th=Th||NH(n),Th}var PH=new Ji(5e3,15e3),xH="__/auth/iframe",kH="emulator/auth/iframe",OH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FH(n){let e=n.config;Q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?h_(e,kH):`https://${n.config.authDomain}/${xH}`,r={apiKey:e.apiKey,appName:n.name,v:Jr},i=LH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ws(r).slice(1)}`}function VH(n){return _(this,null,function*(){let e=yield MH(n),t=Ln().gapi;return Q(t,n,"internal-error"),e.open({where:document.body,url:FH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OH,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=hn(n,"network-request-failed"),a=Ln().setTimeout(()=>{o(s)},PH.get());function u(){Ln().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var jH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UH=500,BH=600,$H="_blank",HH="http://localhost",Fh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function zH(n,e,t,r=UH,i=BH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},jH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Qe().toLowerCase();t&&(a=cR(l)?$H:t),sR(l)&&(e=e||HH,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(I$(l)&&a!=="_self")return qH(e||"",a),new Fh(null);let p=window.open(e||"",a,h);Q(p,n,"popup-blocked");try{p.focus()}catch{}return new Fh(p)}function qH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var GH="__/auth/handler",WH="emulator/auth/handler",KH=encodeURIComponent("fac");function KA(n,e,t,r,i,o){return _(this,null,function*(){Q(n.config.authDomain,n,"auth-domain-config-required"),Q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jr,eventId:i};if(e instanceof jc){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",EA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Ph){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${KH}=${encodeURIComponent(u)}`:"";return`${QH(n)}?${ws(a).slice(1)}${l}`})}function QH({config:n}){return n.emulator?h_(n,WH):`https://${n.authDomain}/${GH}`}var zv="webStorageSupport",c_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g_,this._completeRedirectFn=EH,this._overrideRedirectResult=vH}_openPopup(e,t,r,i){return _(this,null,function*(){var o;vr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield KA(e,t,r,qv(),i);return zH(e,s,m_())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield KA(e,t,r,qv(),i);return eH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(vr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield VH(e),r=new a_(e);return t.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zv,{type:zv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[zv];s!==void 0&&t(!!s),Jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fR()||aR()||p_()}},OR=c_;var QA="@firebase/auth",YA="1.10.6";var u_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function YH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JH(n){Yr(new Yt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pR(n)},l=new Zv(r,i,o,u);return A$(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yr(new Yt("auth-internal",e=>{let t=ti(e.getProvider("auth").getImmediate());return(r=>new u_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dn(QA,YA,YH(n)),dn(QA,YA,"esm2017")}var ZH=5*60,XH=Cv("authIdTokenMaxAge")||ZH,JA=null,e4=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>XH)return;let i=t?.token;JA!==i&&(JA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function y_(n=vh()){let e=xc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=vR(n,{popupRedirectResolver:OR,persistence:[PR,AR,g_]}),r=Cv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=e4(o.toString());SR(t,s,()=>s(t.currentUser)),CR(t,a=>s(a))}}let i=Dv("auth");return i&&_R(t,`http://${i}`),t}function t4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}D$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=hn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",t4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JH("Browser");var LR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},FR={};var Ir,v_;(function(){var n;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(T,b,S){for(var I=Array(arguments.length-2),zn=2;zn<arguments.length;zn++)I[zn-2]=arguments[zn];return v.prototype[b].apply(T,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)T[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],b=D.g[2];var S=D.g[3],I=v+(S^E&(b^S))+T[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[3]+3250441966&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[7]+4249261313&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[11]+2304563134&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+T[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+T[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+T[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+T[15]+1236535329&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(b^S&(E^b))+T[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[0]+3921069994&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[4]+3889429448&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[8]+1163531501&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+T[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+T[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+T[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+T[12]+2368359562&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(E^b^S)+T[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[14]+4259657740&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[10]+3200236656&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[6]+76029189&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+T[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+T[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+T[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+T[2]+3299628645&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(b^(E|~S))+T[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[5]+4237533241&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[1]+2240044497&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[13]+1309151649&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+T[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+T[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+T[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,T=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=E;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(T[b++]=D.charCodeAt(S++),b==this.blockSize){i(this,T),b=0;break}}else for(;S<v;)if(T[b++]=D[S++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var T=0;32>T;T+=8)D[E++]=this.g[v]>>>T&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],T=!0,b=D.length-1;0<=b;b--){var S=D[b]|0;T&&S==v||(E[b]=S,T=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],E=1,T=0;D>=E;T++)v[T]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),T=p,b=0;b<D.length;b+=8){var S=Math.min(8,D.length-b),I=parseInt(D.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),T=T.j(S).add(l(I))):(T=T.j(E),T=T.add(l(I)))}return T}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(A(this))return-R(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var T=this.i(E);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(A(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,T="";;){var b=pe(E,v).g;E=k(E,b.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=b,w(E))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=k(this,D),A(D)?-1:w(D)?0:1};function R(D){for(var v=D.g.length,E=[],T=0;T<v;T++)E[T]=~D.g[T];return new s(E,~D.h).add(g)}n.abs=function(){return A(this)?R(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0,b=0;b<=v;b++){var S=T+(this.i(b)&65535)+(D.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);T=I>>>16,S&=65535,I&=65535,E[b]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(R(v))}n.j=function(D){if(w(this)||w(D))return p;if(A(this))return A(D)?R(this).j(R(D)):R(R(this).j(D));if(A(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],T=0;T<2*v;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<D.g.length;b++){var S=this.i(T)>>>16,I=this.i(T)&65535,zn=D.i(b)>>>16,ea=D.i(b)&65535;E[2*T+2*b]+=I*ea,z(E,2*T+2*b),E[2*T+2*b+1]+=S*ea,z(E,2*T+2*b+1),E[2*T+2*b+1]+=I*zn,z(E,2*T+2*b+1),E[2*T+2*b+2]+=S*zn,z(E,2*T+2*b+2)}for(T=0;T<v;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=v;T<2*v;T++)E[T]=0;return new s(E,0)};function z(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function $(D,v){this.g=D,this.h=v}function pe(D,v){if(w(v))throw Error("division by zero");if(w(D))return new $(p,p);if(A(D))return v=pe(R(D),v),new $(R(v.g),R(v.h));if(A(v))return v=pe(D,R(v)),new $(R(v.g),v.h);if(30<D.g.length){if(A(D)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,T=v;0>=T.l(D);)E=Ze(E),T=Ze(T);var b=ge(E,1),S=ge(T,1);for(T=ge(T,2),E=ge(E,2);!w(T);){var I=S.add(T);0>=I.l(D)&&(b=b.add(E),S=I),T=ge(T,1),E=ge(E,1)}return v=k(D,b.j(v)),new $(b,v)}for(b=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=l(E),I=S.j(v);A(I)||0<I.l(D);)E-=T,S=l(E),I=S.j(v);w(S)&&(S=g),b=b.add(S),D=k(D,I)}return new $(b,D)}n.A=function(D){return pe(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)&D.i(T);return new s(E,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)|D.i(T);return new s(E,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)^D.i(T);return new s(E,this.h^D.h)};function Ze(D){for(var v=D.g.length+1,E=[],T=0;T<v;T++)E[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(E,D.h)}function ge(D,v){var E=v>>5;v%=32;for(var T=D.g.length-E,b=[],S=0;S<T;S++)b[S]=0<v?D.i(S+E)>>>v|D.i(S+E+1)<<32-v:D.i(S+E);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,v_=FR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Ir=FR.Integer=s}).apply(typeof LR<"u"?LR:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Er={};var __,n4,Rs,I_,$c,Bh,E_,w_,T_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function w(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,N){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return d.prototype[C].apply(m,O)}}function A(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,N=m.length||0;c.length=C+N;for(let O=0;O<N;O++)c[C+O]=m[O]}else c.push(m)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var Ze=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ge(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let N=0;N<E.length;N++)f=E[N],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Gf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class zn{constructor(){this.h=this.g=null}add(d,f){let m=ea.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ea=new k(()=>new aP,c=>c.reset());class aP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ta,na=!1,Gf=new zn,jE=()=>{let c=a.Promise.resolve(void 0);ta=()=>{c.then(cP)}};var cP=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=ea;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}na=!1};function Rr(){this.s=this.s,this.C=this.C}Rr.prototype.s=!1,Rr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Rr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var uP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ra(c,d){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ze){e:{try{pe(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:lP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ra.aa.h.call(this)}}w(ra,rt);var lP={2:"touch",3:"pen",4:"mouse"};ra.prototype.h=function(){ra.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ia="closure_listenable_"+(1e6*Math.random()|0),dP=0;function hP(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++dP,this.da=this.fa=!1}function fu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pu(c){this.src=c,this.g={},this.h=0}pu.prototype.add=function(c,d,f,m,C){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var O=Kf(c,d,m,C);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new hP(d,this.src,N,!!m,C),d.fa=f,c.push(d)),d};function Wf(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(m,C,1),N&&(fu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Kf(c,d,f,m){for(var C=0;C<c.length;++C){var N=c[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==m)return C}return-1}var Qf="closure_lm_"+(1e6*Math.random()|0),Yf={};function UE(c,d,f,m,C){if(m&&m.once)return $E(c,d,f,m,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)UE(c,d[N],f,m,C);return null}return f=ep(f),c&&c[ia]?c.K(d,f,l(m)?!!m.capture:!!m,C):BE(c,d,f,!1,m,C)}function BE(c,d,f,m,C,N){if(!d)throw Error("Invalid event type");var O=l(C)?!!C.capture:!!C,Ee=Zf(c);if(Ee||(c[Qf]=Ee=new pu(c)),f=Ee.add(d,f,m,O,N),f.proxy)return f;if(m=fP(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)uP||(C=O),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(zE(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function fP(){function c(f){return d.call(c.src,c.listener,f)}let d=pP;return c}function $E(c,d,f,m,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)$E(c,d[N],f,m,C);return null}return f=ep(f),c&&c[ia]?c.L(d,f,l(m)?!!m.capture:!!m,C):BE(c,d,f,!0,m,C)}function HE(c,d,f,m,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)HE(c,d[N],f,m,C);else m=l(m)?!!m.capture:!!m,f=ep(f),c&&c[ia]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=Kf(N,f,m,C),-1<f&&(fu(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=Zf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Kf(d,f,m,C)),(f=-1<c?d[c]:null)&&Jf(f))}function Jf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ia])Wf(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(zE(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Zf(d))?(Wf(f,c),f.h==0&&(f.src=null,d[Qf]=null)):fu(c)}}}function zE(c){return c in Yf?Yf[c]:Yf[c]="on"+c}function pP(c,d){if(c.da)c=!0;else{d=new ra(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Jf(c),c=f.call(m,d)}return c}function Zf(c){return c=c[Qf],c instanceof pu?c:null}var Xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function ep(c){return typeof c=="function"?c:(c[Xf]||(c[Xf]=function(d){return c.handleEvent(d)}),c[Xf])}function it(){Rr.call(this),this.i=new pu(this),this.M=this,this.F=null}w(it,Rr),it.prototype[ia]=!0,it.prototype.removeEventListener=function(c,d,f,m){HE(this,c,d,f,m)};function pt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new rt(d,c);else if(d instanceof rt)d.target=d.target||c;else{var C=d;d=new rt(m,c),T(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var O=d.g=f[N];C=gu(O,m,!0,d)&&C}if(O=d.g=c,C=gu(O,m,!0,d)&&C,C=gu(O,m,!1,d)&&C,f)for(N=0;N<f.length;N++)O=d.g=f[N],C=gu(O,m,!1,d)&&C}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)fu(f[m]);delete c.g[d],c.h--}}this.F=null},it.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},it.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function gu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var O=d[N];if(O&&!O.da&&O.capture==f){var Ee=O.listener,Xe=O.ha||O.src;O.fa&&Wf(c.i,O),C=Ee.call(Xe,m)!==!1&&C}}return C&&!m.defaultPrevented}function qE(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function GE(c){c.g=qE(()=>{c.g=null,c.i&&(c.i=!1,GE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class gP extends Rr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:GE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(c){Rr.call(this),this.h=c,this.g={}}w(oa,Rr);var WE=[];function KE(c){ge(c.g,function(d,f){this.g.hasOwnProperty(f)&&Jf(d)},c),c.g={}}oa.prototype.N=function(){oa.aa.N.call(this),KE(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tp=a.JSON.stringify,mP=a.JSON.parse,yP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function np(){}np.prototype.h=null;function QE(c){return c.h||(c.h=c.i())}function YE(){}var sa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rp(){rt.call(this,"d")}w(rp,rt);function ip(){rt.call(this,"c")}w(ip,rt);var li={},JE=null;function mu(){return JE=JE||new it}li.La="serverreachability";function ZE(c){rt.call(this,li.La,c)}w(ZE,rt);function aa(c){let d=mu();pt(d,new ZE(d))}li.STAT_EVENT="statevent";function XE(c,d){rt.call(this,li.STAT_EVENT,c),this.stat=d}w(XE,rt);function gt(c){let d=mu();pt(d,new XE(d,c))}li.Ma="timingevent";function ew(c,d){rt.call(this,li.Ma,c),this.size=d}w(ew,rt);function ca(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ua(){this.g=!0}ua.prototype.xa=function(){this.g=!1};function vP(c,d,f,m,C,N){c.info(function(){if(c.g)if(N)for(var O="",Ee=N.split("&"),Xe=0;Xe<Ee.length;Xe++){var fe=Ee[Xe].split("=");if(1<fe.length){var ot=fe[0];fe=fe[1];var st=ot.split("_");O=2<=st.length&&st[1]=="type"?O+(ot+"="+fe+"&"):O+(ot+"=redacted&")}}else O=null;else O=N;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+O})}function _P(c,d,f,m,C,N,O){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+O})}function ho(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+EP(c,f)+(m?" "+m:"")})}function IP(c,d){c.info(function(){return"TIMEOUT: "+d})}ua.prototype.info=function(){};function EP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var O=1;O<C.length;O++)C[O]=""}}}}return tp(f)}catch{return d}}var yu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},op;function vu(){}w(vu,np),vu.prototype.g=function(){return new XMLHttpRequest},vu.prototype.i=function(){return{}},op=new vu;function Nr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nw}function nw(){this.i=null,this.g="",this.h=!1}var rw={},sp={};function ap(c,d,f){c.L=1,c.v=wu(qn(d)),c.m=f,c.P=!0,iw(c,null)}function iw(c,d){c.F=Date.now(),_u(c),c.A=qn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),vw(f.i,"t",m),c.C=0,f=c.j.J,c.h=new nw,c.g=Lw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new gP(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(WE[0]=C.toString()),C=WE);for(var N=0;N<C.length;N++){var O=UE(f,C[N],m||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),aa(),vP(c.i,c.u,c.A,c.l,c.R,c.m)}Nr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Gn(c)==3?d.j():this.Y(c)},Nr.prototype.Y=function(c){try{if(c==this.g)e:{let st=Gn(this.g);var d=this.g.Ba();let go=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||bw(this.g)))){this.J||st!=4||d==7||(d==8||0>=go?aa(3):aa(2)),cp(this);var f=this.g.Z();this.X=f;t:if(ow(this)){var m=bw(this.g);c="";var C=m.length,N=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),la(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(N&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,_P(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Xe=this.g;if((Ee=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ee)){var fe=Ee;break t}}fe=null}if(f=fe)ho(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,up(this,f);else{this.o=!1,this.s=3,gt(12),di(this),la(this);break e}}if(this.P){f=!0;let en;for(;!this.J&&this.C<O.length;)if(en=wP(this,O),en==sp){st==4&&(this.s=4,gt(14),f=!1),ho(this.i,this.l,null,"[Incomplete Response]");break}else if(en==rw){this.s=4,gt(15),ho(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else ho(this.i,this.l,en,null),up(this,en);if(ow(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||O.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)ho(this.i,this.l,O,"[Invalid Chunked Response]"),di(this),la(this);else if(0<O.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),gp(ot),ot.M=!0,gt(11))}}else ho(this.i,this.l,O,null),up(this,O);st==4&&di(this),this.o&&!this.J&&(st==4?Pw(this.j,this):(this.o=!1,_u(this)))}else jP(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),di(this),la(this)}}}catch{}finally{}};function ow(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wP(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?sp:(f=Number(d.substring(f,m)),isNaN(f)?rw:(m+=1,m+f>d.length?sp:(d=d.slice(m,m+f),c.C=m+f,d)))}Nr.prototype.cancel=function(){this.J=!0,di(this)};function _u(c){c.S=Date.now()+c.I,sw(c,c.I)}function sw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ca(g(c.ba,c),d)}function cp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Nr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(IP(this.i,this.A),this.L!=2&&(aa(),gt(17)),di(this),this.s=2,la(this)):sw(this,this.S-c)};function la(c){c.j.G==0||c.J||Pw(c.j,c)}function di(c){cp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,KE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function up(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||lp(f.h,c))){if(!c.K&&lp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Su(f),bu(f);else break e;pp(f),gt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ca(g(f.Za,f),6e3));if(1>=uw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else fi(f,11)}else if((c.K||f.g==c)&&Su(f),!z(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let fe=C[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let ot=fe[3];ot!=null&&(f.la=ot,f.j.info("VER="+f.la));let st=fe[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));let go=fe[5];go!=null&&typeof go=="number"&&0<go&&(m=1.5*go,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let en=c.g;if(en){let Ru=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ru){var N=m.h;N.g||Ru.indexOf("spdy")==-1&&Ru.indexOf("quic")==-1&&Ru.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(dp(N,N.h),N.h=null))}if(m.D){let mp=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;mp&&(m.ya=mp,be(m.I,m.D,mp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var O=c;if(m.qa=Ow(m,m.J?m.ia:null,m.W),O.K){lw(m.h,O);var Ee=O,Xe=m.L;Xe&&(Ee.I=Xe),Ee.B&&(cp(Ee),_u(Ee)),m.g=O}else Nw(m);0<f.i.length&&Cu(f)}else fe[0]!="stop"&&fe[0]!="close"||fi(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?fi(f,7):fp(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}aa(4)}catch{}}var TP=class{constructor(c,d){this.g=c,this.map=d}};function aw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uw(c){return c.h?1:c.g?c.g.size:0}function lp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function dp(c,d){c.g?c.g.add(d):c.h=d}function lw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}aw.prototype.cancel=function(){if(this.i=dw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function dw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return A(c.i)}function DP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function bP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function hw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=bP(c),m=DP(c),C=m.length,N=0;N<C;N++)d.call(void 0,m[N],f&&f[N],c)}var fw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var N=c[f].substring(0,m);C=c[f].substring(m+1)}else N=c[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function hi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof hi){this.h=c.h,Iu(this,c.j),this.o=c.o,this.g=c.g,Eu(this,c.s),this.l=c.l;var d=c.i,f=new fa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),pw(this,f),this.m=c.m}else c&&(d=String(c).match(fw))?(this.h=!1,Iu(this,d[1]||"",!0),this.o=da(d[2]||""),this.g=da(d[3]||"",!0),Eu(this,d[4]),this.l=da(d[5]||"",!0),pw(this,d[6]||"",!0),this.m=da(d[7]||"")):(this.h=!1,this.i=new fa(null,this.h))}hi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ha(d,gw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ha(d,gw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ha(f,f.charAt(0)=="/"?RP:AP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ha(f,MP)),c.join("")};function qn(c){return new hi(c)}function Iu(c,d,f){c.j=f?da(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Eu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function pw(c,d,f){d instanceof fa?(c.i=d,PP(c.i,c.h)):(f||(d=ha(d,NP)),c.i=new fa(d,c.h))}function be(c,d,f){c.i.set(d,f)}function wu(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function da(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ha(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,SP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function SP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gw=/[#\/\?@]/g,AP=/[#\?:]/g,RP=/[#\?]/g,NP=/[#\?@]/g,MP=/#/g;function fa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Mr(c){c.g||(c.g=new Map,c.h=0,c.i&&CP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=fa.prototype,n.add=function(c,d){Mr(this),this.i=null,c=fo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function mw(c,d){Mr(c),d=fo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function yw(c,d){return Mr(c),d=fo(c,d),c.g.has(d)}n.forEach=function(c,d){Mr(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},n.na=function(){Mr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let N=0;N<C.length;N++)f.push(d[m])}return f},n.V=function(c){Mr(this);let d=[];if(typeof c=="string")yw(this,c)&&(d=d.concat(this.g.get(fo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Mr(this),this.i=null,c=fo(this,c),yw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function vw(c,d,f){mw(c,d),0<f.length&&(c.i=null,c.g.set(fo(c,d),A(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let N=encodeURIComponent(String(m)),O=this.V(m);for(m=0;m<O.length;m++){var C=N;O[m]!==""&&(C+="="+encodeURIComponent(String(O[m]))),c.push(C)}}return this.i=c.join("&")};function fo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function PP(c,d){d&&!c.j&&(Mr(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(mw(this,m),vw(this,C,f))},c)),c.j=d}function xP(c,d){let f=new ua;if(a.Image){let m=new Image;m.onload=y(Pr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Pr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Pr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Pr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function kP(c,d){let f=new ua,m=new AbortController,C=setTimeout(()=>{m.abort(),Pr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(N=>{clearTimeout(C),N.ok?Pr(f,"TestPingServer: ok",!0,d):Pr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Pr(f,"TestPingServer: error",!1,d)})}function Pr(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function OP(){this.g=new yP}function LP(c,d,f){let m=f||"";try{hw(c,function(C,N){let O=C;l(C)&&(O=tp(C)),d.push(m+N+"="+encodeURIComponent(O))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function pa(c){this.l=c.Ub||null,this.j=c.eb||!1}w(pa,np),pa.prototype.g=function(){return new Tu(this.l,this.j)},pa.prototype.i=function(c){return function(){return c}}({});function Tu(c,d){it.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Tu,it),n=Tu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ma(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_w(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _w(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ga(this):ma(this),this.readyState==3&&_w(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ga(this))},n.Qa=function(c){this.g&&(this.response=c,ga(this))},n.ga=function(){this.g&&ga(this)};function ga(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ma(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ma(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Iw(c){let d="";return ge(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function hp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Iw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):be(c,d,f))}function Oe(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Oe,it);var FP=/^https?$/i,VP=["POST","PUT"];n=Oe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():op.g(),this.v=this.o?QE(this.o):QE(op),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){Ew(this,N);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(VP,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,O]of f)this.g.setRequestHeader(N,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dw(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){Ew(this,N)}};function Ew(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ww(c),Du(c)}function ww(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),Du(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Du(this,!0)),Oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Tw(this):this.bb())},n.bb=function(){Tw(this)};function Tw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Gn(c)!=4||c.Z()!=2)){if(c.u&&Gn(c)==4)qE(c.Ea,0,c);else if(pt(c,"readystatechange"),Gn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=O===0){var C=String(c.D).match(fw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!FP.test(C?C.toLowerCase():"")}f=m}if(f)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var N=2<Gn(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",ww(c)}}finally{Du(c)}}}}function Du(c,d){if(c.g){Dw(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||pt(c,"ready");try{f.onreadystatechange=m}catch{}}}function Dw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),mP(d)}};function bw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jP(c){let d={};c=(c.g&&2<=Gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(z(c[m]))continue;var f=b(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Cw(c){this.Aa=0,this.i=[],this.j=new ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,c),this.cb=ya("retryDelaySeedMs",1e4,c),this.Wa=ya("forwardChannelMaxRetries",2,c),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new aw(c&&c.concurrentRequestLimit),this.Da=new OP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Cw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){gt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Ow(this,null,this.W),Cu(this)};function fp(c){if(Sw(c),c.G==3){var d=c.U++,f=qn(c.I);if(be(f,"SID",c.K),be(f,"RID",d),be(f,"TYPE","terminate"),va(c,f),d=new Nr(c,c.j,d),d.L=2,d.v=wu(qn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Lw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),_u(d)}kw(c)}function bu(c){c.g&&(gp(c),c.g.cancel(),c.g=null)}function Sw(c){bu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Su(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Cu(c){if(!cw(c.h)&&!c.s){c.s=!0;var d=c.Ga;ta||jE(),na||(ta(),na=!0),Gf.add(d,c),c.B=0}}function UP(c,d){return uw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ca(g(c.Ga,c,d),xw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Nr(this,this.j,c),N=this.o;if(this.S&&(N?(N=v(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Rw(this,C,d),f=qn(this.I),be(f,"RID",c),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),va(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(Iw(N)))+"&"+d:this.m&&hp(f,this.m,N)),dp(this.h,C),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),C.T=!0,ap(C,f,null)):ap(C,f,d),this.G=2}}else this.G==3&&(c?Aw(this,c):this.i.length==0||cw(this.h)||Aw(this))};function Aw(c,d){var f;d?f=d.l:f=c.U++;let m=qn(c.I);be(m,"SID",c.K),be(m,"RID",f),be(m,"AID",c.T),va(c,m),c.m&&c.o&&hp(m,c.m,c.o),f=new Nr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Rw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),dp(c.h,f),ap(f,m,d)}function va(c,d){c.H&&ge(c.H,function(f,m){be(d,m,f)}),c.l&&hw({},function(f,m){be(d,m,f)})}function Rw(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let N=-1;for(;;){let O=["count="+f];N==-1?0<f?(N=C[0].g,O.push("ofs="+N)):N=0:O.push("ofs="+N);let Ee=!0;for(let Xe=0;Xe<f;Xe++){let fe=C[Xe].g,ot=C[Xe].map;if(fe-=N,0>fe)N=Math.max(0,C[Xe].g-100),Ee=!1;else try{LP(ot,O,"req"+fe+"_")}catch{m&&m(ot)}}if(Ee){m=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function Nw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ta||jE(),na||(ta(),na=!0),Gf.add(d,c),c.v=0}}function pp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ca(g(c.Fa,c),xw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Mw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ca(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),bu(this),Mw(this))};function gp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Mw(c){c.g=new Nr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=qn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),va(c,d),c.m&&c.o&&hp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=wu(qn(d)),f.m=null,f.P=!0,iw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,bu(this),pp(this),gt(19))};function Su(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Pw(c,d){var f=null;if(c.g==d){Su(c),gp(c),c.g=null;var m=2}else if(lp(c.h,d))f=d.D,lw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=mu(),pt(m,new ew(m,f)),Cu(c)}else Nw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&UP(c,d)||m==2&&pp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:fi(c,5);break;case 4:fi(c,10);break;case 3:fi(c,6);break;default:fi(c,2)}}}function xw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function fi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new hi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Iu(m,"https"),wu(m),C?xP(m.toString(),f):kP(m.toString(),f)}else gt(2);c.G=0,c.l&&c.l.sa(d),kw(c),Sw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function kw(c){if(c.G=0,c.ka=[],c.l){let d=dw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function Ow(c,d,f){var m=f instanceof hi?qn(f):new hi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Eu(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new hi(null);m&&Iu(N,m),d&&(N.g=d),C&&Eu(N,C),f&&(N.l=f),m=N}return f=c.D,d=c.ya,f&&d&&be(m,f,d),be(m,"VER",c.la),va(c,m),m}function Lw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Oe(new pa({eb:f})):new Oe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fw(){}n=Fw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Au(){}Au.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){it.call(this),this.g=new Cw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new po(this)}w(Ot,it),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){fp(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=tp(c),c=f);d.i.push(new TP(d.Ya++,c)),d.G==3&&Cu(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,fp(this.g),delete this.g,Ot.aa.N.call(this)};function Vw(c){rp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}w(Vw,rp);function jw(){ip.call(this),this.status=1}w(jw,ip);function po(c){this.g=c}w(po,Fw),po.prototype.ua=function(){pt(this.g,"a")},po.prototype.ta=function(c){pt(this.g,new Vw(c))},po.prototype.sa=function(c){pt(this.g,new jw)},po.prototype.ra=function(){pt(this.g,"b")},Au.prototype.createWebChannel=Au.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,T_=Er.createWebChannelTransport=function(){return new Au},w_=Er.getStatEventTarget=function(){return mu()},E_=Er.Event=li,Bh=Er.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yu.NO_ERROR=0,yu.TIMEOUT=8,yu.HTTP_ERROR=6,$c=Er.ErrorCode=yu,tw.COMPLETE="complete",I_=Er.EventType=tw,YE.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",it.prototype.listen=it.prototype.K,Rs=Er.WebChannel=YE,n4=Er.FetchXmlHttpFactory=pa,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,__=Er.XhrIo=Oe}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});var VR="@firebase/firestore",jR="4.7.17";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var Ys="11.9.0";var no=new Kr("@firebase/firestore");function Ns(){return no.logLevel}function j(n,...e){if(no.logLevel<=ue.DEBUG){let t=e.map(gE);no.debug(`Firestore (${Ys}): ${n}`,...t)}}function wr(n,...e){if(no.logLevel<=ue.ERROR){let t=e.map(gE);no.error(`Firestore (${Ys}): ${n}`,...t)}}function Vs(n,...e){if(no.logLevel<=ue.WARN){let t=e.map(gE);no.warn(`Firestore (${Ys}): ${n}`,...t)}}function gE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function K(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,NN(n,r,t)}function NN(n,e,t){let r=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw wr(r),new Error(r)}function ve(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||NN(e,i,r)}function J(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Ut{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Kh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},A_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ye.UNAUTHENTICATED))}shutdown(){}},R_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},N_=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ve(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new Kh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}},M_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},P_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new M_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},x_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,It(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ve(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Qh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function r4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function MN(){return new TextEncoder}var Yh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=r4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ae(n,e){return n<e?-1:n>e?1:0}function k_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=MN(),s=i4(o.encode(UR(n,t)),o.encode(UR(e,t)));return s!==0?s:ae(r,i)}}t+=r>65535?2:1}return ae(n.length,e.length)}function UR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function i4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ae(n[t],e[t]);return ae(n.length,e.length)}function js(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var BR=-62135596800,$R=1e6,nt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$R);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<BR)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$R}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-BR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new nt(0,0))}static max(){return new n(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var HR="__name__",Jh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&K(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ae(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):k_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ir.fromString(e.substring(4,e.length-2))}},Re=class n extends Jh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},o4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$t=class n extends Jh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return o4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HR}static keyField(){return new n([HR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Re.fromString(e))}static fromName(e){return new n(Re.fromString(e).popFirst(5))}static empty(){return new n(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Re.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Re(e.slice()))}};var Wc=-1,O_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};O_.UNKNOWN_ID=-1;function s4(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new nt(t+1,0):new nt(t,r));return new ro(i,q.empty(),e)}function a4(n){return new ro(n.readTime,n.key,Wc)}var ro=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(X.min(),q.empty(),Wc)}static max(){return new n(X.max(),q.empty(),Wc)}};function c4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:ae(n.largestBatchId,e.largestBatchId))}var u4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",L_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Js(n){return _(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==u4)throw n;j("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function l4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zs(n){return n.name==="IndexedDbTransactionError"}var mE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),yE=-1;function xf(n){return n==null}function Kc(n){return n===0&&1/n==-1/0}function d4(n){return typeof n=="number"&&Number.isInteger(n)&&!Kc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var PN="";function h4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zR(e)),e=f4(n.get(t),e);return zR(e)}function f4(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case PN:t+="";break;default:t+=o}}return t}function zR(n){return n+PN+""}var p4="remoteDocuments",xN="owner";var kN="mutationQueues";var ON="mutations";var LN="documentMutations",g4="remoteDocumentsV14";var FN="remoteDocumentGlobal";var VN="targets";var jN="targetDocuments";var UN="targetGlobal",BN="collectionParents";var $N="clientMetadata";var HN="bundles";var zN="namedQueries";var m4="indexConfiguration";var y4="indexState";var v4="indexEntries";var qN="documentOverlays";var _4="globals";var I4=[kN,ON,LN,p4,VN,xN,UN,jN,$N,FN,BN,HN,zN],$Z=[...I4,qN],E4=[kN,ON,LN,g4,VN,xN,UN,jN,$N,FN,BN,HN,zN,qN],w4=E4,T4=[...w4,m4,y4,v4];var HZ=[...T4,_4];function qR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ui(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ve=class n{constructor(e,t){this.comparator=e,this.root=t||Fn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ks(this.root,e,this.comparator,!0)}},ks=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class n{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zh(this.data.getIterator())}getIteratorFrom(e){return new Zh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Zh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xt=class n{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new n([])}unionWith(e){let t=new Je($t.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Xh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ft=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ft.EMPTY_BYTE_STRING=new ft("");var D4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(n){if(ve(!!n,39018),typeof n=="string"){let e=0,t=D4.exec(n);if(ve(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(n.seconds),nanos:Ae(n.nanos)}}function Ae(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Dr(n){return typeof n=="string"?ft.fromBase64String(n):ft.fromUint8Array(n)}var WN="server_timestamp",KN="__type__",QN="__previous_value__",YN="__local_write_time__";function kf(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[KN])===null||t===void 0?void 0:t.stringValue)===WN}function Of(n){let e=n.mapValue.fields[QN];return kf(e)?Of(e):e}function Qc(n){let e=Tr(n.mapValue.fields[YN].timestampValue);return new nt(e.seconds,e.nanos)}var F_=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},ef="(default)",tf=class n{constructor(e,t){this.projectId=e,this.database=t||ef}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ef}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var vE="__type__",JN="__max__",$h={mapValue:{fields:{__type__:{stringValue:JN}}}},_E="__vector__",Us="value";function ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kf(n)?4:XN(n)?9007199254740991:ZN(n)?10:11:K(28295,{value:n})}function Bn(n,e){if(n===e)return!0;let t=ri(n);if(t!==ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qc(n).isEqual(Qc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Tr(i.timestampValue),a=Tr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Dr(i.bytesValue).isEqual(Dr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?Kc(s)===Kc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return js(n.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(qR(s)!==qR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Bn(s[u],a[u])))return!1;return!0}(n,e);default:return K(52216,{left:n})}}function Yc(n,e){return(n.values||[]).find(t=>Bn(t,e))!==void 0}function Bs(n,e){if(n===e)return 0;let t=ri(n),r=ri(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return GR(n.timestampValue,e.timestampValue);case 4:return GR(Qc(n),Qc(e));case 5:return k_(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Dr(o),u=Dr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ae(a[l],u[l]);if(h!==0)return h}return ae(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ae(Ae(o.latitude),Ae(s.latitude));return a!==0?a:ae(Ae(o.longitude),Ae(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return WR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[Us])===null||a===void 0?void 0:a.arrayValue,w=(u=g[Us])===null||u===void 0?void 0:u.arrayValue,A=ae(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:WR(y,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===$h.mapValue&&s===$h.mapValue)return 0;if(o===$h.mapValue)return 1;if(s===$h.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=k_(u[p],h[p]);if(g!==0)return g;let y=Bs(a[u[p]],l[h[p]]);if(y!==0)return y}return ae(u.length,h.length)}(n.mapValue,e.mapValue);default:throw K(23264,{Pe:t})}}function GR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ae(n,e);let t=Tr(n),r=Tr(e),i=ae(t.seconds,r.seconds);return i!==0?i:ae(t.nanos,r.nanos)}function WR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Bs(t[i],r[i]);if(o)return o}return ae(t.length,r.length)}function $s(n){return V_(n)}function V_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Tr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Dr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=V_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${V_(t.fields[s])}`;return i+"}"}(n.mapValue):K(61005,{value:n})}function qh(n){switch(ri(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Of(n);return e?16+qh(e):16;case 5:return 2*n.stringValue.length;case 6:return Dr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+qh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ui(r.fields,(o,s)=>{i+=o.length+qh(s)}),i}(n.mapValue);default:throw K(13486,{value:n})}}function nf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function j_(n){return!!n&&"integerValue"in n}function IE(n){return!!n&&"arrayValue"in n}function KR(n){return!!n&&"nullValue"in n}function QR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gh(n){return!!n&&"mapValue"in n}function ZN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vE])===null||t===void 0?void 0:t.stringValue)===_E}function zc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ui(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=zc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JN}var qZ={mapValue:{fields:{[vE]:{stringValue:_E},[Us]:{arrayValue:{}}}}};var Bt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(t)}setAll(e){let t=$t.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=zc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ui(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(zc(this.value))}};function eM(n){let e=[];return ui(n.fields,(t,r)=>{let i=new $t([t]);if(Gh(r)){let o=eM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Xt(e)}var pn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,X.min(),X.min(),X.min(),Bt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,X.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,X.min(),X.min(),Bt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,X.min(),X.min(),Bt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ii=class{constructor(e,t){this.position=e,this.inclusive=t}};function YR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=Bs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bn(n.position[t],e.position[t]))return!1;return!0}var io=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function b4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var rf=class{},ze=class n extends rf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new B_(e,t,r):t==="array-contains"?new z_(e,r):t==="in"?new q_(e,r):t==="not-in"?new G_(e,r):t==="array-contains-any"?new W_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new $_(e,r):new H_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bs(t,this.value)):t!==null&&ri(this.value)===ri(t)&&this.matchesComparison(Bs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class n extends rf{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return tM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function tM(n){return n.op==="and"}function nM(n){return C4(n)&&tM(n)}function C4(n){for(let e of n.filters)if(e instanceof gn)return!1;return!0}function U_(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+$s(n.value);if(nM(n))return n.filters.map(e=>U_(e)).join(",");{let e=n.filters.map(t=>U_(t)).join(",");return`${n.op}(${e})`}}function rM(n,e){return n instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Bn(r.value,i.value)}(n,e):n instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&rM(s,i.filters[a]),!0):!1}(n,e):void K(19439)}function iM(n){return n instanceof ze?function(t){return`${t.field.canonicalString()} ${t.op} ${$s(t.value)}`}(n):n instanceof gn?function(t){return t.op.toString()+" {"+t.getFilters().map(iM).join(" ,")+"}"}(n):"Filter"}var B_=class extends ze{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},$_=class extends ze{constructor(e,t){super(e,"in",t),this.keys=oM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},H_=class extends ze{constructor(e,t){super(e,"not-in",t),this.keys=oM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function oM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}var z_=class extends ze{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return IE(t)&&Yc(t.arrayValue,this.value)}},q_=class extends ze{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Yc(this.value.arrayValue,t)}},G_=class extends ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yc(this.value.arrayValue,t)}},W_=class extends ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!IE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yc(this.value.arrayValue,r))}};var K_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function ZR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new K_(n,e,t,r,i,o,s)}function EE(n){let e=J(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>U_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$s(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$s(r)).join(",")),e.Ie=t}return e.Ie}function wE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!b4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JR(n.startAt,e.startAt)&&JR(n.endAt,e.endAt)}function Q_(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var br=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function S4(n,e,t,r,i,o,s,a){return new br(n,e,t,r,i,o,s,a)}function Lf(n){return new br(n)}function XR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function TE(n){return n.collectionGroup!==null}function Os(n){let e=J(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Je($t.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new io(o,r))}),t.has($t.keyField().canonicalString())||e.Ee.push(new io($t.keyField(),r))}return e.Ee}function Vn(n){let e=J(n);return e.de||(e.de=A4(e,Os(n))),e.de}function A4(n,e){if(n.limitType==="F")return ZR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new io(i.field,o)});let t=n.endAt?new ii(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ii(n.startAt.position,n.startAt.inclusive):null;return ZR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Y_(n,e){let t=n.filters.concat([e]);return new br(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function of(n,e,t){return new br(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ff(n,e){return wE(Vn(n),Vn(e))&&n.limitType===e.limitType}function sM(n){return`${EE(Vn(n))}|lt:${n.limitType}`}function Ms(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>iM(i)).join(", ")}]`),xf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$s(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$s(i)).join(",")),`Target(${r})`}(Vn(n))}; limitType=${n.limitType})`}function Vf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Os(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=YR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Os(r),i)||r.endAt&&!function(s,a,u){let l=YR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Os(r),i))}(n,e)}function R4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aM(n){return(e,t)=>{let r=!1;for(let i of Os(n)){let o=N4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function N4(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Bs(u,l):K(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:n.dir})}}var Cr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return GN(this.inner)}size(){return this.innerSize}};var M4=new Ve(q.comparator);function Sr(){return M4}var cM=new Ve(q.comparator);function Hc(...n){let e=cM;for(let t of n)e=e.insert(t.key,t);return e}function uM(n){let e=cM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xi(){return qc()}function lM(){return qc()}function qc(){return new Cr(n=>n.toString(),(n,e)=>n.isEqual(e))}var P4=new Ve(q.comparator),x4=new Je(q.comparator);function le(...n){let e=x4;for(let t of n)e=e.add(t);return e}var k4=new Je(ae);function O4(){return k4}function DE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function dM(n){return{integerValue:""+n}}function hM(n,e){return d4(e)?dM(e):DE(n,e)}var Hs=class{constructor(){this._=void 0}};function L4(n,e,t){return n instanceof oo?function(i,o){let s={fields:{[KN]:{stringValue:WN},[YN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&kf(o)&&(o=Of(o)),o&&(s.fields[QN]=o),{mapValue:s}}(t,e):n instanceof oi?pM(n,e):n instanceof si?gM(n,e):function(i,o){let s=fM(i,o),a=eN(s)+eN(i.Re);return j_(s)&&j_(i.Re)?dM(a):DE(i.serializer,a)}(n,e)}function F4(n,e,t){return n instanceof oi?pM(n,e):n instanceof si?gM(n,e):t}function fM(n,e){return n instanceof so?function(r){return j_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var oo=class extends Hs{},oi=class extends Hs{constructor(e){super(),this.elements=e}};function pM(n,e){let t=mM(e);for(let r of n.elements)t.some(i=>Bn(i,r))||t.push(r);return{arrayValue:{values:t}}}var si=class extends Hs{constructor(e){super(),this.elements=e}};function gM(n,e){let t=mM(e);for(let r of n.elements)t=t.filter(i=>!Bn(i,r));return{arrayValue:{values:t}}}var so=class extends Hs{constructor(e,t){super(),this.serializer=e,this.Re=t}};function eN(n){return Ae(n.integerValue||n.doubleValue)}function mM(n){return IE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var zs=class{constructor(e,t){this.field=e,this.transform=t}};function V4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof oi&&i instanceof oi||r instanceof si&&i instanceof si?js(r.elements,i.elements,Bn):r instanceof so&&i instanceof so?Bn(r.Re,i.Re):r instanceof oo&&i instanceof oo}(n.transform,e.transform)}var J_=class{constructor(e,t){this.version=e,this.transformResults=t}},jn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var qs=class{};function yM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jc(n.key,jn.none()):new ao(n.key,n.data,jn.none());{let t=n.data,r=Bt.empty(),i=new Je($t.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new $n(n.key,r,new Xt(i.toArray()),jn.none())}}function j4(n,e,t){n instanceof ao?function(i,o,s){let a=i.value.clone(),u=nN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof $n?function(i,o,s){if(!Wh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=nN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(vM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Gc(n,e,t,r){return n instanceof ao?function(o,s,a,u){if(!Wh(o.precondition,s))return a;let l=o.value.clone(),h=rN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof $n?function(o,s,a,u){if(!Wh(o.precondition,s))return a;let l=rN(o.fieldTransforms,u,s),h=s.data;return h.setAll(vM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Wh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function U4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=fM(r.transform,i||null);o!=null&&(t===null&&(t=Bt.empty()),t.set(r.field,o))}return t||null}function tN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(o,s)=>V4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ao=class extends qs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},$n=class extends qs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function vM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function nN(n,e,t){let r=new Map;ve(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,F4(s,a,t[i]))}return r}function rN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,L4(o,s,e))}return r}var Jc=class extends qs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Z_=class extends qs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var X_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&j4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Gc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=lM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=yM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(t,r)=>tN(t,r))&&js(this.baseMutations,e.baseMutations,(t,r)=>tN(t,r))}},eI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return P4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var tI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var nI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var $e,he;function B4(n){switch(n){case M.OK:return K(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return K(15467,{code:n})}}function _M(n){if(n===void 0)return wr("GRPC error has no .code"),M.UNKNOWN;switch(n){case $e.OK:return M.OK;case $e.CANCELLED:return M.CANCELLED;case $e.UNKNOWN:return M.UNKNOWN;case $e.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case $e.INTERNAL:return M.INTERNAL;case $e.UNAVAILABLE:return M.UNAVAILABLE;case $e.UNAUTHENTICATED:return M.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case $e.NOT_FOUND:return M.NOT_FOUND;case $e.ALREADY_EXISTS:return M.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return M.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case $e.ABORTED:return M.ABORTED;case $e.OUT_OF_RANGE:return M.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return M.UNIMPLEMENTED;case $e.DATA_LOSS:return M.DATA_LOSS;default:return K(39323,{code:n})}}(he=$e||($e={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var iN=null;var $4=new Ir([4294967295,4294967295],0);function oN(n){let e=MN().encode(n),t=new v_;return t.update(e),new Uint8Array(t.digest())}function sN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ir([t,r],0),new Ir([i,o],0)]}var rI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new eo(`Invalid padding: ${t}`);if(r<0)throw new eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new eo(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ir.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ir.fromNumber(r)));return i.compare($4)===1&&(i=new Ir([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=oN(e),[r,i]=sN(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=oN(e),[r,i]=sN(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},eo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(X.min(),i,new Ve(ae),Sr(),le())}},Zc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,le(),le(),le())}};var Ls=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},af=class{constructor(e,t){this.targetId=e,this.Ce=t}},cf=class{constructor(e,t,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},uf=class{constructor(){this.Fe=0,this.Me=aN(),this.xe=ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=le(),t=le(),r=le();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new Zc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=aN()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},iI=class{constructor(e){this.ze=e,this.je=new Map,this.He=Sr(),this.Je=Hh(),this.Ye=Hh(),this.Ze=new Ve(ae)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(Q_(o))if(r===0){let s=new q(o.path);this.tt(t,s,pn.newNoDocument(s,X.min()))}else ve(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}iN?.ht(function(h,p,g,y,w){var A,R,k,z,$,pe;let Ze={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ge=p.unchangedNames;return ge&&(Ze.bloomFilter={applied:w===0,hashCount:(A=ge?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(z=(k=(R=ge?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&z!==void 0?z:0,padding:(pe=($=ge?.bits)===null||$===void 0?void 0:$.padding)!==null&&pe!==void 0?pe:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Ze}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Dr(r).toUint8Array()}catch(u){if(u instanceof Xh)return Vs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new rI(s,i,o)}catch(u){return Vs(u instanceof eo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&Q_(a.target)){let u=new q(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,pn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=le();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new sf(e,t,this.Ze,this.He,r);return this.He=Sr(),this.Je=Hh(),this.Ye=Hh(),this.Ze=new Ve(ae),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new uf,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Je(ae),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Je(ae),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||j("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new uf),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Hh(){return new Ve(q.comparator)}function aN(){return new Ve(q.comparator)}var H4={asc:"ASCENDING",desc:"DESCENDING"},z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q4={and:"AND",or:"OR"},oI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function sI(n,e){return n.useProto3Json||xf(e)?e:{value:e}}function lf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function G4(n,e){return lf(n,e.toTimestamp())}function Un(n){return ve(!!n,49232),X.fromTimestamp(function(t){let r=Tr(t);return new nt(r.seconds,r.nanos)}(n))}function bE(n,e){return aI(n,e).canonicalString()}function aI(n,e){let t=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function EM(n){let e=Re.fromString(n);return ve(CM(e),10190,{key:e.toString()}),e}function cI(n,e){return bE(n.databaseId,e.path)}function D_(n,e){let t=EM(e);if(t.get(1)!==n.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(TM(t))}function wM(n,e){return bE(n.databaseId,e)}function W4(n){let e=EM(n);return e.length===4?Re.emptyPath():TM(e)}function uI(n){return new Re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TM(n){return ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cN(n,e,t){return{name:cI(n,e),fields:t.value.mapValue.fields}}function K4(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ve(h===void 0||typeof h=="string",58123),ft.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ft.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:_M(l.code);return new L(h,l.message||"")}(s);t=new cf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=D_(n,r.document.name),o=Un(r.document.updateTime),s=r.document.createTime?Un(r.document.createTime):X.min(),a=new Bt({mapValue:{fields:r.document.fields}}),u=pn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ls(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=D_(n,r.document),o=r.readTime?Un(r.readTime):X.min(),s=pn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ls([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=D_(n,r.document),o=r.removedTargetIds||[];t=new Ls([],o,i,null)}else{if(!("filter"in e))return K(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new nI(i,o),a=r.targetId;t=new af(a,s)}}return t}function Q4(n,e){let t;if(e instanceof ao)t={update:cN(n,e.key,e.value)};else if(e instanceof Jc)t={delete:cI(n,e.key)};else if(e instanceof $n)t={update:cN(n,e.key,e.data),updateMask:iz(e.fieldMask)};else{if(!(e instanceof Z_))return K(16599,{ft:e.type});t={verify:cI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof oo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof si)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof so)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw K(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:G4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K(27497)}(n,e.precondition)),t}function Y4(n,e){return n&&n.length>0?(ve(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Un(i.updateTime):Un(o);return s.isEqual(X.min())&&(s=Un(o)),new J_(s,i.transformResults||[])}(t,e))):[]}function J4(n,e){return{documents:[wM(n,e.path)]}}function Z4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=wM(n,i);let o=function(l){if(l.length!==0)return bM(gn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Ps(g.field),direction:tz(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=sI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function X4(n){let e=W4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ve(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=DM(p);return g instanceof gn&&nM(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(w){return new io(xs(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,xf(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new ii(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new ii(y,g)}(t.endAt)),S4(e,i,s,o,a,"F",u,l)}function ez(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=xs(t.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=xs(t.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=xs(t.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=xs(t.unaryFilter.field);return ze.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(n):n.fieldFilter!==void 0?function(t){return ze.create(xs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gn.create(t.compositeFilter.filters.map(r=>DM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(t.compositeFilter.op))}(n):K(30097,{filter:n})}function tz(n){return H4[n]}function nz(n){return z4[n]}function rz(n){return q4[n]}function Ps(n){return{fieldPath:n.canonicalString()}}function xs(n){return $t.fromServerFormat(n.fieldPath)}function bM(n){return n instanceof ze?function(t){if(t.op==="=="){if(QR(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NAN"}};if(KR(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QR(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NOT_NAN"}};if(KR(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(t.field),op:nz(t.op),value:t.value}}}(n):n instanceof gn?function(t){let r=t.getFilters().map(i=>bM(i));return r.length===1?r[0]:{compositeFilter:{op:rz(t.op),filters:r}}}(n):K(54877,{filter:n})}function iz(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Xc=class n{constructor(e,t,r,i,o=X.min(),s=X.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var lI=class{constructor(e){this.wt=e}};function oz(n){let e=X4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?of(e,e.limit,"L"):e}var df=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Kc(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Tr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Dr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?XN(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):ZN(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):K(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Us,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Ae(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),q.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};df.Wt=new df;var dI=class{constructor(){this.Cn=new hI}addToCollectionParentIndex(e,t){return this.Cn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(ro.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},hI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Je(Re.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Re.comparator)).toArray()}};var GZ=new Uint8Array(0);var uN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SM=41943040,Zt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(SM,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);var eu=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var lN="LruGarbageCollector",sz=1048576;function dN([n,e],[t,r]){let i=ae(n,t);return i===0?ae(e,r):i}var fI=class{constructor(e){this.Er=e,this.buffer=new Je(dN),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();dN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},pI=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){j(lN,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zs(t)?j(lN,"Ignoring IndexedDB error during garbage collection: ",t):yield Js(t)}yield this.mr(3e5)}))}},gI=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(mE.le);let r=new fI(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(uN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uN):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ns()<=ue.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function az(n,e){return new gI(n,e)}var mI=class{constructor(){this.changes=new Cr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var yI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var vI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Gc(r.mutation,i,Xt.empty(),nt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){let i=Xi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Hc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Xi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Sr(),s=qc(),a=function(){return qc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof $n)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Gc(h.mutation,l,h.mutation.getFieldMask(),nt.now())):s.set(l.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new yI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=qc(),i=new Ve((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Xt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=lM();h.forEach(g=>{if(!o.has(g)){let y=yM(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(Xi()),a=Wc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:uM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=Hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Hc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,g){return new br(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,pn.newInvalidDocument(h)))});let a=Hc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Gc(h.mutation,l,Xt.empty(),nt.now()),Vf(t,l)&&(a=a.insert(u,l))}),a})}};var _I=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return P.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Un(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:oz(i.bundledQuery),readTime:Un(i.readTime)}}(t)),P.resolve()}};var II=class{constructor(){this.overlays=new Ve(q.comparator),this.Qr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Xi();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=Xi(),o=t.length+1,s=new q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ve((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new tI(t,r));let o=this.Qr.get(t);o===void 0&&(o=le(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var EI=class{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var tu=class{constructor(){this.$r=new Je(He.Ur),this.Kr=new Je(He.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new He(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new He(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new q(new Re([])),r=new He(t,e),i=new He(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new q(new Re([])),r=new He(t,e),i=new He(t,e+1),o=le();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new He(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return q.comparator(e.key,t.key)||ae(e.Zr,t.Zr)}static Wr(e,t){return ae(e.Zr,t.Zr)||q.comparator(e.key,t.key)}};var wI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Je(He.Ur)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new X_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new He(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?yE:this.nr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new He(t,0),i=new He(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Je(ae);return t.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),P.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new He(new q(o),0),a=new Je(ae);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),P.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ve(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return P.forEach(t.mutations,i=>{let o=new He(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new He(t,0),i=this.Xr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var TI=class{constructor(e){this.ii=e,this.docs=function(){return new Ve(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=Sr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Sr(),s=t.path,a=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||c4(a4(h),r)<=0||(i.has(h.key)||Vf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){K(9500)}si(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DI(this)}getSize(e){return P.resolve(this.size)}},DI=class extends mI{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var bI=class{constructor(e){this.persistence=e,this.oi=new Cr(t=>EE(t),wE),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this._i=0,this.ai=new tu,this.targetCount=0,this.ui=eu.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),P.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new eu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Tr(t),P.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.ai.containsKey(t))}};var hf=class{constructor(e,t){this.ci={},this.overlays={},this.li=new mE(0),this.hi=!1,this.hi=!0,this.Pi=new EI,this.referenceDelegate=e(this),this.Ti=new bI(this),this.indexManager=new dI,this.remoteDocumentCache=function(i){return new TI(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new lI(t),this.Ei=new _I(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new II,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new wI(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){j("MemoryPersistence","Starting transaction:",e);let i=new CI(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return P.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},CI=class extends L_{constructor(e){super(),this.currentSequenceNumber=e}},SI=class n{constructor(e){this.persistence=e,this.Vi=new tu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw K(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,r=>{let i=q.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,X.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return P.or([()=>P.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},ff=class n{constructor(e,t){this.persistence=e,this.yi=new Cr(r=>h4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=az(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return P.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),P.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qh(e.data.value)),t}Dr(e,t,r){return P.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var AI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=le(),i=le();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var RI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var NI=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _A()?8:l4(Qe())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new RI;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Ns()<=ue.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Ms(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):(Ns()<=ue.DEBUG&&j("QueryEngine","Query:",Ms(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ns()<=ue.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Ms(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(t))):P.resolve())}ws(e,t){if(XR(t))return P.resolve(null);let r=Vn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=of(t,null,"F"),r=Vn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,a);return this.Cs(t,l,s,u.readTime)?this.ws(e,of(t,null,"F")):this.Fs(e,l,t,u)}))})))}bs(e,t,r,i){return XR(t)||i.isEqual(X.min())?P.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?P.resolve(null):(Ns()<=ue.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ms(t)),this.Fs(e,s,t,s4(i,Wc)).next(a=>a))})}vs(e,t){let r=new Je(aM(e));return t.forEach((i,o)=>{Vf(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Ns()<=ue.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Ms(t)),this.ys.getDocumentsMatchingQuery(e,t,ro.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var CE="LocalStore",cz=3e8,MI=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Ve(ae),this.Os=new Cr(o=>EE(o),wE),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function uz(n,e,t,r){return new MI(n,e,t,r)}function AM(n,e){return _(this,null,function*(){let t=J(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function lz(n,e){let t=J(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=P.resolve();return g.forEach(w=>{y=y.next(()=>h.getEntry(u,w)).next(A=>{let R=l.docVersions.get(w);ve(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function RM(n){let e=J(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function dz(n,e){let t=J(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ft.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(A,R,k){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=cz?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,y,h)&&a.push(t.Ti.updateTargetData(o,y))});let u=Sr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(hz(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(X.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function hz(n,e,t){let r=le(),i=le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Sr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j(CE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function fz(n,e){let t=J(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pz(n,e){let t=J(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Xc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function PI(n,e,t){return _(this,null,function*(){let r=J(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Zs(s))throw s;j(CE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function hN(n,e,t){let r=J(n),i=X.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=J(u),g=p.Os.get(h);return g!==void 0?P.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:X.min(),t?o:le())).next(a=>(gz(r,R4(e),a),{documents:a,$s:o})))}function gz(n,e,t){let r=n.Ns.get(e)||X.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var pf=class{constructor(){this.activeTargetIds=O4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var xI=class{constructor(){this.xo=new pf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new pf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var kI=class{No(e){}shutdown(){}};var fN="ConnectivityMonitor",gf=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){j(fN,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){j(fN,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var zh=null;function OI(){return zh===null?zh=function(){return 268435456+Math.round(2147483648*Math.random())}():zh++,"0x"+zh.toString(16)}var b_="RestConnection",mz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},LI=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===ef?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=OI(),a=this.jo(e,t.toUriEncodedString());j(b_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=Qi(l);return this.Jo(e,a,u,r,h).then(p=>(j(b_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Vs(b_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=mz[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var FI=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var dt="WebChannelConnection",VI=class extends LI{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=OI();return new Promise((a,u)=>{let l=new __;l.setWithCredentials(!0),l.listenOnce(I_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $c.NO_ERROR:let p=l.getResponseJson();j(dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case $c.TIMEOUT:j(dt,`RPC '${e}' ${s} timed out`),u(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:let g=l.getStatus();if(j(dt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let A=function(k){let z=k.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(z)>=0?z:M.UNKNOWN}(w.status);u(new L(A,w.message))}else u(new L(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(M.UNAVAILABLE,"Connection failed."));break;default:K(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{j(dt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);j(dt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=OI(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=T_(),a=w_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(dt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let g=!1,y=!1,w=new FI({Zo:R=>{y?j(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(j(dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),j(dt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),A=(R,k,z)=>{R.listen(k,$=>{try{z($)}catch(pe){setTimeout(()=>{throw pe},0)}})};return A(p,Rs.EventType.OPEN,()=>{y||(j(dt,`RPC '${e}' stream ${i} transport opened.`),w.__())}),A(p,Rs.EventType.CLOSE,()=>{y||(y=!0,j(dt,`RPC '${e}' stream ${i} transport closed`),w.u_(),this.d_(p))}),A(p,Rs.EventType.ERROR,R=>{y||(y=!0,Vs(dt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),w.u_(new L(M.UNAVAILABLE,"The operation could not be completed")))}),A(p,Rs.EventType.MESSAGE,R=>{var k;if(!y){let z=R.data[0];ve(!!z,16349);let $=z,pe=$?.error||((k=$[0])===null||k===void 0?void 0:k.error);if(pe){j(dt,`RPC '${e}' stream ${i} received error:`,pe);let Ze=pe.status,ge=function(E){let T=$e[E];if(T!==void 0)return _M(T)}(Ze),D=pe.message;ge===void 0&&(ge=M.INTERNAL,D="Unknown error status: "+Ze+" with message "+pe.message),y=!0,w.u_(new L(ge,D)),p.close()}else j(dt,`RPC '${e}' stream ${i} received:`,z),w.c_(z)}}),A(a,E_.STAT_EVENT,R=>{R.stat===Bh.PROXY?j(dt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Bh.NOPROXY&&j(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function C_(){return typeof document<"u"?document:null}function jf(n){return new oI(n,!0)}var mf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var pN="PersistentStream",yf=class{constructor(e,t,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new mf(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return j(pN,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(j(pN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},jI=class extends yf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=K4(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?Un(s.readTime):X.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=uI(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Q_(u)?{documents:J4(o,u)}:{query:Z4(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=IM(o,s.resumeToken);let l=sI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=lf(o,s.snapshotVersion.toTimestamp());let l=sI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=ez(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=uI(this.serializer),t.removeTarget=e,this.Q_(t)}},UI=class extends yf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=Y4(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=uI(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Q4(this.serializer,r))};this.Q_(t)}};var BI=class{},$I=class extends BI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,aI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,aI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},HI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(wr(t),this.ua=!1):j("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var co="RemoteStore",zI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){uo(this)&&(j(co,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=J(u);l.da.add(4),yield lu(l),l.Va.set("Unknown"),l.da.delete(4),yield Uf(l)})}(this))}))}),this.Va=new HI(r,i)}};function Uf(n){return _(this,null,function*(){if(uo(n))for(let e of n.Aa)yield e(!0)})}function lu(n){return _(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function NM(n,e){let t=J(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),NE(t)?RE(t):Xs(t).N_()&&AE(t,e))}function SE(n,e){let t=J(n),r=Xs(t);t.Ea.delete(e),r.N_()&&MM(t,e),t.Ea.size===0&&(r.N_()?r.k_():uo(t)&&t.Va.set("Unknown"))}function AE(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xs(n).Z_(e)}function MM(n,e){n.ma.Ke(e),Xs(n).X_(e)}function RE(n){n.ma=new iI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Xs(n).start(),n.Va.ca()}function NE(n){return uo(n)&&!Xs(n).O_()&&n.Ea.size>0}function uo(n){return J(n).da.size===0}function PM(n){n.ma=void 0}function yz(n){return _(this,null,function*(){n.Va.set("Online")})}function vz(n){return _(this,null,function*(){n.Ea.forEach((e,t)=>{AE(n,e)})})}function _z(n,e){return _(this,null,function*(){PM(n),NE(n)?(n.Va.Pa(e),RE(n)):n.Va.set("Unknown")})}function Iz(n,e,t){return _(this,null,function*(){if(n.Va.set("Online"),e instanceof cf&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){j(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vf(n,r)}else if(e instanceof Ls?n.ma.Xe(e):e instanceof af?n.ma.ot(e):n.ma.nt(e),!t.isEqual(X.min()))try{let r=yield RM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),MM(o,u);let p=new Xc(h.target,u,l,h.sequenceNumber);AE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){j(co,"Failed to raise snapshot:",r),yield vf(n,r)}})}function vf(n,e,t){return _(this,null,function*(){if(!Zs(e))throw e;n.da.add(1),yield lu(n),n.Va.set("Offline"),t||(t=()=>RM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){j(co,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield Uf(n)}))})}function xM(n,e){return e().catch(t=>vf(n,t,e))}function Bf(n){return _(this,null,function*(){let e=J(n),t=ai(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:yE;for(;Ez(e);)try{let i=yield fz(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,wz(e,i)}catch(i){yield vf(e,i)}kM(e)&&OM(e)})}function Ez(n){return uo(n)&&n.Ia.length<10}function wz(n,e){n.Ia.push(e);let t=ai(n);t.N_()&&t.ea&&t.ta(e.mutations)}function kM(n){return uo(n)&&!ai(n).O_()&&n.Ia.length>0}function OM(n){ai(n).start()}function Tz(n){return _(this,null,function*(){ai(n).ia()})}function Dz(n){return _(this,null,function*(){let e=ai(n);for(let t of n.Ia)e.ta(t.mutations)})}function bz(n,e,t){return _(this,null,function*(){let r=n.Ia.shift(),i=eI.from(r,e,t);yield xM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Bf(n)})}function Cz(n,e){return _(this,null,function*(){e&&ai(n).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return B4(s)&&s!==M.ABORTED}(i.code)){let o=r.Ia.shift();ai(r).L_(),yield xM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Bf(r)}})}(n,e)),kM(n)&&OM(n)})}function gN(n,e){return _(this,null,function*(){let t=J(n);t.asyncQueue.verifyOperationInProgress(),j(co,"RemoteStore received new credentials");let r=uo(t);t.da.add(3),yield lu(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield Uf(t)})}function Sz(n,e){return _(this,null,function*(){let t=J(n);e?(t.da.delete(2),yield Uf(t)):e||(t.da.add(2),yield lu(t),t.Va.set("Unknown"))})}function Xs(n){return n.fa||(n.fa=function(t,r,i){let o=J(t);return o.oa(),new jI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:yz.bind(null,n),n_:vz.bind(null,n),i_:_z.bind(null,n),Y_:Iz.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.fa.L_(),NE(n)?RE(n):n.Va.set("Unknown")):(yield n.fa.stop(),PM(n))}))),n.fa}function ai(n){return n.ga||(n.ga=function(t,r,i){let o=J(t);return o.oa(),new UI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:Tz.bind(null,n),i_:Cz.bind(null,n),na:Dz.bind(null,n),ra:bz.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.ga.L_(),yield Bf(n)):(yield n.ga.stop(),n.Ia.length>0&&(j(co,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var qI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ME(n,e){if(wr("AsyncQueue",`${e}: ${n}`),Zs(n))return new L(M.UNAVAILABLE,`${e}: ${n}`);throw n}var _f=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=Hc(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var If=class{constructor(){this.pa=new Ve(q.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):K(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},Gs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,_f.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var GI=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},WI=class{constructor(){this.queries=mN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=J(t),o=i.queries;i.queries=mN(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function mN(){return new Cr(n=>sM(n),Ff)}function PE(n,e){return _(this,null,function*(){let t=J(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new GI,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=ME(s,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&kE(t)})}function xE(n,e){return _(this,null,function*(){let t=J(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Az(n,e){let t=J(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&kE(t)}function Rz(n,e,t){let r=J(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function kE(n){n.Ca.forEach(e=>{e.next()})}var KI,yN;(yN=KI||(KI={})).xa="default",yN.Cache="cache";var nu=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==KI.Cache}};var Ef=class{constructor(e){this.key=e}},wf=class{constructor(e){this.key=e}},QI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=le(),this.mutatedKeys=le(),this.Za=aM(e),this.Xa=new _f(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new If,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Vf(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?w!==A&&(r.track({type:3,doc:y}),R=!0):this.ru(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,w){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Vt:R})}};return A(y)-A(w)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new Gs(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new If,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=le(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new wf(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Ef(r))}),t}au(e){this.Ha=e.$s,this.Ya=le();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Gs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},OE="SyncEngine",YI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},JI=class{constructor(e){this.key=e,this.cu=!1}},ZI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Cr(a=>sM(a),Ff),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ve(q.comparator),this.Eu=new Map,this.du=new tu,this.Au={},this.Ru=new Map,this.Vu=eu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function Nz(n,e,t=!0){return _(this,null,function*(){let r=BM(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield LM(r,e,t,!0),i})}function Mz(n,e){return _(this,null,function*(){let t=BM(n);yield LM(t,e,!0,!1)})}function LM(n,e,t,r){return _(this,null,function*(){let i=yield pz(n.localStore,Vn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Pz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&NM(n.remoteStore,i),a})}function Pz(n,e,t,r,i){return _(this,null,function*(){n.fu=(p,g,y)=>function(A,R,k,z){return _(this,null,function*(){let $=R.view.tu(k);$.Cs&&($=yield hN(A.localStore,R.query,!1).then(({documents:D})=>R.view.tu(D,$)));let pe=z&&z.targetChanges.get(R.targetId),Ze=z&&z.targetMismatches.get(R.targetId)!=null,ge=R.view.applyChanges($,A.isPrimaryClient,pe,Ze);return _N(A,R.targetId,ge.ou),ge.snapshot})}(n,p,g,y);let o=yield hN(n.localStore,e,!0),s=new QI(e,o.$s),a=s.tu(o.documents),u=Zc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);_N(n,t,l.ou);let h=new YI(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function xz(n,e,t){return _(this,null,function*(){let r=J(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Ff(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield PI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&SE(r.remoteStore,i.targetId),XI(r,i.targetId)}).catch(Js))):(XI(r,i.targetId),yield PI(r.localStore,i.targetId,!0))})}function kz(n,e){return _(this,null,function*(){let t=J(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),SE(t.remoteStore,r.targetId))})}function Oz(n,e,t){return _(this,null,function*(){let r=$z(n);try{let i=yield function(s,a){let u=J(s),l=nt.now(),h=a.reduce((y,w)=>y.add(w.key),le()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Sr(),A=le();return u.Bs.getEntries(y,h).next(R=>{w=R,w.forEach((k,z)=>{z.isValidDocument()||(A=A.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(R=>{p=R;let k=[];for(let z of a){let $=U4(z,p.get(z.key).overlayedDocument);$!=null&&k.push(new $n(z.key,$,eM($.value.mapValue),jn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(R=>{g=R;let k=R.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:g.batchId,changes:uM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new Ve(ae)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield du(r,i.changes),yield Bf(r.remoteStore)}catch(i){let o=ME(i,"Failed to persist write");t.reject(o)}})}function FM(n,e){return _(this,null,function*(){let t=J(n);try{let r=yield dz(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ve(s.cu,14607):i.removedDocuments.size>0&&(ve(s.cu,42227),s.cu=!1))}),yield du(t,r,e)}catch(r){yield Js(r)}})}function vN(n,e,t){let r=J(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=J(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(l=!0)}),l&&kE(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Lz(n,e,t){return _(this,null,function*(){let r=J(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ve(q.comparator);s=s.insert(o,pn.newNoDocument(o,X.min()));let a=le().add(o),u=new sf(X.min(),new Map,new Ve(ae),s,a);yield FM(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),LE(r)}else yield PI(r.localStore,e,!1).then(()=>XI(r,e,t)).catch(Js)})}function Fz(n,e){return _(this,null,function*(){let t=J(n),r=e.batch.batchId;try{let i=yield lz(t.localStore,e);jM(t,r,null),VM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield du(t,i)}catch(i){yield Js(i)}})}function Vz(n,e,t){return _(this,null,function*(){let r=J(n);try{let i=yield function(s,a){let u=J(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ve(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);jM(r,e,t),VM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield du(r,i)}catch(i){yield Js(i)}})}function VM(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function jM(n,e,t){let r=J(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function XI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||UM(n,r)})}function UM(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(SE(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),LE(n))}function _N(n,e,t){for(let r of t)r instanceof Ef?(n.du.addReference(r.key,e),jz(n,r)):r instanceof wf?(j(OE,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||UM(n,r.key)):K(19791,{pu:r})}function jz(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(j(OE,"New document in limbo: "+t),n.Tu.add(r),LE(n))}function LE(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new q(Re.fromString(e)),r=n.Vu.next();n.Eu.set(r,new JI(t)),n.Iu=n.Iu.insert(t,r),NM(n.remoteStore,new Xc(Vn(Lf(t.path)),r,"TargetPurposeLimboResolution",mE.le))}}function du(n,e,t){return _(this,null,function*(){let r=J(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=AI.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return _(this,null,function*(){let h=J(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,g=>P.forEach(g.ds,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>P.forEach(g.As,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Zs(p))throw p;j(CE,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.xs.get(g),w=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(w);h.xs=h.xs.insert(g,A)}}})}(r.localStore,o))})}function Uz(n,e){return _(this,null,function*(){let t=J(n);if(!t.currentUser.isEqual(e)){j(OE,"User change. New user:",e.toKey());let r=yield AM(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield du(t,r.ks)}})}function Bz(n,e){let t=J(n),r=t.Eu.get(e);if(r&&r.cu)return le().add(r.key);{let i=le(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function BM(n){let e=J(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lz.bind(null,e),e.lu.Y_=Az.bind(null,e.eventManager),e.lu.gu=Rz.bind(null,e.eventManager),e}function $z(n){let e=J(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vz.bind(null,e),e}var $M=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=jf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return uz(this.persistence,new NI,t.initialUser,this.serializer)}Su(t){return new hf(SI.fi,this.serializer)}bu(t){return new xI}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),eE=class extends $M{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ve(this.persistence.referenceDelegate instanceof ff,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new pI(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new hf(r=>ff.fi(r,t),this.serializer)}};var Hz=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uz.bind(null,this.syncEngine),yield Sz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new WI}()}createDatastore(t){let r=jf(t.databaseInfo.databaseId),i=function(s){return new VI(s)}(t.databaseInfo);return function(s,a,u,l){return new $I(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new zI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>vN(this.syncEngine,r,0),function(){return gf.C()?new gf:new kI}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new ZI(o,s,a,u,l,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=J(o);j(co,"RemoteStore shutting down."),s.da.add(5),yield lu(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var ru=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ci="FirestoreClient",tE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=Yh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){j(ci,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j(ci,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ME(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function S_(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),j(ci,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield AM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function IN(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield zz(n);j(ci,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>gN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>gN(e.remoteStore,i)),n._onlineComponents=e})}function zz(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){j(ci,"Using user provided OfflineComponentProvider");try{yield S_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Vs("Error using user provided cache. Falling back to memory cache: "+t),yield S_(n,new $M)}}else j(ci,"Using default OfflineComponentProvider"),yield S_(n,new eE(void 0));return n._offlineComponents})}function HM(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(j(ci,"Using user provided OnlineComponentProvider"),yield IN(n,n._uninitializedComponentsProvider._online)):(j(ci,"Using default OnlineComponentProvider"),yield IN(n,new Hz))),n._onlineComponents})}function qz(n){return HM(n).then(e=>e.syncEngine)}function Tf(n){return _(this,null,function*(){let e=yield HM(n),t=e.eventManager;return t.onListen=Nz.bind(null,e.syncEngine),t.onUnlisten=xz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Mz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kz.bind(null,e.syncEngine),t})}function Gz(n,e,t={}){let r=new fn;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new ru({next:g=>{h.xu(),s.enqueueAndForget(()=>xE(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new nu(Lf(a.path),h,{includeMetadataChanges:!0,Qa:!0});return PE(o,p)}(yield Tf(n),n.asyncQueue,e,t,r)})),r.promise}function Wz(n,e,t={}){let r=new fn;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new ru({next:g=>{h.xu(),s.enqueueAndForget(()=>xE(o,p)),g.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new nu(a,h,{includeMetadataChanges:!0,Qa:!0});return PE(o,p)}(yield Tf(n),n.asyncQueue,e,t,r)})),r.promise}function zM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var EN=new Map;function qM(n,e,t){if(!t)throw new L(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Kz(n,e,t,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wN(n){if(!q.isDocumentKey(n))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TN(n){if(q.isDocumentKey(n))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $f(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K(12329,{type:typeof n})}function kt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=$f(n);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Qz(n,e){if(e<=0)throw new L(M.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var GM="firestore.googleapis.com",DN=!0,Df=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GM,this.ssl=DN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sz)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ws=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Df({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Df(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A_;switch(r.type){case"firstParty":return new P_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=EN.get(t);r&&(j("ComponentProvider","Removing Datastore"),EN.delete(t),r.terminate())}(this),Promise.resolve()}};function Yz(n,e,t,r={}){var i;n=kt(n,Ws);let o=Qi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(ph(`https://${u}`),gh("Firestore",!0)),s.host!==GM&&s.host!==u&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Qt(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ye.MOCK_USER;else{h=fA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ye(g)}n._authCredentials=new R_(new Kh(h,p))}}var Hn=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},ht=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ni=class n extends Hn{constructor(e,t,r){super(e,t,Lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function WZ(n,e,...t){if(n=ke(n),qM("collection","path",e),n instanceof Ws){let r=Re.fromString(e,...t);return TN(r),new ni(n,null,r)}{if(!(n instanceof ht||n instanceof ni))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Re.fromString(e,...t));return TN(r),new ni(n.firestore,null,r)}}function Jz(n,e,...t){if(n=ke(n),arguments.length===1&&(e=Yh.newId()),qM("doc","path",e),n instanceof Ws){let r=Re.fromString(e,...t);return wN(r),new ht(n,null,new q(r))}{if(!(n instanceof ht||n instanceof ni))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Re.fromString(e,...t));return wN(r),new ht(n.firestore,n instanceof ni?n.converter:null,new q(r))}}var bN="AsyncQueue",bf=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new mf(this,"async_queue_retry"),this.rc=()=>{let r=C_();r&&j(bN,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=C_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=C_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new fn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Zs(e))throw e;j(bN,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,wr("INTERNAL UNHANDLED ERROR: ",CN(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=qI.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&K(47125,{cc:CN(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function CN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function SN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var mn=class extends Ws{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new bf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new bf(e),this._firestoreClient=void 0,yield e}})}};function WM(n,e){let t=typeof n=="object"?n:vh(),r=typeof n=="string"?n:e||ef,i=xc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hA("firestore");o&&Yz(i,...o)}return i}function Hf(n){if(n._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Zz(n),n._firestoreClient}function Zz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new F_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new tE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var iu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ft.fromBase64String(e))}catch(t){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ks=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ar=class{constructor(e){this._methodName=e}};var ou=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var su=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Xz=/^__.*__$/,nE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $n(e,this.data,this.fieldMask,t,this.fieldTransforms):new ao(e,this.data,t,this.fieldTransforms)}},Cf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $n(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function KM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{Ic:n})}}var Sf=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Rf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(KM(this.Ic)&&Xz.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},rE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jf(e)}bc(e,t,r,i=!1){return new Sf({Ic:e,methodName:t,wc:r,path:$t.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function hu(n){let e=n._freezeSettings(),t=jf(n._databaseId);return new rE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QM(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);FE("Data must be an object, but it was:",s,r);let a=ZM(r,s),u,l;if(o.merge)u=new Xt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=cE(e,p,t);if(!s.contains(g))throw new L(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);eP(h,g)||h.push(g)}u=new Xt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new nE(new Bt(a),u,l)}var Af=class n extends Ar{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function YM(n,e,t){return new Sf({Ic:3,wc:e.settings.wc,methodName:n._methodName,Rc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var iE=class n extends Ar{_toFieldTransform(e){return new zs(e.path,new oo)}isEqual(e){return e instanceof n}},oE=class n extends Ar{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){let t=YM(this,e,!0),r=this.Sc.map(o=>lo(o,t)),i=new oi(r);return new zs(e.path,i)}isEqual(e){return e instanceof n&&Qt(this.Sc,e.Sc)}},sE=class n extends Ar{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){let t=YM(this,e,!0),r=this.Sc.map(o=>lo(o,t)),i=new si(r);return new zs(e.path,i)}isEqual(e){return e instanceof n&&Qt(this.Sc,e.Sc)}},aE=class n extends Ar{constructor(e,t){super(e),this.Dc=t}_toFieldTransform(e){let t=new so(e.serializer,hM(e.serializer,this.Dc));return new zs(e.path,t)}isEqual(e){return e instanceof n&&this.Dc===e.Dc}};function eq(n,e,t,r){let i=n.bc(1,e,t);FE("Data must be an object, but it was:",i,r);let o=[],s=Bt.empty();ui(r,(u,l)=>{let h=VE(e,u,t);l=ke(l);let p=i.mc(h);if(l instanceof Af)o.push(h);else{let g=lo(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new Xt(o);return new Cf(s,a,i.fieldTransforms)}function tq(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[cE(e,r,t)],u=[i];if(o.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(cE(e,o[g])),u.push(o[g+1]);let l=[],h=Bt.empty();for(let g=a.length-1;g>=0;--g)if(!eP(l,a[g])){let y=a[g],w=u[g];w=ke(w);let A=s.mc(y);if(w instanceof Af)l.push(y);else{let R=lo(w,A);R!=null&&(l.push(y),h.set(y,R))}}let p=new Xt(l);return new Cf(h,p,s.fieldTransforms)}function JM(n,e,t,r=!1){return lo(t,n.bc(r?4:3,e))}function lo(n,e){if(XM(n=ke(n)))return FE("Unsupported field value:",e,n),ZM(n,e);if(n instanceof Ar)return function(r,i){if(!KM(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=lo(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=nt.fromDate(r);return{timestampValue:lf(i.serializer,o)}}if(r instanceof nt){let o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lf(i.serializer,o)}}if(r instanceof ou)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof iu)return{bytesValue:IM(i.serializer,r._byteString)};if(r instanceof ht){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof su)return function(s,a){return{mapValue:{fields:{[vE]:{stringValue:_E},[Us]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return DE(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${$f(r)}`)}(n,e)}function ZM(n,e){let t={};return GN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(n,(r,i)=>{let o=lo(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function XM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nt||n instanceof ou||n instanceof iu||n instanceof ht||n instanceof Ar||n instanceof su)}function FE(n,e,t){if(!XM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=$f(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function cE(n,e,t){if((e=ke(e))instanceof Ks)return e._internalPath;if(typeof e=="string")return VE(n,e);throw Rf("Field path arguments must be of type string or ",n,!1,void 0,t)}var nq=new RegExp("[~\\*/\\[\\]]");function VE(n,e,t){if(e.search(nq)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ks(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+n+u)}function eP(n,e){return n.some(t=>t.isEqual(e))}var au=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new uE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(zf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},uE=class extends au{data(){return super.data()}};function zf(n,e){return typeof e=="string"?VE(n,e):e instanceof Ks?e._internalPath:e._delegate._internalPath}function tP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cu=class{},Qs=class extends cu{};function KZ(n,e,...t){let r=[];e instanceof cu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof lE).length,a=o.filter(u=>u instanceof Nf).length;if(s>1||s>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Nf=class n extends Qs{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return nP(e._query,t),new Hn(e.firestore,e.converter,Y_(e._query,t))}_parse(e){let t=hu(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){RN(p,h);let w=[];for(let A of p)w.push(AN(u,o,A));g={arrayValue:{values:w}}}else g=AN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||RN(p,h),g=JM(a,s,p,h==="in"||h==="not-in");return ze.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function QZ(n,e,t){let r=e,i=zf("where",n);return Nf._create(i,r,t)}var lE=class n extends cu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:gn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)nP(s,u),s=Y_(s,u)}(e._query,t),new Hn(e.firestore,e.converter,Y_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var dE=class n extends Qs{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new io(o,s)}(e._query,this._field,this._direction);return new Hn(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new br(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function YZ(n,e="asc"){let t=e,r=zf("orderBy",n);return dE._create(r,t)}var hE=class n extends Qs{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Hn(e.firestore,e.converter,of(e._query,this._limit,this._limitType))}};function JZ(n){return Qz("limit",n),hE._create("limit",n,"F")}var fE=class n extends Qs{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=rq(e,this.type,this._docOrFields,this._inclusive);return new Hn(e.firestore,e.converter,function(i,o){return new br(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}};function ZZ(...n){return fE._create("startAfter",n,!1)}function rq(n,e,t,r){if(t[0]=ke(t[0]),t[0]instanceof au)return function(o,s,a,u,l){if(!u)throw new L(M.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let p of Os(o))if(p.field.isKeyField())h.push(nf(s,u.key));else{let g=u.data.field(p.field);if(kf(g))throw new L(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let y=p.field.canonicalString();throw new L(M.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new ii(h,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=hu(n.firestore);return function(s,a,u,l,h,p){let g=s.explicitOrderBy;if(h.length>g.length)throw new L(M.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let y=[];for(let w=0;w<h.length;w++){let A=h[w];if(g[w].field.isKeyField()){if(typeof A!="string")throw new L(M.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof A}`);if(!TE(s)&&A.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${A}' contains a slash.`);let R=s.path.child(Re.fromString(A));if(!q.isDocumentKey(R))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);let k=new q(R);y.push(nf(a,k))}else{let R=JM(u,l,A);y.push(R)}}return new ii(y,p)}(n._query,n.firestore._databaseId,i,e,t,r)}}function AN(n,e,t){if(typeof(t=ke(t))=="string"){if(t==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TE(e)&&t.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Re.fromString(t));if(!q.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nf(n,new q(r))}if(t instanceof ht)return nf(n,t._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$f(t)}.`)}function RN(n,e){if(!Array.isArray(n)||n.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nP(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var pE=class{convertValue(e,t="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ui(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Us].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new su(o)}convertGeoPoint(e){return new ou(Ae(e.latitude),Ae(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Of(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){let t=Tr(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Re.fromString(e);ve(CM(r),9688,{name:e});let i=new tf(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||wr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function rP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var to=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mf=class extends au{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Fs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(zf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Fs=class extends Mf{data(e={}){return super.data(e)}},Pf=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new to(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Fs(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Fs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new to(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Fs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new to(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:iq(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function iq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:n})}}function XZ(n){n=kt(n,ht);let e=kt(n.firestore,mn);return Gz(Hf(e),n._key).then(t=>iP(e,n,t))}var uu=class extends pE{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,t)}};function eX(n){n=kt(n,Hn);let e=kt(n.firestore,mn),t=Hf(e),r=new uu(e);return tP(n._query),Wz(t,n._query).then(i=>new Pf(e,r,n,i))}function tX(n,e,t){n=kt(n,ht);let r=kt(n.firestore,mn),i=rP(n.converter,e,t);return qf(r,[QM(hu(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,jn.none())])}function nX(n,e,t,...r){n=kt(n,ht);let i=kt(n.firestore,mn),o=hu(i),s;return s=typeof(e=ke(e))=="string"||e instanceof Ks?tq(o,"updateDoc",n._key,e,t,r):eq(o,"updateDoc",n._key,e),qf(i,[s.toMutation(n._key,jn.exists(!0))])}function rX(n){return qf(kt(n.firestore,mn),[new Jc(n._key,jn.none())])}function iX(n,e){let t=kt(n.firestore,mn),r=Jz(n),i=rP(n.converter,e);return qf(t,[QM(hu(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function oX(n,...e){var t,r,i;n=ke(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||SN(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(SN(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof ht)l=kt(n.firestore,mn),h=Lf(n._key.path),u={next:p=>{e[s]&&e[s](iP(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=kt(n,Hn);l=kt(p.firestore,mn),h=p._query;let g=new uu(l);u={next:y=>{e[s]&&e[s](new Pf(l,g,p,y))},error:e[s+1],complete:e[s+2]},tP(n._query)}return function(g,y,w,A){let R=new ru(A),k=new nu(y,R,w);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return PE(yield Tf(g),k)})),()=>{R.xu(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return xE(yield Tf(g),k)}))}}(Hf(l),h,a,u)}function qf(n,e){return function(r,i){let o=new fn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Oz(yield qz(r),i,o)})),o.promise}(Hf(n),e)}function iP(n,e,t){let r=t.docs.get(e._key),i=new uu(n);return new Mf(n,i,e._key,r,new to(t.hasPendingWrites,t.fromCache),e.converter)}function sX(){return new iE("serverTimestamp")}function aX(...n){return new oE("arrayUnion",n)}function cX(...n){return new sE("arrayRemove",n)}function uX(n){return new aE("increment",n)}(function(e,t=!0){(function(i){Ys=i})(Jr),Yr(new Yt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new mn(new N_(r.getProvider("auth-internal")),new x_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),dn(VR,jR,e),dn(VR,jR,"esm2017")})();var oP={production:!1,firebaseConfig:{apiKey:"AIzaSyAKqYVW7EJNu2LZ_Do4veO6a5ELLruP3OY",authDomain:"penpals-a583f.firebaseapp.com",projectId:"penpals-a583f",storageBucket:"penpals-a583f.firebasestorage.app",messagingSenderId:"437168846611",appId:"1:437168846611:web:1b2d0d381745e2b6538ce6"},cloudName:"dzinsxvvw",uploadPreset:"dhairya_preset"};var sP=class n{app;auth;firestore;constructor(){this.app=$v(oP.firebaseConfig),this.auth=y_(this.app),this.firestore=WM(this.app),console.log("Firebase initialized!")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};export{Le as a,de as b,Ne as c,tt as d,Cp as e,ux as f,Ia as g,Ea as h,Se as i,W as j,Sp as k,se as l,wa as m,Me as n,Xu as o,lx as p,Ap as q,yt as r,Kn as s,aT as t,Yn as u,ax as v,vx as w,Qu as x,wt as y,Pp as z,et as A,V as B,pD as C,U as D,ki as E,B as F,H as G,x as H,mm as I,Oi as J,at as K,Rt as L,kD as M,Zo as N,uW as O,lW as P,dW as Q,hW as R,Om as S,Lt as T,Fi as U,fW as V,Ct as W,Pe as X,_b as Y,Sn as Z,pW as _,rs as $,sn as aa,gW as ba,WO as ca,mW as da,yW as ea,Pi as fa,os as ga,Te as ha,CC as ia,ji as ja,An as ka,py as la,aF as ma,yF as na,ss as oa,Iy as pa,FF as qa,VF as ra,jF as sa,SW as ta,AW as ua,RW as va,WC as wa,KC as xa,Ey as ya,QC as za,YC as Aa,XF as Ba,NW as Ca,wy as Da,MW as Ea,PW as Fa,xW as Ga,lV as Ha,ZC as Ia,dV as Ja,kW as Ka,hV as La,fV as Ma,OW as Na,LW as Oa,gV as Pa,XC as Qa,mV as Ra,yV as Sa,FW as Ta,vV as Ua,VW as Va,jW as Wa,UW as Xa,BW as Ya,$W as Za,HW as _a,zW as $a,qW as ab,GW as bb,$a as cb,WW as db,KW as eb,QW as fb,as as gb,Qa as hb,UV as ib,Cy as jb,YW as kb,BV as lb,Ue as mb,ur as nb,a2 as ob,NS as pb,c2 as qb,u2 as rb,l2 as sb,f2 as tb,g2 as ub,kS as vb,m2 as wb,Cd as xb,M2 as yb,e0 as zb,ij as Ab,oj as Bb,Kt as Cb,xn as Db,dv as Eb,kn as Fb,W0 as Gb,LU as Hb,FU as Ib,lA as Jb,dh as Kb,Sv as Lb,fr as Mb,Yt as Nb,Kr as Ob,Yr as Pb,$v as Qb,vh as Rb,tJ as Sb,dn as Tb,V$ as Ub,$$ as Vb,H$ as Wb,q$ as Xb,G$ as Yb,W$ as Zb,pH as _b,y_ as $b,nt as ac,WZ as bc,Jz as cc,WM as dc,KZ as ec,QZ as fc,YZ as gc,JZ as hc,ZZ as ic,XZ as jc,eX as kc,tX as lc,nX as mc,rX as nc,iX as oc,oX as pc,sX as qc,aX as rc,cX as sc,uX as tc,sP as uc};
