<div class="min-h-screen flex items-center justify-center bg-gray-100 p-4">
    <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-md">
        <h2 class="text-2xl font-bold text-center mb-6">Create Your Account</h2>

        <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
            <div class="mb-4">
                <label for="username" class="block text-gray-700 text-sm font-bold mb-2">Username</label>
                <input type="text" id="username" formControlName="username"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    [class.border-red-500]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
                    placeholder="Choose a username">
                <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
                    class="text-red-500 text-xs mt-1">
                    <div *ngIf="registerForm.get('username')?.errors?.['required']">Username is required.</div>
                </div>
            </div>

            <div class="mb-4">
                <label for="email" class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                <input type="email" id="email" formControlName="email"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                    [class.border-red-500]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
                    placeholder="Enter your email">
                <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
                    class="text-red-500 text-xs mt-1">
                    <div *ngIf="registerForm.get('email')?.errors?.['required']">Email is required.</div>
                    <div *ngIf="registerForm.get('email')?.errors?.['email']">Please enter a valid email address.</div>
                </div>
            </div>

            <div class="mb-4">
                <label for="password" class="block text-gray-700 text-sm font-bold mb-2">Password</label>
                <input type="password" id="password" formControlName="password"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"
                    [class.border-red-500]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
                    placeholder="********">
                <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
                    class="text-red-500 text-xs mt-1">
                    <div *ngIf="registerForm.get('password')?.errors?.['required']">Password is required.</div>
                    <div *ngIf="registerForm.get('password')?.errors?.['minlength']">Password must be at least 6
                        characters.</div>
                </div>
                <p class="text-xs text-gray-500 mt-1">Password strength: (Placeholder)</p>
            </div>

            <div class="mb-6">
                <label for="confirmPassword" class="block text-gray-700 text-sm font-bold mb-2">Confirm Password</label>
                <input type="password" id="confirmPassword" formControlName="confirmPassword"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"
                    [class.border-red-500]="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched || registerForm.errors?.['passwordMismatch']"
                    placeholder="********">
                <div *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched"
                    class="text-red-500 text-xs mt-1">
                    <div *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">Confirm Password is required.
                    </div>
                </div>
                <div *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.get('confirmPassword')?.touched"
                    class="text-red-500 text-xs mt-1">
                    Passwords do not match.
                </div>
            </div>

            <div class="mb-6">
                <label class="flex items-center text-gray-700 text-sm">
                    <input type="checkbox" formControlName="termsAccepted"
                        class="form-checkbox h-4 w-4 text-blue-600 rounded">
                    <span class="ml-2">I agree to the <a href="#" class="text-blue-500 hover:text-blue-800">Terms and
                            Conditions</a></span>
                </label>
                <div *ngIf="registerForm.get('termsAccepted')?.invalid && registerForm.get('termsAccepted')?.touched"
                    class="text-red-500 text-xs mt-1">
                    You must accept the terms and conditions.
                </div>
            </div>

            <div *ngIf="errorMessage"
                class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
                <span class="block sm:inline">{{ errorMessage }}</span>
            </div>
            <div *ngIf="successMessage"
                class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4"
                role="alert">
                <span class="block sm:inline">{{ successMessage }}</span>
            </div>

            <button type="submit" [disabled]="registerForm.invalid || isLoading"
                class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full disabled:opacity-50 disabled:cursor-not-allowed">
                <span *ngIf="!isLoading">Register</span>
                <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
            </button>
        </form>

        <div class="mt-6 text-center">
            <p class="text-gray-600">Or register with:</p>
            <div class="flex justify-center space-x-4 mt-4">
                <button (click)="signInWithGoogle()" [disabled]="isLoading"
                    class="flex items-center bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50 disabled:cursor-not-allowed">
                    <img src="[https://upload.wikimedia.org/wikipedia/commons/4/4a/Logo_Google_2020_-_%28Stacked%29.png](https://upload.wikimedia.org/wikipedia/commons/4/4a/Logo_Google_2020_-_%28Stacked%29.png)"
                        alt="Google" class="w-5 h-5 mr-2">
                    Google
                </button>
                <button (click)="signInWithFacebook()" [disabled]="isLoading"
                    class="flex items-center bg-blue-800 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50 disabled:cursor-not-allowed">
                    <img src="[https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg](https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg)"
                        alt="Facebook" class="w-5 h-5 mr-2">
                    Facebook
                </button>
            </div>
        </div>

        <p class="text-center text-gray-600 text-sm mt-6">
            Already have an account?
            <a routerLink="/login" class="font-bold text-blue-500 hover:text-blue-800">Login here</a>
        </p>
    </div>
</div>